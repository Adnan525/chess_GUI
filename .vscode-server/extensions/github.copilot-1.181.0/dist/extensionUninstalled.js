"use strict";var ZU=Object.create;var sm=Object.defineProperty;var QU=Object.getOwnPropertyDescriptor;var eq=Object.getOwnPropertyNames;var tq=Object.getPrototypeOf,rq=Object.prototype.hasOwnProperty;var nq=(e,t,r)=>t in e?sm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>sm(e,"name",{value:t,configurable:!0});var y0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var iq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of eq(t))!rq.call(e,s)&&s!==r&&sm(e,s,{get:()=>t[s],enumerable:!(n=QU(t,s))||n.enumerable});return e};var _n=(e,t,r)=>(r=e!=null?ZU(tq(e)):{},iq(t||!e||!e.__esModule?sm(r,"default",{value:e,enumerable:!0}):r,e));var ia=(e,t,r)=>(nq(e,typeof t!="symbol"?t+"":t,r),r),U_=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var P0=(e,t,r)=>(U_(e,t,"read from private field"),r?r.call(e):t.get(e)),qi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ii=(e,t,r,n)=>(U_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var cl=(e,t,r)=>(U_(e,t,"access private method"),r);var ql=y0(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.Type=Me.JsonType=Me.JavaScriptTypeBuilder=Me.JsonTypeBuilder=Me.TypeBuilder=Me.TypeBuilderError=Me.TransformEncodeBuilder=Me.TransformDecodeBuilder=Me.TemplateLiteralDslParser=Me.TemplateLiteralGenerator=Me.TemplateLiteralGeneratorError=Me.TemplateLiteralFinite=Me.TemplateLiteralFiniteError=Me.TemplateLiteralParser=Me.TemplateLiteralParserError=Me.TemplateLiteralResolver=Me.TemplateLiteralPattern=Me.TemplateLiteralPatternError=Me.UnionResolver=Me.KeyArrayResolver=Me.KeyArrayResolverError=Me.KeyResolver=Me.ObjectMap=Me.Intrinsic=Me.IndexedAccessor=Me.TypeClone=Me.TypeExtends=Me.TypeExtendsResult=Me.TypeExtendsError=Me.ExtendsUndefined=Me.TypeGuard=Me.TypeGuardUnknownTypeError=Me.ValueGuard=Me.FormatRegistry=Me.TypeBoxError=Me.TypeRegistry=Me.PatternStringExact=Me.PatternNumberExact=Me.PatternBooleanExact=Me.PatternString=Me.PatternNumber=Me.PatternBoolean=Me.Kind=Me.Hint=Me.Optional=Me.Readonly=Me.Transform=void 0;Me.Transform=Symbol.for("TypeBox.Transform");Me.Readonly=Symbol.for("TypeBox.Readonly");Me.Optional=Symbol.for("TypeBox.Optional");Me.Hint=Symbol.for("TypeBox.Hint");Me.Kind=Symbol.for("TypeBox.Kind");Me.PatternBoolean="(true|false)";Me.PatternNumber="(0|[1-9][0-9]*)";Me.PatternString="(.*)";Me.PatternBooleanExact=`^${Me.PatternBoolean}$`;Me.PatternNumberExact=`^${Me.PatternNumber}$`;Me.PatternStringExact=`^${Me.PatternString}$`;var q_;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(q_||(Me.TypeRegistry=q_={}));var z_=class z_ extends Error{constructor(t){super(t)}};o(z_,"TypeBoxError");var _1=z_;Me.TypeBoxError=_1;var MA;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(MA||(Me.FormatRegistry=MA={}));var Y0;(function(e){function t(h){return Array.isArray(h)}o(t,"IsArray"),e.IsArray=t;function r(h){return typeof h=="bigint"}o(r,"IsBigInt"),e.IsBigInt=r;function n(h){return typeof h=="boolean"}o(n,"IsBoolean"),e.IsBoolean=n;function s(h){return h instanceof globalThis.Date}o(s,"IsDate"),e.IsDate=s;function l(h){return h===null}o(l,"IsNull"),e.IsNull=l;function a(h){return typeof h=="number"}o(a,"IsNumber"),e.IsNumber=a;function f(h){return typeof h=="object"&&h!==null}o(f,"IsObject"),e.IsObject=f;function c(h){return typeof h=="string"}o(c,"IsString"),e.IsString=c;function u(h){return h instanceof globalThis.Uint8Array}o(u,"IsUint8Array"),e.IsUint8Array=u;function d(h){return h===void 0}o(d,"IsUndefined"),e.IsUndefined=d})(Y0||(Me.ValueGuard=Y0={}));var G_=class G_ extends _1{};o(G_,"TypeGuardUnknownTypeError");var $_=G_;Me.TypeGuardUnknownTypeError=$_;var Ue;(function(e){function t(le){try{return new RegExp(le),!0}catch{return!1}}o(t,"IsPattern");function r(le){if(!Y0.IsString(le))return!1;for(let Dr=0;Dr<le.length;Dr++){let Qt=le.charCodeAt(Dr);if(Qt>=7&&Qt<=13||Qt===27||Qt===127)return!1}return!0}o(r,"IsControlCharacterFree");function n(le){return a(le)||Cr(le)}o(n,"IsAdditionalProperties");function s(le){return Y0.IsUndefined(le)||Y0.IsBigInt(le)}o(s,"IsOptionalBigInt");function l(le){return Y0.IsUndefined(le)||Y0.IsNumber(le)}o(l,"IsOptionalNumber");function a(le){return Y0.IsUndefined(le)||Y0.IsBoolean(le)}o(a,"IsOptionalBoolean");function f(le){return Y0.IsUndefined(le)||Y0.IsString(le)}o(f,"IsOptionalString");function c(le){return Y0.IsUndefined(le)||Y0.IsString(le)&&r(le)&&t(le)}o(c,"IsOptionalPattern");function u(le){return Y0.IsUndefined(le)||Y0.IsString(le)&&r(le)}o(u,"IsOptionalFormat");function d(le){return Y0.IsUndefined(le)||Cr(le)}o(d,"IsOptionalSchema");function h(le){return V(le,"Any")&&f(le.$id)}o(h,"TAny"),e.TAny=h;function m(le){return V(le,"Array")&&le.type==="array"&&f(le.$id)&&Cr(le.items)&&l(le.minItems)&&l(le.maxItems)&&a(le.uniqueItems)&&d(le.contains)&&l(le.minContains)&&l(le.maxContains)}o(m,"TArray"),e.TArray=m;function p(le){return V(le,"AsyncIterator")&&le.type==="AsyncIterator"&&f(le.$id)&&Cr(le.items)}o(p,"TAsyncIterator"),e.TAsyncIterator=p;function v(le){return V(le,"BigInt")&&le.type==="bigint"&&f(le.$id)&&s(le.exclusiveMaximum)&&s(le.exclusiveMinimum)&&s(le.maximum)&&s(le.minimum)&&s(le.multipleOf)}o(v,"TBigInt"),e.TBigInt=v;function x(le){return V(le,"Boolean")&&le.type==="boolean"&&f(le.$id)}o(x,"TBoolean"),e.TBoolean=x;function E(le){return V(le,"Constructor")&&le.type==="Constructor"&&f(le.$id)&&Y0.IsArray(le.parameters)&&le.parameters.every(Dr=>Cr(Dr))&&Cr(le.returns)}o(E,"TConstructor"),e.TConstructor=E;function I(le){return V(le,"Date")&&le.type==="Date"&&f(le.$id)&&l(le.exclusiveMaximumTimestamp)&&l(le.exclusiveMinimumTimestamp)&&l(le.maximumTimestamp)&&l(le.minimumTimestamp)&&l(le.multipleOfTimestamp)}o(I,"TDate"),e.TDate=I;function P(le){return V(le,"Function")&&le.type==="Function"&&f(le.$id)&&Y0.IsArray(le.parameters)&&le.parameters.every(Dr=>Cr(Dr))&&Cr(le.returns)}o(P,"TFunction"),e.TFunction=P;function L(le){return V(le,"Integer")&&le.type==="integer"&&f(le.$id)&&l(le.exclusiveMaximum)&&l(le.exclusiveMinimum)&&l(le.maximum)&&l(le.minimum)&&l(le.multipleOf)}o(L,"TInteger"),e.TInteger=L;function F(le){return V(le,"Intersect")&&!(Y0.IsString(le.type)&&le.type!=="object")&&Y0.IsArray(le.allOf)&&le.allOf.every(Dr=>Cr(Dr)&&!O0(Dr))&&f(le.type)&&(a(le.unevaluatedProperties)||d(le.unevaluatedProperties))&&f(le.$id)}o(F,"TIntersect"),e.TIntersect=F;function B(le){return V(le,"Iterator")&&le.type==="Iterator"&&f(le.$id)&&Cr(le.items)}o(B,"TIterator"),e.TIterator=B;function V(le,Dr){return de(le)&&le[Me.Kind]===Dr}o(V,"TKindOf"),e.TKindOf=V;function de(le){return Y0.IsObject(le)&&Me.Kind in le&&Y0.IsString(le[Me.Kind])}o(de,"TKind"),e.TKind=de;function ve(le){return r0(le)&&Y0.IsString(le.const)}o(ve,"TLiteralString"),e.TLiteralString=ve;function n0(le){return r0(le)&&Y0.IsNumber(le.const)}o(n0,"TLiteralNumber"),e.TLiteralNumber=n0;function d0(le){return r0(le)&&Y0.IsBoolean(le.const)}o(d0,"TLiteralBoolean"),e.TLiteralBoolean=d0;function r0(le){return V(le,"Literal")&&f(le.$id)&&(Y0.IsBoolean(le.const)||Y0.IsNumber(le.const)||Y0.IsString(le.const))}o(r0,"TLiteral"),e.TLiteral=r0;function m0(le){return V(le,"Never")&&Y0.IsObject(le.not)&&Object.getOwnPropertyNames(le.not).length===0}o(m0,"TNever"),e.TNever=m0;function $e(le){return V(le,"Not")&&Cr(le.not)}o($e,"TNot"),e.TNot=$e;function we(le){return V(le,"Null")&&le.type==="null"&&f(le.$id)}o(we,"TNull"),e.TNull=we;function o0(le){return V(le,"Number")&&le.type==="number"&&f(le.$id)&&l(le.exclusiveMaximum)&&l(le.exclusiveMinimum)&&l(le.maximum)&&l(le.minimum)&&l(le.multipleOf)}o(o0,"TNumber"),e.TNumber=o0;function u0(le){return V(le,"Object")&&le.type==="object"&&f(le.$id)&&Y0.IsObject(le.properties)&&n(le.additionalProperties)&&l(le.minProperties)&&l(le.maxProperties)&&Object.entries(le.properties).every(([Dr,Qt])=>r(Dr)&&Cr(Qt))}o(u0,"TObject"),e.TObject=u0;function l0(le){return V(le,"Promise")&&le.type==="Promise"&&f(le.$id)&&Cr(le.item)}o(l0,"TPromise"),e.TPromise=l0;function N0(le){return V(le,"Record")&&le.type==="object"&&f(le.$id)&&n(le.additionalProperties)&&Y0.IsObject(le.patternProperties)&&(Dr=>{let Qt=Object.getOwnPropertyNames(Dr.patternProperties);return Qt.length===1&&t(Qt[0])&&Y0.IsObject(Dr.patternProperties)&&Cr(Dr.patternProperties[Qt[0]])})(le)}o(N0,"TRecord"),e.TRecord=N0;function t0(le){return Y0.IsObject(le)&&Me.Hint in le&&le[Me.Hint]==="Recursive"}o(t0,"TRecursive"),e.TRecursive=t0;function f0(le){return V(le,"Ref")&&f(le.$id)&&Y0.IsString(le.$ref)}o(f0,"TRef"),e.TRef=f0;function ce(le){return V(le,"String")&&le.type==="string"&&f(le.$id)&&l(le.minLength)&&l(le.maxLength)&&c(le.pattern)&&u(le.format)}o(ce,"TString"),e.TString=ce;function Se(le){return V(le,"Symbol")&&le.type==="symbol"&&f(le.$id)}o(Se,"TSymbol"),e.TSymbol=Se;function C0(le){return V(le,"TemplateLiteral")&&le.type==="string"&&Y0.IsString(le.pattern)&&le.pattern[0]==="^"&&le.pattern[le.pattern.length-1]==="$"}o(C0,"TTemplateLiteral"),e.TTemplateLiteral=C0;function z0(le){return V(le,"This")&&f(le.$id)&&Y0.IsString(le.$ref)}o(z0,"TThis"),e.TThis=z0;function O0(le){return Y0.IsObject(le)&&Me.Transform in le}o(O0,"TTransform"),e.TTransform=O0;function v0(le){return V(le,"Tuple")&&le.type==="array"&&f(le.$id)&&Y0.IsNumber(le.minItems)&&Y0.IsNumber(le.maxItems)&&le.minItems===le.maxItems&&(Y0.IsUndefined(le.items)&&Y0.IsUndefined(le.additionalItems)&&le.minItems===0||Y0.IsArray(le.items)&&le.items.every(Dr=>Cr(Dr)))}o(v0,"TTuple"),e.TTuple=v0;function Jt(le){return V(le,"Undefined")&&le.type==="undefined"&&f(le.$id)}o(Jt,"TUndefined"),e.TUndefined=Jt;function ue(le){return B0(le)&&le.anyOf.every(Dr=>ve(Dr)||n0(Dr))}o(ue,"TUnionLiteral"),e.TUnionLiteral=ue;function B0(le){return V(le,"Union")&&f(le.$id)&&Y0.IsObject(le)&&Y0.IsArray(le.anyOf)&&le.anyOf.every(Dr=>Cr(Dr))}o(B0,"TUnion"),e.TUnion=B0;function Ve(le){return V(le,"Uint8Array")&&le.type==="Uint8Array"&&f(le.$id)&&l(le.minByteLength)&&l(le.maxByteLength)}o(Ve,"TUint8Array"),e.TUint8Array=Ve;function L0(le){return V(le,"Unknown")&&f(le.$id)}o(L0,"TUnknown"),e.TUnknown=L0;function D0(le){return V(le,"Unsafe")}o(D0,"TUnsafe"),e.TUnsafe=D0;function G0(le){return V(le,"Void")&&le.type==="void"&&f(le.$id)}o(G0,"TVoid"),e.TVoid=G0;function hr(le){return Y0.IsObject(le)&&le[Me.Readonly]==="Readonly"}o(hr,"TReadonly"),e.TReadonly=hr;function Vr(le){return Y0.IsObject(le)&&le[Me.Optional]==="Optional"}o(Vr,"TOptional"),e.TOptional=Vr;function Cr(le){return Y0.IsObject(le)&&(h(le)||m(le)||x(le)||v(le)||p(le)||E(le)||I(le)||P(le)||L(le)||F(le)||B(le)||r0(le)||m0(le)||$e(le)||we(le)||o0(le)||u0(le)||l0(le)||N0(le)||f0(le)||ce(le)||Se(le)||C0(le)||z0(le)||v0(le)||Jt(le)||B0(le)||Ve(le)||L0(le)||D0(le)||G0(le)||de(le)&&q_.Has(le[Me.Kind]))}o(Cr,"TSchema"),e.TSchema=Cr})(Ue||(Me.TypeGuard=Ue={}));var UA;(function(e){function t(r){return r[Me.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[Me.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[Me.Kind]==="Undefined"?!0:r[Me.Kind]==="Not"?!t(r.not):!1}o(t,"Check"),e.Check=t})(UA||(Me.ExtendsUndefined=UA={}));var K_=class K_ extends _1{};o(K_,"TypeExtendsError");var om=K_;Me.TypeExtendsError=om;var T0;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(T0||(Me.TypeExtendsResult=T0={}));var Y2;(function(e){function t(Q){return Q===T0.False?Q:T0.True}o(t,"IntoBooleanResult");function r(Q){throw new om(Q)}o(r,"Throw");function n(Q){return Ue.TNever(Q)||Ue.TIntersect(Q)||Ue.TUnion(Q)||Ue.TUnknown(Q)||Ue.TAny(Q)}o(n,"IsStructuralRight");function s(Q,se){return Ue.TNever(se)?V(Q,se):Ue.TIntersect(se)?P(Q,se):Ue.TUnion(se)?Gs(Q,se):Ue.TUnknown(se)?wl(Q,se):Ue.TAny(se)?l(Q,se):r("StructuralRight")}o(s,"StructuralRight");function l(Q,se){return T0.True}o(l,"TAnyRight");function a(Q,se){return Ue.TIntersect(se)?P(Q,se):Ue.TUnion(se)&&se.anyOf.some(tn=>Ue.TAny(tn)||Ue.TUnknown(tn))?T0.True:Ue.TUnion(se)?T0.Union:Ue.TUnknown(se)||Ue.TAny(se)?T0.True:T0.Union}o(a,"TAny");function f(Q,se){return Ue.TUnknown(Q)?T0.False:Ue.TAny(Q)?T0.Union:Ue.TNever(Q)?T0.True:T0.False}o(f,"TArrayRight");function c(Q,se){return Ue.TObject(se)&&C0(se)?T0.True:n(se)?s(Q,se):Ue.TArray(se)?t(hn(Q.items,se.items)):T0.False}o(c,"TArray");function u(Q,se){return n(se)?s(Q,se):Ue.TAsyncIterator(se)?t(hn(Q.items,se.items)):T0.False}o(u,"TAsyncIterator");function d(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TBigInt(se)?T0.True:T0.False}o(d,"TBigInt");function h(Q,se){return Ue.TLiteral(Q)&&Y0.IsBoolean(Q.const)||Ue.TBoolean(Q)?T0.True:T0.False}o(h,"TBooleanRight");function m(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TBoolean(se)?T0.True:T0.False}o(m,"TBoolean");function p(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TConstructor(se)?Q.parameters.length>se.parameters.length?T0.False:Q.parameters.every((tn,Fs)=>t(hn(se.parameters[Fs],tn))===T0.True)?t(hn(Q.returns,se.returns)):T0.False:T0.False}o(p,"TConstructor");function v(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TDate(se)?T0.True:T0.False}o(v,"TDate");function x(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TFunction(se)?Q.parameters.length>se.parameters.length?T0.False:Q.parameters.every((tn,Fs)=>t(hn(se.parameters[Fs],tn))===T0.True)?t(hn(Q.returns,se.returns)):T0.False:T0.False}o(x,"TFunction");function E(Q,se){return Ue.TLiteral(Q)&&Y0.IsNumber(Q.const)||Ue.TNumber(Q)||Ue.TInteger(Q)?T0.True:T0.False}o(E,"TIntegerRight");function I(Q,se){return Ue.TInteger(se)||Ue.TNumber(se)?T0.True:n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):T0.False}o(I,"TInteger");function P(Q,se){return se.allOf.every(tn=>hn(Q,tn)===T0.True)?T0.True:T0.False}o(P,"TIntersectRight");function L(Q,se){return Q.allOf.some(tn=>hn(tn,se)===T0.True)?T0.True:T0.False}o(L,"TIntersect");function F(Q,se){return n(se)?s(Q,se):Ue.TIterator(se)?t(hn(Q.items,se.items)):T0.False}o(F,"TIterator");function B(Q,se){return Ue.TLiteral(se)&&se.const===Q.const?T0.True:n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TString(se)?G0(Q,se):Ue.TNumber(se)?r0(Q,se):Ue.TInteger(se)?E(Q,se):Ue.TBoolean(se)?h(Q,se):T0.False}o(B,"TLiteral");function V(Q,se){return T0.False}o(V,"TNeverRight");function de(Q,se){return T0.True}o(de,"TNever");function ve(Q){let[se,tn]=[Q,0];for(;Ue.TNot(se);)se=se.not,tn+=1;return tn%2===0?se:Me.Type.Unknown()}o(ve,"UnwrapTNot");function n0(Q,se){return Ue.TNot(Q)?hn(ve(Q),se):Ue.TNot(se)?hn(Q,ve(se)):r("Invalid fallthrough for Not")}o(n0,"TNot");function d0(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TNull(se)?T0.True:T0.False}o(d0,"TNull");function r0(Q,se){return Ue.TLiteralNumber(Q)||Ue.TNumber(Q)||Ue.TInteger(Q)?T0.True:T0.False}o(r0,"TNumberRight");function m0(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TInteger(se)||Ue.TNumber(se)?T0.True:T0.False}o(m0,"TNumber");function $e(Q,se){return Object.getOwnPropertyNames(Q.properties).length===se}o($e,"IsObjectPropertyCount");function we(Q){return C0(Q)}o(we,"IsObjectStringLike");function o0(Q){return $e(Q,0)||$e(Q,1)&&"description"in Q.properties&&Ue.TUnion(Q.properties.description)&&Q.properties.description.anyOf.length===2&&(Ue.TString(Q.properties.description.anyOf[0])&&Ue.TUndefined(Q.properties.description.anyOf[1])||Ue.TString(Q.properties.description.anyOf[1])&&Ue.TUndefined(Q.properties.description.anyOf[0]))}o(o0,"IsObjectSymbolLike");function u0(Q){return $e(Q,0)}o(u0,"IsObjectNumberLike");function l0(Q){return $e(Q,0)}o(l0,"IsObjectBooleanLike");function N0(Q){return $e(Q,0)}o(N0,"IsObjectBigIntLike");function t0(Q){return $e(Q,0)}o(t0,"IsObjectDateLike");function f0(Q){return C0(Q)}o(f0,"IsObjectUint8ArrayLike");function ce(Q){let se=Me.Type.Number();return $e(Q,0)||$e(Q,1)&&"length"in Q.properties&&t(hn(Q.properties.length,se))===T0.True}o(ce,"IsObjectFunctionLike");function Se(Q){return $e(Q,0)}o(Se,"IsObjectConstructorLike");function C0(Q){let se=Me.Type.Number();return $e(Q,0)||$e(Q,1)&&"length"in Q.properties&&t(hn(Q.properties.length,se))===T0.True}o(C0,"IsObjectArrayLike");function z0(Q){let se=Me.Type.Function([Me.Type.Any()],Me.Type.Any());return $e(Q,0)||$e(Q,1)&&"then"in Q.properties&&t(hn(Q.properties.then,se))===T0.True}o(z0,"IsObjectPromiseLike");function O0(Q,se){return hn(Q,se)===T0.False||Ue.TOptional(Q)&&!Ue.TOptional(se)?T0.False:T0.True}o(O0,"Property");function v0(Q,se){return Ue.TUnknown(Q)?T0.False:Ue.TAny(Q)?T0.Union:Ue.TNever(Q)||Ue.TLiteralString(Q)&&we(se)||Ue.TLiteralNumber(Q)&&u0(se)||Ue.TLiteralBoolean(Q)&&l0(se)||Ue.TSymbol(Q)&&o0(se)||Ue.TBigInt(Q)&&N0(se)||Ue.TString(Q)&&we(se)||Ue.TSymbol(Q)&&o0(se)||Ue.TNumber(Q)&&u0(se)||Ue.TInteger(Q)&&u0(se)||Ue.TBoolean(Q)&&l0(se)||Ue.TUint8Array(Q)&&f0(se)||Ue.TDate(Q)&&t0(se)||Ue.TConstructor(Q)&&Se(se)||Ue.TFunction(Q)&&ce(se)?T0.True:Ue.TRecord(Q)&&Ue.TString(B0(Q))?se[Me.Hint]==="Record"?T0.True:T0.False:Ue.TRecord(Q)&&Ue.TNumber(B0(Q))?$e(se,0)?T0.True:T0.False:T0.False}o(v0,"TObjectRight");function Jt(Q,se){return n(se)?s(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TObject(se)?(()=>{for(let tn of Object.getOwnPropertyNames(se.properties)){if(!(tn in Q.properties)&&!Ue.TOptional(se.properties[tn]))return T0.False;if(Ue.TOptional(se.properties[tn]))return T0.True;if(O0(Q.properties[tn],se.properties[tn])===T0.False)return T0.False}return T0.True})():T0.False}o(Jt,"TObject");function ue(Q,se){return n(se)?s(Q,se):Ue.TObject(se)&&z0(se)?T0.True:Ue.TPromise(se)?t(hn(Q.item,se.item)):T0.False}o(ue,"TPromise");function B0(Q){return Me.PatternNumberExact in Q.patternProperties?Me.Type.Number():Me.PatternStringExact in Q.patternProperties?Me.Type.String():r("Unknown record key pattern")}o(B0,"RecordKey");function Ve(Q){return Me.PatternNumberExact in Q.patternProperties?Q.patternProperties[Me.PatternNumberExact]:Me.PatternStringExact in Q.patternProperties?Q.patternProperties[Me.PatternStringExact]:r("Unable to get record value schema")}o(Ve,"RecordValue");function L0(Q,se){let[tn,Fs]=[B0(se),Ve(se)];return Ue.TLiteralString(Q)&&Ue.TNumber(tn)&&t(hn(Q,Fs))===T0.True?T0.True:Ue.TUint8Array(Q)&&Ue.TNumber(tn)||Ue.TString(Q)&&Ue.TNumber(tn)||Ue.TArray(Q)&&Ue.TNumber(tn)?hn(Q,Fs):Ue.TObject(Q)?(()=>{for(let b3 of Object.getOwnPropertyNames(Q.properties))if(O0(Fs,Q.properties[b3])===T0.False)return T0.False;return T0.True})():T0.False}o(L0,"TRecordRight");function D0(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?hn(Ve(Q),Ve(se)):T0.False}o(D0,"TRecord");function G0(Q,se){return Ue.TLiteral(Q)&&Y0.IsString(Q.const)||Ue.TString(Q)?T0.True:T0.False}o(G0,"TStringRight");function hr(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TString(se)?T0.True:T0.False}o(hr,"TString");function Vr(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TSymbol(se)?T0.True:T0.False}o(Vr,"TSymbol");function Cr(Q,se){return Ue.TTemplateLiteral(Q)?hn(fu.Resolve(Q),se):Ue.TTemplateLiteral(se)?hn(Q,fu.Resolve(se)):r("Invalid fallthrough for TemplateLiteral")}o(Cr,"TTemplateLiteral");function le(Q,se){return Ue.TArray(se)&&Q.items!==void 0&&Q.items.every(tn=>hn(tn,se.items)===T0.True)}o(le,"IsArrayOfTuple");function Dr(Q,se){return Ue.TNever(Q)?T0.True:Ue.TUnknown(Q)?T0.False:Ue.TAny(Q)?T0.Union:T0.False}o(Dr,"TTupleRight");function Qt(Q,se){return n(se)?s(Q,se):Ue.TObject(se)&&C0(se)||Ue.TArray(se)&&le(Q,se)?T0.True:Ue.TTuple(se)?Y0.IsUndefined(Q.items)&&!Y0.IsUndefined(se.items)||!Y0.IsUndefined(Q.items)&&Y0.IsUndefined(se.items)?T0.False:Y0.IsUndefined(Q.items)&&!Y0.IsUndefined(se.items)||Q.items.every((tn,Fs)=>hn(tn,se.items[Fs])===T0.True)?T0.True:T0.False:T0.False}o(Qt,"TTuple");function zs(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TUint8Array(se)?T0.True:T0.False}o(zs,"TUint8Array");function ms(Q,se){return n(se)?s(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TRecord(se)?L0(Q,se):Ue.TVoid(se)?D1(Q,se):Ue.TUndefined(se)?T0.True:T0.False}o(ms,"TUndefined");function Gs(Q,se){return se.anyOf.some(tn=>hn(Q,tn)===T0.True)?T0.True:T0.False}o(Gs,"TUnionRight");function Ks(Q,se){return Q.anyOf.every(tn=>hn(tn,se)===T0.True)?T0.True:T0.False}o(Ks,"TUnion");function wl(Q,se){return T0.True}o(wl,"TUnknownRight");function Jl(Q,se){return Ue.TNever(se)?V(Q,se):Ue.TIntersect(se)?P(Q,se):Ue.TUnion(se)?Gs(Q,se):Ue.TAny(se)?l(Q,se):Ue.TString(se)?G0(Q,se):Ue.TNumber(se)?r0(Q,se):Ue.TInteger(se)?E(Q,se):Ue.TBoolean(se)?h(Q,se):Ue.TArray(se)?f(Q,se):Ue.TTuple(se)?Dr(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TUnknown(se)?T0.True:T0.False}o(Jl,"TUnknown");function D1(Q,se){return Ue.TUndefined(Q)||Ue.TUndefined(Q)?T0.True:T0.False}o(D1,"VoidRight");function Xl(Q,se){return Ue.TIntersect(se)?P(Q,se):Ue.TUnion(se)?Gs(Q,se):Ue.TUnknown(se)?wl(Q,se):Ue.TAny(se)?l(Q,se):Ue.TObject(se)?v0(Q,se):Ue.TVoid(se)?T0.True:T0.False}o(Xl,"TVoid");function hn(Q,se){return Ue.TTemplateLiteral(Q)||Ue.TTemplateLiteral(se)?Cr(Q,se):Ue.TNot(Q)||Ue.TNot(se)?n0(Q,se):Ue.TAny(Q)?a(Q,se):Ue.TArray(Q)?c(Q,se):Ue.TBigInt(Q)?d(Q,se):Ue.TBoolean(Q)?m(Q,se):Ue.TAsyncIterator(Q)?u(Q,se):Ue.TConstructor(Q)?p(Q,se):Ue.TDate(Q)?v(Q,se):Ue.TFunction(Q)?x(Q,se):Ue.TInteger(Q)?I(Q,se):Ue.TIntersect(Q)?L(Q,se):Ue.TIterator(Q)?F(Q,se):Ue.TLiteral(Q)?B(Q,se):Ue.TNever(Q)?de(Q,se):Ue.TNull(Q)?d0(Q,se):Ue.TNumber(Q)?m0(Q,se):Ue.TObject(Q)?Jt(Q,se):Ue.TRecord(Q)?D0(Q,se):Ue.TString(Q)?hr(Q,se):Ue.TSymbol(Q)?Vr(Q,se):Ue.TTuple(Q)?Qt(Q,se):Ue.TPromise(Q)?ue(Q,se):Ue.TUint8Array(Q)?zs(Q,se):Ue.TUndefined(Q)?ms(Q,se):Ue.TUnion(Q)?Ks(Q,se):Ue.TUnknown(Q)?Jl(Q,se):Ue.TVoid(Q)?Xl(Q,se):r(`Unknown left type operand '${Q[Me.Kind]}'`)}o(hn,"Visit");function Yi(Q,se){return hn(Q,se)}o(Yi,"Extends"),e.Extends=Yi})(Y2||(Me.TypeExtends=Y2={}));var yr;(function(e){function t(c){return c.map(u=>l(u))}o(t,"ArrayType");function r(c){return new Date(c.getTime())}o(r,"DateType");function n(c){return new Uint8Array(c)}o(n,"Uint8ArrayType");function s(c){let u=Object.getOwnPropertyNames(c).reduce((h,m)=>({...h,[m]:l(c[m])}),{}),d=Object.getOwnPropertySymbols(c).reduce((h,m)=>({...h,[m]:l(c[m])}),{});return{...u,...d}}o(s,"ObjectType");function l(c){return Y0.IsArray(c)?t(c):Y0.IsDate(c)?r(c):Y0.IsUint8Array(c)?n(c):Y0.IsObject(c)?s(c):c}o(l,"Visit");function a(c){return c.map(u=>f(u))}o(a,"Rest"),e.Rest=a;function f(c,u={}){return{...l(c),...u}}o(f,"Type"),e.Type=f})(yr||(Me.TypeClone=yr={}));var H_;(function(e){function t(p){return p.map(v=>{let{[Me.Optional]:x,...E}=yr.Type(v);return E})}o(t,"OptionalUnwrap");function r(p){return p.every(v=>Ue.TOptional(v))}o(r,"IsIntersectOptional");function n(p){return p.some(v=>Ue.TOptional(v))}o(n,"IsUnionOptional");function s(p){return r(p.allOf)?Me.Type.Optional(Me.Type.Intersect(t(p.allOf))):p}o(s,"ResolveIntersect");function l(p){return n(p.anyOf)?Me.Type.Optional(Me.Type.Union(t(p.anyOf))):p}o(l,"ResolveUnion");function a(p){return p[Me.Kind]==="Intersect"?s(p):p[Me.Kind]==="Union"?l(p):p}o(a,"ResolveOptional");function f(p,v){let x=p.allOf.reduce((E,I)=>{let P=h(I,v);return P[Me.Kind]==="Never"?E:[...E,P]},[]);return a(Me.Type.Intersect(x))}o(f,"TIntersect");function c(p,v){let x=p.anyOf.map(E=>h(E,v));return a(Me.Type.Union(x))}o(c,"TUnion");function u(p,v){let x=p.properties[v];return Y0.IsUndefined(x)?Me.Type.Never():Me.Type.Union([x])}o(u,"TObject");function d(p,v){let x=p.items;if(Y0.IsUndefined(x))return Me.Type.Never();let E=x[v];return Y0.IsUndefined(E)?Me.Type.Never():E}o(d,"TTuple");function h(p,v){return p[Me.Kind]==="Intersect"?f(p,v):p[Me.Kind]==="Union"?c(p,v):p[Me.Kind]==="Object"?u(p,v):p[Me.Kind]==="Tuple"?d(p,v):Me.Type.Never()}o(h,"Visit");function m(p,v,x={}){let E=v.map(I=>h(p,I.toString()));return a(Me.Type.Union(E,x))}o(m,"Resolve"),e.Resolve=m})(H_||(Me.IndexedAccessor=H_={}));var z4;(function(e){function t(d){let[h,m]=[d.slice(0,1),d.slice(1)];return`${h.toLowerCase()}${m}`}o(t,"Uncapitalize");function r(d){let[h,m]=[d.slice(0,1),d.slice(1)];return`${h.toUpperCase()}${m}`}o(r,"Capitalize");function n(d){return d.toUpperCase()}o(n,"Uppercase");function s(d){return d.toLowerCase()}o(s,"Lowercase");function l(d,h){let m=K4.ParseExact(d.pattern);if(!W4.Check(m))return{...d,pattern:a(d.pattern,h)};let x=[...Y4.Generate(m)].map(P=>Me.Type.Literal(P)),E=f(x,h),I=Me.Type.Union(E);return Me.Type.TemplateLiteral([I])}o(l,"IntrinsicTemplateLiteral");function a(d,h){return typeof d=="string"?h==="Uncapitalize"?t(d):h==="Capitalize"?r(d):h==="Uppercase"?n(d):h==="Lowercase"?s(d):d:d.toString()}o(a,"IntrinsicLiteral");function f(d,h){if(d.length===0)return[];let[m,...p]=d;return[u(m,h),...f(p,h)]}o(f,"IntrinsicRest");function c(d,h){return Ue.TTemplateLiteral(d)?l(d,h):Ue.TUnion(d)?Me.Type.Union(f(d.anyOf,h)):Ue.TLiteral(d)?Me.Type.Literal(a(d.const,h)):d}o(c,"Visit");function u(d,h){return c(d,h)}o(u,"Map"),e.Map=u})(z4||(Me.Intrinsic=z4={}));var G4;(function(e){function t(a,f){return Me.Type.Intersect(a.allOf.map(c=>s(c,f)),{...a})}o(t,"TIntersect");function r(a,f){return Me.Type.Union(a.anyOf.map(c=>s(c,f)),{...a})}o(r,"TUnion");function n(a,f){return f(a)}o(n,"TObject");function s(a,f){return a[Me.Kind]==="Intersect"?t(a,f):a[Me.Kind]==="Union"?r(a,f):a[Me.Kind]==="Object"?n(a,f):a}o(s,"Visit");function l(a,f,c){return{...s(yr.Type(a),f),...c}}o(l,"Map"),e.Map=l})(G4||(Me.ObjectMap=G4={}));var am;(function(e){function t(u){return u[0]==="^"&&u[u.length-1]==="$"?u.slice(1,u.length-1):u}o(t,"UnwrapPattern");function r(u,d){return u.allOf.reduce((h,m)=>[...h,...a(m,d)],[])}o(r,"TIntersect");function n(u,d){let h=u.anyOf.map(m=>a(m,d));return[...h.reduce((m,p)=>p.map(v=>h.every(x=>x.includes(v))?m.add(v):m)[0],new Set)]}o(n,"TUnion");function s(u,d){return Object.getOwnPropertyNames(u.properties)}o(s,"TObject");function l(u,d){return d.includePatterns?Object.getOwnPropertyNames(u.patternProperties):[]}o(l,"TRecord");function a(u,d){return Ue.TIntersect(u)?r(u,d):Ue.TUnion(u)?n(u,d):Ue.TObject(u)?s(u,d):Ue.TRecord(u)?l(u,d):[]}o(a,"Visit");function f(u,d){return[...new Set(a(u,d))]}o(f,"ResolveKeys"),e.ResolveKeys=f;function c(u){return`^(${f(u,{includePatterns:!0}).map(m=>`(${t(m)})`).join("|")})$`}o(c,"ResolvePattern"),e.ResolvePattern=c})(am||(Me.KeyResolver=am={}));var W_=class W_ extends _1{};o(W_,"KeyArrayResolverError");var lm=W_;Me.KeyArrayResolverError=lm;var u9;(function(e){function t(r){return Array.isArray(r)?r:Ue.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):Ue.TLiteral(r)?[r.const]:Ue.TTemplateLiteral(r)?(()=>{let n=K4.ParseExact(r.pattern);if(!W4.Check(n))throw new lm("Cannot resolve keys from infinite template expression");return[...Y4.Generate(n)]})():[]}o(t,"Resolve"),e.Resolve=t})(u9||(Me.KeyArrayResolver=u9={}));var j_;(function(e){function*t(n){for(let s of n.anyOf)s[Me.Kind]==="Union"?yield*t(s):yield s}o(t,"TUnion");function r(n){return Me.Type.Union([...t(n)],{...n})}o(r,"Resolve"),e.Resolve=r})(j_||(Me.UnionResolver=j_={}));var Y_=class Y_ extends _1{};o(Y_,"TemplateLiteralPatternError");var fm=Y_;Me.TemplateLiteralPatternError=fm;var cm;(function(e){function t(l){throw new fm(l)}o(t,"Throw");function r(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(r,"Escape");function n(l,a){return Ue.TTemplateLiteral(l)?l.pattern.slice(1,l.pattern.length-1):Ue.TUnion(l)?`(${l.anyOf.map(f=>n(f,a)).join("|")})`:Ue.TNumber(l)?`${a}${Me.PatternNumber}`:Ue.TInteger(l)?`${a}${Me.PatternNumber}`:Ue.TBigInt(l)?`${a}${Me.PatternNumber}`:Ue.TString(l)?`${a}${Me.PatternString}`:Ue.TLiteral(l)?`${a}${r(l.const.toString())}`:Ue.TBoolean(l)?`${a}${Me.PatternBoolean}`:t(`Unexpected Kind '${l[Me.Kind]}'`)}o(n,"Visit");function s(l){return`^${l.map(a=>n(a,"")).join("")}$`}o(s,"Create"),e.Create=s})(cm||(Me.TemplateLiteralPattern=cm={}));var fu;(function(e){function t(r){let n=K4.ParseExact(r.pattern);if(!W4.Check(n))return Me.Type.String();let s=[...Y4.Generate(n)].map(l=>Me.Type.Literal(l));return Me.Type.Union(s)}o(t,"Resolve"),e.Resolve=t})(fu||(Me.TemplateLiteralResolver=fu={}));var J_=class J_ extends _1{};o(J_,"TemplateLiteralParserError");var d9=J_;Me.TemplateLiteralParserError=d9;var K4;(function(e){function t(p,v,x){return p[v]===x&&p.charCodeAt(v-1)!==92}o(t,"IsNonEscaped");function r(p,v){return t(p,v,"(")}o(r,"IsOpenParen");function n(p,v){return t(p,v,")")}o(n,"IsCloseParen");function s(p,v){return t(p,v,"|")}o(s,"IsSeparator");function l(p){if(!(r(p,0)&&n(p,p.length-1)))return!1;let v=0;for(let x=0;x<p.length;x++)if(r(p,x)&&(v+=1),n(p,x)&&(v-=1),v===0&&x!==p.length-1)return!1;return!0}o(l,"IsGroup");function a(p){return p.slice(1,p.length-1)}o(a,"InGroup");function f(p){let v=0;for(let x=0;x<p.length;x++)if(r(p,x)&&(v+=1),n(p,x)&&(v-=1),s(p,x)&&v===0)return!0;return!1}o(f,"IsPrecedenceOr");function c(p){for(let v=0;v<p.length;v++)if(r(p,v))return!0;return!1}o(c,"IsPrecedenceAnd");function u(p){let[v,x]=[0,0],E=[];for(let P=0;P<p.length;P++)if(r(p,P)&&(v+=1),n(p,P)&&(v-=1),s(p,P)&&v===0){let L=p.slice(x,P);L.length>0&&E.push(h(L)),x=P+1}let I=p.slice(x);return I.length>0&&E.push(h(I)),E.length===0?{type:"const",const:""}:E.length===1?E[0]:{type:"or",expr:E}}o(u,"Or");function d(p){function v(I,P){if(!r(I,P))throw new d9("TemplateLiteralParser: Index must point to open parens");let L=0;for(let F=P;F<I.length;F++)if(r(I,F)&&(L+=1),n(I,F)&&(L-=1),L===0)return[P,F];throw new d9("TemplateLiteralParser: Unclosed group parens in expression")}o(v,"Group");function x(I,P){for(let L=P;L<I.length;L++)if(r(I,L))return[P,L];return[P,I.length]}o(x,"Range");let E=[];for(let I=0;I<p.length;I++)if(r(p,I)){let[P,L]=v(p,I),F=p.slice(P,L+1);E.push(h(F)),I=L}else{let[P,L]=x(p,I),F=p.slice(P,L);F.length>0&&E.push(h(F)),I=L-1}return E.length===0?{type:"const",const:""}:E.length===1?E[0]:{type:"and",expr:E}}o(d,"And");function h(p){return l(p)?h(a(p)):f(p)?u(p):c(p)?d(p):{type:"const",const:p}}o(h,"Parse"),e.Parse=h;function m(p){return h(p.slice(1,p.length-1))}o(m,"ParseExact"),e.ParseExact=m})(K4||(Me.TemplateLiteralParser=K4={}));var X_=class X_ extends _1{};o(X_,"TemplateLiteralFiniteError");var um=X_;Me.TemplateLiteralFiniteError=um;var W4;(function(e){function t(a){throw new um(a)}o(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}o(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}o(n,"IsBoolean");function s(a){return a.type==="const"&&a.const===".*"}o(s,"IsString");function l(a){return n(a)?!0:r(a)||s(a)?!1:a.type==="and"?a.expr.every(f=>l(f)):a.type==="or"?a.expr.every(f=>l(f)):a.type==="const"?!0:t("Unknown expression type")}o(l,"Check"),e.Check=l})(W4||(Me.TemplateLiteralFinite=W4={}));var Z_=class Z_ extends _1{};o(Z_,"TemplateLiteralGeneratorError");var dm=Z_;Me.TemplateLiteralGeneratorError=dm;var Y4;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let f of a[0])for(let c of t(a.slice(1)))yield`${f}${c}`}o(t,"Reduce");function*r(a){return yield*t(a.expr.map(f=>[...l(f)]))}o(r,"And");function*n(a){for(let f of a.expr)yield*l(f)}o(n,"Or");function*s(a){return yield a.const}o(s,"Const");function*l(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*s(a):(()=>{throw new dm("Unknown expression")})()}o(l,"Generate"),e.Generate=l})(Y4||(Me.TemplateLiteralGenerator=Y4={}));var V_;(function(e){function*t(l){let a=l.trim().replace(/"|'/g,"");return a==="boolean"?yield Me.Type.Boolean():a==="number"?yield Me.Type.Number():a==="bigint"?yield Me.Type.BigInt():a==="string"?yield Me.Type.String():yield(()=>{let f=a.split("|").map(c=>Me.Type.Literal(c.trim()));return f.length===0?Me.Type.Never():f.length===1?f[0]:Me.Type.Union(f)})()}o(t,"ParseUnion");function*r(l){if(l[1]!=="{"){let a=Me.Type.Literal("$"),f=n(l.slice(1));return yield*[a,...f]}for(let a=2;a<l.length;a++)if(l[a]==="}"){let f=t(l.slice(2,a)),c=n(l.slice(a+1));return yield*[...f,...c]}yield Me.Type.Literal(l)}o(r,"ParseTerminal");function*n(l){for(let a=0;a<l.length;a++)if(l[a]==="$"){let f=Me.Type.Literal(l.slice(0,a)),c=r(l.slice(a));return yield*[f,...c]}yield Me.Type.Literal(l)}o(n,"ParseLiteral");function s(l){return[...n(l)]}o(s,"Parse"),e.Parse=s})(V_||(Me.TemplateLiteralDslParser=V_={}));var Q_=class Q_{constructor(t){this.schema=t}Decode(t){return new gm(this.schema,t)}};o(Q_,"TransformDecodeBuilder");var hm=Q_;Me.TransformDecodeBuilder=hm;var eb=class eb{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=yr.Type(this.schema);return Ue.TTransform(r)?(()=>{let l={Encode:o(a=>r[Me.Transform].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Me.Transform].Decode(a)),"Decode")};return{...r,[Me.Transform]:l}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[Me.Transform]:n}})()}};o(eb,"TransformEncodeBuilder");var gm=eb;Me.TransformEncodeBuilder=gm;var sq=0,tb=class tb extends _1{};o(tb,"TypeBuilderError");var mm=tb;Me.TypeBuilderError=mm;var rb=class rb{Create(t){return t}Throw(t){throw new mm(t)}Discard(t,r){return r.reduce((n,s)=>{let{[s]:l,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};o(rb,"TypeBuilder");var pm=rb;Me.TypeBuilder=pm;var nb=class nb extends pm{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...yr.Type(t),[Me.Readonly]:"Readonly"}}Optional(t){return{...yr.Type(t),[Me.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[Me.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[Me.Kind]:"Array",type:"array",items:yr.Type(t)})}Boolean(t={}){return this.Create({...t,[Me.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...z4.Map(yr.Type(t),"Capitalize"),...r}}Composite(t,r){let n=Me.Type.Intersect(t,{}),l=am.ResolveKeys(n,{includePatterns:!1}).reduce((a,f)=>({...a,[f]:Me.Type.Index(n,[f])}),{});return Me.Type.Object(l,r)}Enum(t,r={}){if(Y0.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),l=[...new Set(n)].map(a=>Me.Type.Literal(a));return this.Union(l,{...r,[Me.Hint]:"Enum"})}Extends(t,r,n,s,l={}){switch(Y2.Extends(t,r)){case T0.Union:return this.Union([yr.Type(n,l),yr.Type(s,l)]);case T0.True:return yr.Type(n,l);case T0.False:return yr.Type(s,l)}}Exclude(t,r,n={}){return Ue.TTemplateLiteral(t)?this.Exclude(fu.Resolve(t),r,n):Ue.TTemplateLiteral(r)?this.Exclude(t,fu.Resolve(r),n):Ue.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>Y2.Extends(l,r)===T0.False);return s.length===1?yr.Type(s[0],n):this.Union(s,n)})():Y2.Extends(t,r)!==T0.False?this.Never(n):yr.Type(t,n)}Extract(t,r,n={}){return Ue.TTemplateLiteral(t)?this.Extract(fu.Resolve(t),r,n):Ue.TTemplateLiteral(r)?this.Extract(t,fu.Resolve(r),n):Ue.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>Y2.Extends(l,r)!==T0.False);return s.length===1?yr.Type(s[0],n):this.Union(s,n)})():Y2.Extends(t,r)!==T0.False?yr.Type(t,n):this.Never(n)}Index(t,r,n={}){return Ue.TArray(t)&&Ue.TNumber(r)?yr.Type(t.items,n):Ue.TTuple(t)&&Ue.TNumber(r)?(()=>{let l=(Y0.IsUndefined(t.items)?[]:t.items).map(a=>yr.Type(a));return this.Union(l,n)})():(()=>{let s=u9.Resolve(r),l=yr.Type(t);return H_.Resolve(l,s,n)})()}Integer(t={}){return this.Create({...t,[Me.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return Me.Type.Never();if(t.length===1)return yr.Type(t[0],r);t.some(a=>Ue.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>Ue.TObject(a)),s=yr.Rest(t),l=Ue.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:yr.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||Ue.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...l,[Me.Kind]:"Intersect",type:"object",allOf:s}):this.Create({...r,...l,[Me.Kind]:"Intersect",allOf:s})}KeyOf(t,r={}){return Ue.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===Me.PatternNumberExact?this.Number(r):n===Me.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():Ue.TTuple(t)?(()=>{let s=(Y0.IsUndefined(t.items)?[]:t.items).map((l,a)=>Me.Type.Literal(a.toString()));return this.Union(s,r)})():Ue.TArray(t)?this.Number(r):(()=>{let n=am.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let s=n.map(l=>this.Literal(l));return this.Union(s,r)})()}Literal(t,r={}){return this.Create({...r,[Me.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...z4.Map(yr.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[Me.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[Me.Kind]:"Not",not:yr.Type(t)})}Null(t={}){return this.Create({...t,[Me.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[Me.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),s=n.filter(c=>Ue.TOptional(t[c])),l=n.filter(c=>!s.includes(c)),a=Ue.TSchema(r.additionalProperties)?{additionalProperties:yr.Type(r.additionalProperties)}:{},f=n.reduce((c,u)=>({...c,[u]:yr.Type(t[u])}),{});return l.length>0?this.Create({...r,...a,[Me.Kind]:"Object",type:"object",properties:f,required:l}):this.Create({...r,...a,[Me.Kind]:"Object",type:"object",properties:f})}Omit(t,r,n={}){let s=u9.Resolve(r);return G4.Map(this.Discard(yr.Type(t),["$id",Me.Transform]),l=>{Y0.IsArray(l.required)&&(l.required=l.required.filter(a=>!s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)&&delete l.properties[a];return this.Create(l)},n)}Partial(t,r={}){return G4.Map(this.Discard(yr.Type(t),["$id",Me.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Optional(n.properties[a])}),{});return this.Object(s,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let s=u9.Resolve(r);return G4.Map(this.Discard(yr.Type(t),["$id",Me.Transform]),l=>{Y0.IsArray(l.required)&&(l.required=l.required.filter(a=>s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)||delete l.properties[a];return this.Create(l)},n)}Record(t,r,n={}){return Ue.TTemplateLiteral(t)?(()=>{let s=K4.ParseExact(t.pattern);return W4.Check(s)?this.Object([...Y4.Generate(s)].reduce((l,a)=>({...l,[a]:yr.Type(r)}),{}),n):this.Create({...n,[Me.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:yr.Type(r)}})})():Ue.TUnion(t)?(()=>{let s=j_.Resolve(t);if(Ue.TUnionLiteral(s)){let l=s.anyOf.reduce((a,f)=>({...a,[f.const]:yr.Type(r)}),{});return this.Object(l,{...n,[Me.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():Ue.TLiteral(t)?Y0.IsString(t.const)||Y0.IsNumber(t.const)?this.Object({[t.const]:yr.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):Ue.TInteger(t)||Ue.TNumber(t)?this.Create({...n,[Me.Kind]:"Record",type:"object",patternProperties:{[Me.PatternNumberExact]:yr.Type(r)}}):Ue.TString(t)?(()=>{let s=Y0.IsUndefined(t.pattern)?Me.PatternStringExact:t.pattern;return this.Create({...n,[Me.Kind]:"Record",type:"object",patternProperties:{[s]:yr.Type(r)}})})():this.Never()}Recursive(t,r={}){Y0.IsUndefined(r.$id)&&(r.$id=`T${sq++}`);let n=t({[Me.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[Me.Hint]:"Recursive",...n})}Ref(t,r={}){return Y0.IsString(t)?this.Create({...r,[Me.Kind]:"Ref",$ref:t}):(Y0.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[Me.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return G4.Map(this.Discard(yr.Type(t),["$id",Me.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Discard(n.properties[a],[Me.Optional])}),{});return this.Object(s,n)},r)}Rest(t){return Ue.TTuple(t)&&!Y0.IsUndefined(t.items)?yr.Rest(t.items):Ue.TIntersect(t)?yr.Rest(t.allOf):Ue.TUnion(t)?yr.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[Me.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=Y0.IsString(t)?cm.Create(V_.Parse(t)):cm.Create(t);return this.Create({...r,[Me.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new hm(t)}Tuple(t,r={}){let[n,s,l]=[!1,t.length,t.length],a=yr.Rest(t),f=t.length>0?{...r,[Me.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:s,maxItems:l}:{...r,[Me.Kind]:"Tuple",type:"array",minItems:s,maxItems:l};return this.Create(f)}Uncapitalize(t,r={}){return{...z4.Map(yr.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return Ue.TTemplateLiteral(t)?fu.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(yr.Type(n[0],r));let s=yr.Rest(n);return this.Create({...r,[Me.Kind]:"Union",anyOf:s})})()}Unknown(t={}){return this.Create({...t,[Me.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[Me.Kind]:t[Me.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...z4.Map(yr.Type(t),"Uppercase"),...r}}};o(nb,"JsonTypeBuilder");var h9=nb;Me.JsonTypeBuilder=h9;var ib=class ib extends h9{AsyncIterator(t,r={}){return this.Create({...r,[Me.Kind]:"AsyncIterator",type:"AsyncIterator",items:yr.Type(t)})}Awaited(t,r={}){let n=o(s=>s.length>0?(()=>{let[l,...a]=s;return[this.Awaited(l),...n(a)]})():s,"Unwrap");return Ue.TIntersect(t)?Me.Type.Intersect(n(t.allOf)):Ue.TUnion(t)?Me.Type.Union(n(t.anyOf)):Ue.TPromise(t)?this.Awaited(t.item):yr.Type(t,r)}BigInt(t={}){return this.Create({...t,[Me.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[s,l]=[yr.Rest(t),yr.Type(r)];return this.Create({...n,[Me.Kind]:"Constructor",type:"Constructor",parameters:s,returns:l})}Date(t={}){return this.Create({...t,[Me.Kind]:"Date",type:"Date"})}Function(t,r,n){let[s,l]=[yr.Rest(t),yr.Type(r)];return this.Create({...n,[Me.Kind]:"Function",type:"Function",parameters:s,returns:l})}InstanceType(t,r={}){return yr.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[Me.Kind]:"Iterator",type:"Iterator",items:yr.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[Me.Kind]:"Promise",type:"Promise",item:yr.Type(t)})}RegExp(t,r={}){let n=Y0.IsString(t)?t:t.source;return this.Create({...r,[Me.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return yr.Type(t.returns,r)}Symbol(t){return this.Create({...t,[Me.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[Me.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[Me.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[Me.Kind]:"Void",type:"void"})}};o(ib,"JavaScriptTypeBuilder");var ym=ib;Me.JavaScriptTypeBuilder=ym;Me.JsonType=new h9;Me.Type=new ym});var $l=y0(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.IsValueType=sn.IsSymbol=sn.IsFunction=sn.IsString=sn.IsBigInt=sn.IsInteger=sn.IsNumber=sn.IsBoolean=sn.IsNull=sn.IsUndefined=sn.IsArray=sn.IsObject=sn.IsPlainObject=sn.HasPropertyKey=sn.IsDate=sn.IsUint8Array=sn.IsPromise=sn.IsTypedArray=sn.IsIterator=sn.IsAsyncIterator=void 0;function oq(e){return vm(e)&&Symbol.asyncIterator in e}o(oq,"IsAsyncIterator");sn.IsAsyncIterator=oq;function aq(e){return vm(e)&&Symbol.iterator in e}o(aq,"IsIterator");sn.IsIterator=aq;function lq(e){return ArrayBuffer.isView(e)}o(lq,"IsTypedArray");sn.IsTypedArray=lq;function fq(e){return e instanceof Promise}o(fq,"IsPromise");sn.IsPromise=fq;function cq(e){return e instanceof Uint8Array}o(cq,"IsUint8Array");sn.IsUint8Array=cq;function uq(e){return e instanceof Date&&Number.isFinite(e.getTime())}o(uq,"IsDate");sn.IsDate=uq;function dq(e,t){return t in e}o(dq,"HasPropertyKey");sn.HasPropertyKey=dq;function hq(e){return vm(e)&&zA(e.constructor)&&e.constructor.name==="Object"}o(hq,"IsPlainObject");sn.IsPlainObject=hq;function vm(e){return e!==null&&typeof e=="object"}o(vm,"IsObject");sn.IsObject=vm;function gq(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}o(gq,"IsArray");sn.IsArray=gq;function qA(e){return e===void 0}o(qA,"IsUndefined");sn.IsUndefined=qA;function $A(e){return e===null}o($A,"IsNull");sn.IsNull=$A;function HA(e){return typeof e=="boolean"}o(HA,"IsBoolean");sn.IsBoolean=HA;function sb(e){return typeof e=="number"}o(sb,"IsNumber");sn.IsNumber=sb;function mq(e){return sb(e)&&Number.isInteger(e)}o(mq,"IsInteger");sn.IsInteger=mq;function jA(e){return typeof e=="bigint"}o(jA,"IsBigInt");sn.IsBigInt=jA;function VA(e){return typeof e=="string"}o(VA,"IsString");sn.IsString=VA;function zA(e){return typeof e=="function"}o(zA,"IsFunction");sn.IsFunction=zA;function GA(e){return typeof e=="symbol"}o(GA,"IsSymbol");sn.IsSymbol=GA;function pq(e){return jA(e)||HA(e)||$A(e)||sb(e)||VA(e)||GA(e)||qA(e)}o(pq,"IsValueType");sn.IsValueType=pq});var fb=y0(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.DefaultErrorFunction=Hl.TypeSystemPolicy=Hl.TypeSystemErrorFunction=Hl.TypeSystem=Hl.TypeSystemDuplicateFormat=Hl.TypeSystemDuplicateTypeKind=void 0;var xm=$l(),dr=g9(),cu=ql(),ab=class ab extends cu.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};o(ab,"TypeSystemDuplicateTypeKind");var _m=ab;Hl.TypeSystemDuplicateTypeKind=_m;var lb=class lb extends cu.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};o(lb,"TypeSystemDuplicateFormat");var bm=lb;Hl.TypeSystemDuplicateFormat=bm;var KA;(function(e){function t(n,s){if(cu.TypeRegistry.Has(n))throw new _m(n);return cu.TypeRegistry.Set(n,s),(l={})=>cu.Type.Unsafe({...l,[cu.Kind]:n})}o(t,"Type"),e.Type=t;function r(n,s){if(cu.FormatRegistry.Has(n))throw new bm(n);return cu.FormatRegistry.Set(n,s),n}o(r,"Format"),e.Format=r})(KA||(Hl.TypeSystem=KA={}));var WA;(function(e){let t=ob;function r(){t=ob}o(r,"Reset"),e.Reset=r;function n(l){t=l}o(n,"Set"),e.Set=n;function s(){return t}o(s,"Get"),e.Get=s})(WA||(Hl.TypeSystemErrorFunction=WA={}));var YA;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,f){return e.ExactOptionalPropertyTypes?f in a:a[f]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let f=(0,xm.IsObject)(a);return e.AllowArrayObject?f:f&&!(0,xm.IsArray)(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){let f=(0,xm.IsNumber)(a);return e.AllowNaN?f:f&&Number.isFinite(a)}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){let f=(0,xm.IsUndefined)(a);return e.AllowNullVoid?f||a===null:f}o(l,"IsVoidLike"),e.IsVoidLike=l})(YA||(Hl.TypeSystemPolicy=YA={}));function ob(e,t){switch(t){case dr.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case dr.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case dr.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case dr.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case dr.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case dr.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case dr.ValueErrorType.Array:return"Expected array";case dr.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case dr.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case dr.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case dr.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case dr.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case dr.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case dr.ValueErrorType.BigInt:return"Expected bigint";case dr.ValueErrorType.Boolean:return"Expected boolean";case dr.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case dr.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case dr.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case dr.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case dr.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case dr.ValueErrorType.Date:return"Expected Date";case dr.ValueErrorType.Function:return"Expected function";case dr.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case dr.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case dr.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case dr.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case dr.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case dr.ValueErrorType.Integer:return"Expected integer";case dr.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case dr.ValueErrorType.Intersect:return"Expected all values to match";case dr.ValueErrorType.Iterator:return"Expected Iterator";case dr.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case dr.ValueErrorType.Never:return"Never";case dr.ValueErrorType.Not:return"Value should not match";case dr.ValueErrorType.Null:return"Expected null";case dr.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case dr.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case dr.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case dr.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case dr.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case dr.ValueErrorType.Number:return"Expected number";case dr.ValueErrorType.Object:return"Expected object";case dr.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case dr.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case dr.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case dr.ValueErrorType.ObjectRequiredProperty:return"Required property";case dr.ValueErrorType.Promise:return"Expected Promise";case dr.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case dr.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case dr.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case dr.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case dr.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case dr.ValueErrorType.String:return"Expected string";case dr.ValueErrorType.Symbol:return"Expected symbol";case dr.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case dr.ValueErrorType.Tuple:return"Expected tuple";case dr.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case dr.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case dr.ValueErrorType.Uint8Array:return"Expected Uint8Array";case dr.ValueErrorType.Undefined:return"Expected undefined";case dr.ValueErrorType.Union:return"Expected union value";case dr.ValueErrorType.Void:return"Expected void";case dr.ValueErrorType.Kind:return`Expected kind '${e[cu.Kind]}'`;default:return"Unknown error type"}}o(ob,"DefaultErrorFunction");Hl.DefaultErrorFunction=ob});var j5=y0(J4=>{"use strict";Object.defineProperty(J4,"__esModule",{value:!0});J4.Deref=J4.TypeDereferenceError=void 0;var yq=ql(),cb=class cb extends yq.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};o(cb,"TypeDereferenceError");var Cm=cb;J4.TypeDereferenceError=Cm;function vq(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new Cm(e);return t[r]}o(vq,"Deref");J4.Deref=vq});var m9=y0(V5=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});V5.Hash=V5.ByteMarker=V5.ValueHashError=void 0;var b1=$l(),ub=class ub extends Error{constructor(t){super("Unable to hash value"),this.value=t}};o(ub,"ValueHashError");var Em=ub;V5.ValueHashError=Em;var uf;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(uf||(V5.ByteMarker=uf={}));var X4=BigInt("14695981039346656037"),[xq,_q]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],bq=Array.from({length:256}).map((e,t)=>BigInt(t)),JA=new Float64Array(1),XA=new DataView(JA.buffer),ZA=new Uint8Array(JA.buffer);function*Cq(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(Cq,"NumberToBytes");function Eq(e){ul(uf.Array);for(let t of e)Z4(t)}o(Eq,"ArrayType");function Tq(e){ul(uf.Boolean),ul(e?1:0)}o(Tq,"BooleanType");function Sq(e){ul(uf.BigInt),XA.setBigInt64(0,e);for(let t of ZA)ul(t)}o(Sq,"BigIntType");function Iq(e){ul(uf.Date),Z4(e.getTime())}o(Iq,"DateType");function wq(e){ul(uf.Null)}o(wq,"NullType");function Aq(e){ul(uf.Number),XA.setFloat64(0,e);for(let t of ZA)ul(t)}o(Aq,"NumberType");function Pq(e){ul(uf.Object);for(let t of globalThis.Object.keys(e).sort())Z4(t),Z4(e[t])}o(Pq,"ObjectType");function Rq(e){ul(uf.String);for(let t=0;t<e.length;t++)for(let r of Cq(e.charCodeAt(t)))ul(r)}o(Rq,"StringType");function Nq(e){ul(uf.Symbol),Z4(e.description)}o(Nq,"SymbolType");function kq(e){ul(uf.Uint8Array);for(let t=0;t<e.length;t++)ul(e[t])}o(kq,"Uint8ArrayType");function Dq(e){return ul(uf.Undefined)}o(Dq,"UndefinedType");function Z4(e){if((0,b1.IsArray)(e))return Eq(e);if((0,b1.IsBoolean)(e))return Tq(e);if((0,b1.IsBigInt)(e))return Sq(e);if((0,b1.IsDate)(e))return Iq(e);if((0,b1.IsNull)(e))return wq(e);if((0,b1.IsNumber)(e))return Aq(e);if((0,b1.IsPlainObject)(e))return Pq(e);if((0,b1.IsString)(e))return Rq(e);if((0,b1.IsSymbol)(e))return Nq(e);if((0,b1.IsUint8Array)(e))return kq(e);if((0,b1.IsUndefined)(e))return Dq(e);throw new Em(e)}o(Z4,"Visit");function ul(e){X4=X4^bq[e],X4=X4*xq%_q}o(ul,"FNV1A64");function Bq(e){return X4=BigInt("14695981039346656037"),Z4(e),X4}o(Bq,"Hash");V5.Hash=Bq});var g9=y0(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Errors=Bf.ValueErrorIterator=Bf.EscapeKey=Bf.ValueErrorsUnknownTypeError=Bf.ValueErrorType=void 0;var sa=$l(),Q4=fb(),QA=j5(),Lq=m9(),Lf=ql(),bt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(bt||(Bf.ValueErrorType=bt={}));var db=class db extends Lf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(db,"ValueErrorsUnknownTypeError");var Tm=db;Bf.ValueErrorsUnknownTypeError=Tm;function cc(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(cc,"EscapeKey");Bf.EscapeKey=cc;function $i(e){return e!==void 0}o($i,"IsDefined");var hb=class hb{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};o(hb,"ValueErrorIterator");var Sm=hb;Bf.ValueErrorIterator=Sm;function wt(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:Q4.TypeSystemErrorFunction.Get()(t,e)}}o(wt,"Create");function*Fq(e,t,r,n){}o(Fq,"TAny");function*Oq(e,t,r,n){if(!(0,sa.IsArray)(n))return yield wt(bt.Array,e,r,n);$i(e.minItems)&&!(n.length>=e.minItems)&&(yield wt(bt.ArrayMinItems,e,r,n)),$i(e.maxItems)&&!(n.length<=e.maxItems)&&(yield wt(bt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Va(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let f of n){let c=(0,Lq.Hash)(f);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield wt(bt.ArrayUniqueItems,e,r,n)),!($i(e.contains)||$i(e.minContains)||$i(e.maxContains)))return;let s=$i(e.contains)?e.contains:Lf.Type.Never(),l=n.reduce((a,f,c)=>Va(s,t,`${r}${c}`,f).next().done===!0?a+1:a,0);l===0&&(yield wt(bt.ArrayContains,e,r,n)),(0,sa.IsNumber)(e.minContains)&&l<e.minContains&&(yield wt(bt.ArrayMinContains,e,r,n)),(0,sa.IsNumber)(e.maxContains)&&l>e.maxContains&&(yield wt(bt.ArrayMaxContains,e,r,n))}o(Oq,"TArray");function*Mq(e,t,r,n){(0,sa.IsAsyncIterator)(n)||(yield wt(bt.AsyncIterator,e,r,n))}o(Mq,"TAsyncIterator");function*Uq(e,t,r,n){if(!(0,sa.IsBigInt)(n))return yield wt(bt.BigInt,e,r,n);$i(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield wt(bt.BigIntExclusiveMaximum,e,r,n)),$i(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield wt(bt.BigIntExclusiveMinimum,e,r,n)),$i(e.maximum)&&!(n<=e.maximum)&&(yield wt(bt.BigIntMaximum,e,r,n)),$i(e.minimum)&&!(n>=e.minimum)&&(yield wt(bt.BigIntMinimum,e,r,n)),$i(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield wt(bt.BigIntMultipleOf,e,r,n))}o(Uq,"TBigInt");function*qq(e,t,r,n){(0,sa.IsBoolean)(n)||(yield wt(bt.Boolean,e,r,n))}o(qq,"TBoolean");function*$q(e,t,r,n){yield*Va(e.returns,t,r,n.prototype)}o($q,"TConstructor");function*Hq(e,t,r,n){if(!(0,sa.IsDate)(n))return yield wt(bt.Date,e,r,n);$i(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield wt(bt.DateExclusiveMaximumTimestamp,e,r,n)),$i(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield wt(bt.DateExclusiveMinimumTimestamp,e,r,n)),$i(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield wt(bt.DateMaximumTimestamp,e,r,n)),$i(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield wt(bt.DateMinimumTimestamp,e,r,n)),$i(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield wt(bt.DateMultipleOfTimestamp,e,r,n))}o(Hq,"TDate");function*jq(e,t,r,n){(0,sa.IsFunction)(n)||(yield wt(bt.Function,e,r,n))}o(jq,"TFunction");function*Vq(e,t,r,n){if(!(0,sa.IsInteger)(n))return yield wt(bt.Integer,e,r,n);$i(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield wt(bt.IntegerExclusiveMaximum,e,r,n)),$i(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield wt(bt.IntegerExclusiveMinimum,e,r,n)),$i(e.maximum)&&!(n<=e.maximum)&&(yield wt(bt.IntegerMaximum,e,r,n)),$i(e.minimum)&&!(n>=e.minimum)&&(yield wt(bt.IntegerMinimum,e,r,n)),$i(e.multipleOf)&&n%e.multipleOf!==0&&(yield wt(bt.IntegerMultipleOf,e,r,n))}o(Vq,"TInteger");function*zq(e,t,r,n){for(let s of e.allOf){let l=Va(s,t,r,n).next();l.done||(yield wt(bt.Intersect,e,r,n),yield l.value)}if(e.unevaluatedProperties===!1){let s=new RegExp(Lf.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))s.test(l)||(yield wt(bt.IntersectUnevaluatedProperties,e,`${r}/${l}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Lf.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))if(!s.test(l)){let a=Va(e.unevaluatedProperties,t,`${r}/${l}`,n[l]).next();a.done||(yield a.value)}}}o(zq,"TIntersect");function*Gq(e,t,r,n){(0,sa.IsIterator)(n)||(yield wt(bt.Iterator,e,r,n))}o(Gq,"TIterator");function*Kq(e,t,r,n){n!==e.const&&(yield wt(bt.Literal,e,r,n))}o(Kq,"TLiteral");function*Wq(e,t,r,n){yield wt(bt.Never,e,r,n)}o(Wq,"TNever");function*Yq(e,t,r,n){Va(e.not,t,r,n).next().done===!0&&(yield wt(bt.Not,e,r,n))}o(Yq,"TNot");function*Jq(e,t,r,n){(0,sa.IsNull)(n)||(yield wt(bt.Null,e,r,n))}o(Jq,"TNull");function*Xq(e,t,r,n){if(!Q4.TypeSystemPolicy.IsNumberLike(n))return yield wt(bt.Number,e,r,n);$i(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield wt(bt.NumberExclusiveMaximum,e,r,n)),$i(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield wt(bt.NumberExclusiveMinimum,e,r,n)),$i(e.maximum)&&!(n<=e.maximum)&&(yield wt(bt.NumberMaximum,e,r,n)),$i(e.minimum)&&!(n>=e.minimum)&&(yield wt(bt.NumberMinimum,e,r,n)),$i(e.multipleOf)&&n%e.multipleOf!==0&&(yield wt(bt.NumberMultipleOf,e,r,n))}o(Xq,"TNumber");function*Zq(e,t,r,n){if(!Q4.TypeSystemPolicy.IsObjectLike(n))return yield wt(bt.Object,e,r,n);$i(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield wt(bt.ObjectMinProperties,e,r,n)),$i(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield wt(bt.ObjectMaxProperties,e,r,n));let s=Array.isArray(e.required)?e.required:[],l=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let f of s)a.includes(f)||(yield wt(bt.ObjectRequiredProperty,e.properties[f],`${r}/${cc(f)}`,void 0));if(e.additionalProperties===!1)for(let f of a)l.includes(f)||(yield wt(bt.ObjectAdditionalProperties,e,`${r}/${cc(f)}`,n[f]));if(typeof e.additionalProperties=="object")for(let f of a)l.includes(f)||(yield*Va(e.additionalProperties,t,`${r}/${cc(f)}`,n[f]));for(let f of l){let c=e.properties[f];e.required&&e.required.includes(f)?(yield*Va(c,t,`${r}/${cc(f)}`,n[f]),Lf.ExtendsUndefined.Check(e)&&!(f in n)&&(yield wt(bt.ObjectRequiredProperty,c,`${r}/${cc(f)}`,void 0))):Q4.TypeSystemPolicy.IsExactOptionalProperty(n,f)&&(yield*Va(c,t,`${r}/${cc(f)}`,n[f]))}}o(Zq,"TObject");function*Qq(e,t,r,n){(0,sa.IsPromise)(n)||(yield wt(bt.Promise,e,r,n))}o(Qq,"TPromise");function*e$(e,t,r,n){if(!Q4.TypeSystemPolicy.IsRecordLike(n))return yield wt(bt.Object,e,r,n);$i(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield wt(bt.ObjectMinProperties,e,r,n)),$i(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield wt(bt.ObjectMaxProperties,e,r,n));let[s,l]=Object.entries(e.patternProperties)[0],a=new RegExp(s);for(let[f,c]of Object.entries(n))a.test(f)&&(yield*Va(l,t,`${r}/${cc(f)}`,c));if(typeof e.additionalProperties=="object")for(let[f,c]of Object.entries(n))a.test(f)||(yield*Va(e.additionalProperties,t,`${r}/${cc(f)}`,c));if(e.additionalProperties===!1){for(let[f,c]of Object.entries(n))if(!a.test(f))return yield wt(bt.ObjectAdditionalProperties,e,`${r}/${cc(f)}`,c)}}o(e$,"TRecord");function*t$(e,t,r,n){yield*Va((0,QA.Deref)(e,t),t,r,n)}o(t$,"TRef");function*r$(e,t,r,n){if(!(0,sa.IsString)(n))return yield wt(bt.String,e,r,n);$i(e.minLength)&&!(n.length>=e.minLength)&&(yield wt(bt.StringMinLength,e,r,n)),$i(e.maxLength)&&!(n.length<=e.maxLength)&&(yield wt(bt.StringMaxLength,e,r,n)),(0,sa.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield wt(bt.StringPattern,e,r,n))),(0,sa.IsString)(e.format)&&(Lf.FormatRegistry.Has(e.format)?Lf.FormatRegistry.Get(e.format)(n)||(yield wt(bt.StringFormat,e,r,n)):yield wt(bt.StringFormatUnknown,e,r,n))}o(r$,"TString");function*n$(e,t,r,n){(0,sa.IsSymbol)(n)||(yield wt(bt.Symbol,e,r,n))}o(n$,"TSymbol");function*i$(e,t,r,n){if(!(0,sa.IsString)(n))return yield wt(bt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield wt(bt.StringPattern,e,r,n))}o(i$,"TTemplateLiteral");function*s$(e,t,r,n){yield*Va((0,QA.Deref)(e,t),t,r,n)}o(s$,"TThis");function*o$(e,t,r,n){if(!(0,sa.IsArray)(n))return yield wt(bt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield wt(bt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield wt(bt.TupleLength,e,r,n);if(e.items)for(let s=0;s<e.items.length;s++)yield*Va(e.items[s],t,`${r}/${s}`,n[s])}o(o$,"TTuple");function*a$(e,t,r,n){(0,sa.IsUndefined)(n)||(yield wt(bt.Undefined,e,r,n))}o(a$,"TUndefined");function*l$(e,t,r,n){let s=0;for(let l of e.anyOf){let a=[...Va(l,t,r,n)];if(a.length===0)return;s+=a.length}s>0&&(yield wt(bt.Union,e,r,n))}o(l$,"TUnion");function*f$(e,t,r,n){if(!(0,sa.IsUint8Array)(n))return yield wt(bt.Uint8Array,e,r,n);$i(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield wt(bt.Uint8ArrayMaxByteLength,e,r,n)),$i(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield wt(bt.Uint8ArrayMinByteLength,e,r,n))}o(f$,"TUint8Array");function*c$(e,t,r,n){}o(c$,"TUnknown");function*u$(e,t,r,n){Q4.TypeSystemPolicy.IsVoidLike(n)||(yield wt(bt.Void,e,r,n))}o(u$,"TVoid");function*d$(e,t,r,n){Lf.TypeRegistry.Get(e[Lf.Kind])(e,n)||(yield wt(bt.Kind,e,r,n))}o(d$,"TKind");function*Va(e,t,r,n){let s=$i(e.$id)?[...t,e]:t,l=e;switch(l[Lf.Kind]){case"Any":return yield*Fq(l,s,r,n);case"Array":return yield*Oq(l,s,r,n);case"AsyncIterator":return yield*Mq(l,s,r,n);case"BigInt":return yield*Uq(l,s,r,n);case"Boolean":return yield*qq(l,s,r,n);case"Constructor":return yield*$q(l,s,r,n);case"Date":return yield*Hq(l,s,r,n);case"Function":return yield*jq(l,s,r,n);case"Integer":return yield*Vq(l,s,r,n);case"Intersect":return yield*zq(l,s,r,n);case"Iterator":return yield*Gq(l,s,r,n);case"Literal":return yield*Kq(l,s,r,n);case"Never":return yield*Wq(l,s,r,n);case"Not":return yield*Yq(l,s,r,n);case"Null":return yield*Jq(l,s,r,n);case"Number":return yield*Xq(l,s,r,n);case"Object":return yield*Zq(l,s,r,n);case"Promise":return yield*Qq(l,s,r,n);case"Record":return yield*e$(l,s,r,n);case"Ref":return yield*t$(l,s,r,n);case"String":return yield*r$(l,s,r,n);case"Symbol":return yield*n$(l,s,r,n);case"TemplateLiteral":return yield*i$(l,s,r,n);case"This":return yield*s$(l,s,r,n);case"Tuple":return yield*o$(l,s,r,n);case"Undefined":return yield*a$(l,s,r,n);case"Union":return yield*l$(l,s,r,n);case"Uint8Array":return yield*f$(l,s,r,n);case"Unknown":return yield*c$(l,s,r,n);case"Void":return yield*u$(l,s,r,n);default:if(!Lf.TypeRegistry.Has(l[Lf.Kind]))throw new Tm(e);return yield*d$(l,s,r,n)}}o(Va,"Visit");function h$(...e){let t=e.length===3?Va(e[0],e[1],"",e[2]):Va(e[0],[],"",e[1]);return new Sm(t)}o(h$,"Errors");Bf.Errors=h$});var Im=y0(J2=>{"use strict";var g$=J2&&J2.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),m$=J2&&J2.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&g$(t,e,r)};Object.defineProperty(J2,"__esModule",{value:!0});m$(g9(),J2)});var gb=y0(uu=>{"use strict";var p$=uu&&uu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y$=uu&&uu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&p$(t,e,r)};Object.defineProperty(uu,"__esModule",{value:!0});uu.ValueErrorType=void 0;var v$=g9();Object.defineProperty(uu,"ValueErrorType",{enumerable:!0,get:function(){return v$.ValueErrorType}});y$(fb(),uu)});var t8=y0(e8=>{"use strict";Object.defineProperty(e8,"__esModule",{value:!0});e8.Check=e8.ValueCheckUnknownTypeError=void 0;var oa=$l(),p9=gb(),eP=j5(),x$=m9(),za=ql(),mb=class mb extends za.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(mb,"ValueCheckUnknownTypeError");var wm=mb;e8.ValueCheckUnknownTypeError=wm;function _$(e){return e[za.Kind]==="Any"||e[za.Kind]==="Unknown"}o(_$,"IsAnyOrUnknown");function Hi(e){return e!==void 0}o(Hi,"IsDefined");function b$(e,t,r){return!0}o(b$,"TAny");function C$(e,t,r){if(!(0,oa.IsArray)(r)||Hi(e.minItems)&&!(r.length>=e.minItems)||Hi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(l=>Ga(e.items,t,l))||e.uniqueItems===!0&&!function(){let l=new Set;for(let a of r){let f=(0,x$.Hash)(a);if(l.has(f))return!1;l.add(f)}return!0}())return!1;if(!(Hi(e.contains)||(0,oa.IsNumber)(e.minContains)||(0,oa.IsNumber)(e.maxContains)))return!0;let n=Hi(e.contains)?e.contains:za.Type.Never(),s=r.reduce((l,a)=>Ga(n,t,a)?l+1:l,0);return!(s===0||(0,oa.IsNumber)(e.minContains)&&s<e.minContains||(0,oa.IsNumber)(e.maxContains)&&s>e.maxContains)}o(C$,"TArray");function E$(e,t,r){return(0,oa.IsAsyncIterator)(r)}o(E$,"TAsyncIterator");function T$(e,t,r){return!(!(0,oa.IsBigInt)(r)||Hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Hi(e.maximum)&&!(r<=e.maximum)||Hi(e.minimum)&&!(r>=e.minimum)||Hi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(T$,"TBigInt");function S$(e,t,r){return(0,oa.IsBoolean)(r)}o(S$,"TBoolean");function I$(e,t,r){return Ga(e.returns,t,r.prototype)}o(I$,"TConstructor");function w$(e,t,r){return!(!(0,oa.IsDate)(r)||Hi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Hi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Hi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Hi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Hi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(w$,"TDate");function A$(e,t,r){return(0,oa.IsFunction)(r)}o(A$,"TFunction");function P$(e,t,r){return!(!(0,oa.IsInteger)(r)||Hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Hi(e.maximum)&&!(r<=e.maximum)||Hi(e.minimum)&&!(r>=e.minimum)||Hi(e.multipleOf)&&r%e.multipleOf!==0)}o(P$,"TInteger");function R$(e,t,r){let n=e.allOf.every(s=>Ga(s,t,r));if(e.unevaluatedProperties===!1){let s=new RegExp(za.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a));return n&&l}else if(za.TypeGuard.TSchema(e.unevaluatedProperties)){let s=new RegExp(za.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a)||Ga(e.unevaluatedProperties,t,r[a]));return n&&l}else return n}o(R$,"TIntersect");function N$(e,t,r){return(0,oa.IsIterator)(r)}o(N$,"TIterator");function k$(e,t,r){return r===e.const}o(k$,"TLiteral");function D$(e,t,r){return!1}o(D$,"TNever");function B$(e,t,r){return!Ga(e.not,t,r)}o(B$,"TNot");function L$(e,t,r){return(0,oa.IsNull)(r)}o(L$,"TNull");function F$(e,t,r){return!(!p9.TypeSystemPolicy.IsNumberLike(r)||Hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Hi(e.minimum)&&!(r>=e.minimum)||Hi(e.maximum)&&!(r<=e.maximum)||Hi(e.multipleOf)&&r%e.multipleOf!==0)}o(F$,"TNumber");function O$(e,t,r){if(!p9.TypeSystemPolicy.IsObjectLike(r)||Hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let s of n){let l=e.properties[s];if(e.required&&e.required.includes(s)){if(!Ga(l,t,r[s])||(za.ExtendsUndefined.Check(l)||_$(l))&&!(s in r))return!1}else if(p9.TypeSystemPolicy.IsExactOptionalProperty(r,s)&&!Ga(l,t,r[s]))return!1}if(e.additionalProperties===!1){let s=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&s.length===n.length?!0:s.every(l=>n.includes(l))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(l=>n.includes(l)||Ga(e.additionalProperties,t,r[l])):!0}o(O$,"TObject");function M$(e,t,r){return(0,oa.IsPromise)(r)}o(M$,"TPromise");function U$(e,t,r){if(!p9.TypeSystemPolicy.IsRecordLike(r)||Hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,s]=Object.entries(e.patternProperties)[0],l=new RegExp(n),a=Object.entries(r).every(([u,d])=>l.test(u)?Ga(s,t,d):!0),f=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,d])=>l.test(u)?!0:Ga(e.additionalProperties,t,d)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>l.test(u)):!0;return a&&f&&c}o(U$,"TRecord");function q$(e,t,r){return Ga((0,eP.Deref)(e,t),t,r)}o(q$,"TRef");function $$(e,t,r){return!(0,oa.IsString)(r)||Hi(e.minLength)&&!(r.length>=e.minLength)||Hi(e.maxLength)&&!(r.length<=e.maxLength)||Hi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Hi(e.format)?za.FormatRegistry.Has(e.format)?za.FormatRegistry.Get(e.format)(r):!1:!0}o($$,"TString");function H$(e,t,r){return(0,oa.IsSymbol)(r)}o(H$,"TSymbol");function j$(e,t,r){return(0,oa.IsString)(r)&&new RegExp(e.pattern).test(r)}o(j$,"TTemplateLiteral");function V$(e,t,r){return Ga((0,eP.Deref)(e,t),t,r)}o(V$,"TThis");function z$(e,t,r){if(!(0,oa.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Ga(e.items[n],t,r[n]))return!1;return!0}o(z$,"TTuple");function G$(e,t,r){return(0,oa.IsUndefined)(r)}o(G$,"TUndefined");function K$(e,t,r){return e.anyOf.some(n=>Ga(n,t,r))}o(K$,"TUnion");function W$(e,t,r){return!(!(0,oa.IsUint8Array)(r)||Hi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Hi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(W$,"TUint8Array");function Y$(e,t,r){return!0}o(Y$,"TUnknown");function J$(e,t,r){return p9.TypeSystemPolicy.IsVoidLike(r)}o(J$,"TVoid");function X$(e,t,r){return za.TypeRegistry.Has(e[za.Kind])?za.TypeRegistry.Get(e[za.Kind])(e,r):!1}o(X$,"TKind");function Ga(e,t,r){let n=Hi(e.$id)?[...t,e]:t,s=e;switch(s[za.Kind]){case"Any":return b$(s,n,r);case"Array":return C$(s,n,r);case"AsyncIterator":return E$(s,n,r);case"BigInt":return T$(s,n,r);case"Boolean":return S$(s,n,r);case"Constructor":return I$(s,n,r);case"Date":return w$(s,n,r);case"Function":return A$(s,n,r);case"Integer":return P$(s,n,r);case"Intersect":return R$(s,n,r);case"Iterator":return N$(s,n,r);case"Literal":return k$(s,n,r);case"Never":return D$(s,n,r);case"Not":return B$(s,n,r);case"Null":return L$(s,n,r);case"Number":return F$(s,n,r);case"Object":return O$(s,n,r);case"Promise":return M$(s,n,r);case"Record":return U$(s,n,r);case"Ref":return q$(s,n,r);case"String":return $$(s,n,r);case"Symbol":return H$(s,n,r);case"TemplateLiteral":return j$(s,n,r);case"This":return V$(s,n,r);case"Tuple":return z$(s,n,r);case"Undefined":return G$(s,n,r);case"Union":return K$(s,n,r);case"Uint8Array":return W$(s,n,r);case"Unknown":return Y$(s,n,r);case"Void":return J$(s,n,r);default:if(!za.TypeRegistry.Has(s[za.Kind]))throw new wm(s);return X$(s,n,r)}}o(Ga,"Visit");function Z$(...e){return e.length===3?Ga(e[0],e[1],e[2]):Ga(e[0],[],e[1])}o(Z$,"Check");e8.Check=Z$});var Eb=y0(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.EncodeTransform=dl.DecodeTransform=dl.HasTransform=dl.TransformEncodeError=dl.TransformDecodeError=dl.TransformEncodeCheckError=dl.TransformDecodeCheckError=void 0;var _l=$l(),r8=j5(),pb=t8(),an=ql(),xb=class xb extends an.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(xb,"TransformDecodeCheckError");var yb=xb;dl.TransformDecodeCheckError=yb;var _b=class _b extends an.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(_b,"TransformEncodeCheckError");var vb=_b;dl.TransformEncodeCheckError=vb;var bb=class bb extends an.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(bb,"TransformDecodeError");var Am=bb;dl.TransformDecodeError=Am;var Cb=class Cb extends an.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(Cb,"TransformEncodeError");var Pm=Cb;dl.TransformEncodeError=Pm;var tP;(function(e){function t(P,L){return an.TypeGuard.TTransform(P)||x(P.items,L)}o(t,"TArray");function r(P,L){return an.TypeGuard.TTransform(P)||x(P.items,L)}o(r,"TAsyncIterator");function n(P,L){return an.TypeGuard.TTransform(P)||x(P.returns,L)||P.parameters.some(F=>x(F,L))}o(n,"TConstructor");function s(P,L){return an.TypeGuard.TTransform(P)||x(P.returns,L)||P.parameters.some(F=>x(F,L))}o(s,"TFunction");function l(P,L){return an.TypeGuard.TTransform(P)||an.TypeGuard.TTransform(P.unevaluatedProperties)||P.allOf.some(F=>x(F,L))}o(l,"TIntersect");function a(P,L){return an.TypeGuard.TTransform(P)||x(P.items,L)}o(a,"TIterator");function f(P,L){return an.TypeGuard.TTransform(P)||x(P.not,L)}o(f,"TNot");function c(P,L){return an.TypeGuard.TTransform(P)||Object.values(P.properties).some(F=>x(F,L))||an.TypeGuard.TSchema(P.additionalProperties)&&x(P.additionalProperties,L)}o(c,"TObject");function u(P,L){return an.TypeGuard.TTransform(P)||x(P.item,L)}o(u,"TPromise");function d(P,L){let F=Object.getOwnPropertyNames(P.patternProperties)[0],B=P.patternProperties[F];return an.TypeGuard.TTransform(P)||x(B,L)||an.TypeGuard.TSchema(P.additionalProperties)&&an.TypeGuard.TTransform(P.additionalProperties)}o(d,"TRecord");function h(P,L){return an.TypeGuard.TTransform(P)?!0:x((0,r8.Deref)(P,L),L)}o(h,"TRef");function m(P,L){return an.TypeGuard.TTransform(P)?!0:x((0,r8.Deref)(P,L),L)}o(m,"TThis");function p(P,L){return an.TypeGuard.TTransform(P)||!(0,_l.IsUndefined)(P.items)&&P.items.some(F=>x(F,L))}o(p,"TTuple");function v(P,L){return an.TypeGuard.TTransform(P)||P.anyOf.some(F=>x(F,L))}o(v,"TUnion");function x(P,L){let F=(0,_l.IsString)(P.$id)?[...L,P]:L,B=P;if(P.$id&&E.has(P.$id))return!1;switch(P.$id&&E.add(P.$id),P[an.Kind]){case"Array":return t(B,F);case"AsyncIterator":return r(B,F);case"Constructor":return n(B,F);case"Function":return s(B,F);case"Intersect":return l(B,F);case"Iterator":return a(B,F);case"Not":return f(B,F);case"Object":return c(B,F);case"Promise":return u(B,F);case"Record":return d(B,F);case"Ref":return h(B,F);case"This":return m(B,F);case"Tuple":return p(B,F);case"Union":return v(B,F);default:return an.TypeGuard.TTransform(P)}}o(x,"Visit");let E=new Set;function I(P,L){return E.clear(),x(P,L)}o(I,"Has"),e.Has=I})(tP||(dl.HasTransform=tP={}));var rP;(function(e){function t(p,v){try{return an.TypeGuard.TTransform(p)?p[an.Transform].Decode(v):v}catch(x){throw new Am(p,v,x)}}o(t,"Default");function r(p,v,x){return(0,_l.IsArray)(x)?t(p,x.map(E=>h(p.items,v,E))):t(p,x)}o(r,"TArray");function n(p,v,x){if(!(0,_l.IsPlainObject)(x)||(0,_l.IsValueType)(x))return t(p,x);let E=an.KeyResolver.ResolveKeys(p,{includePatterns:!1}),I=E.reduce((B,V)=>V in B?{...B,[V]:h(an.IndexedAccessor.Resolve(p,[V]),v,B[V])}:B,x);if(!an.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,I);let P=Object.getOwnPropertyNames(I),L=p.unevaluatedProperties,F=P.reduce((B,V)=>E.includes(V)?B:{...B,[V]:t(L,B[V])},I);return t(p,F)}o(n,"TIntersect");function s(p,v,x){return t(p,h(p.not,v,x))}o(s,"TNot");function l(p,v,x){if(!(0,_l.IsPlainObject)(x))return t(p,x);let E=an.KeyResolver.ResolveKeys(p,{includePatterns:!1}),I=E.reduce((B,V)=>V in B?{...B,[V]:h(p.properties[V],v,B[V])}:B,x);if(!an.TypeGuard.TSchema(p.additionalProperties))return t(p,I);let P=Object.getOwnPropertyNames(I),L=p.additionalProperties,F=P.reduce((B,V)=>E.includes(V)?B:{...B,[V]:t(L,B[V])},I);return t(p,F)}o(l,"TObject");function a(p,v,x){if(!(0,_l.IsPlainObject)(x))return t(p,x);let E=Object.getOwnPropertyNames(p.patternProperties)[0],I=new RegExp(E),P=Object.getOwnPropertyNames(x).reduce((V,de)=>I.test(de)?{...V,[de]:h(p.patternProperties[E],v,V[de])}:V,x);if(!an.TypeGuard.TSchema(p.additionalProperties))return t(p,P);let L=Object.getOwnPropertyNames(P),F=p.additionalProperties,B=L.reduce((V,de)=>I.test(de)?V:{...V,[de]:t(F,V[de])},P);return t(p,B)}o(a,"TRecord");function f(p,v,x){let E=(0,r8.Deref)(p,v);return t(p,h(E,v,x))}o(f,"TRef");function c(p,v,x){let E=(0,r8.Deref)(p,v);return t(p,h(E,v,x))}o(c,"TThis");function u(p,v,x){return(0,_l.IsArray)(x)&&(0,_l.IsArray)(p.items)?t(p,p.items.map((E,I)=>h(E,v,x[I]))):t(p,x)}o(u,"TTuple");function d(p,v,x){let E=t(p,x);for(let I of p.anyOf)if((0,pb.Check)(I,v,E))return h(I,v,E);return E}o(d,"TUnion");function h(p,v,x){let E=typeof p.$id=="string"?[...v,p]:v,I=p;switch(p[an.Kind]){case"Array":return r(I,E,x);case"Intersect":return n(I,E,x);case"Not":return s(I,E,x);case"Object":return l(I,E,x);case"Record":return a(I,E,x);case"Ref":return f(I,E,x);case"Symbol":return t(I,x);case"This":return c(I,E,x);case"Tuple":return u(I,E,x);case"Union":return d(I,E,x);default:return t(I,x)}}o(h,"Visit");function m(p,v,x){return h(p,v,x)}o(m,"Decode"),e.Decode=m})(rP||(dl.DecodeTransform=rP={}));var nP;(function(e){function t(p,v){try{return an.TypeGuard.TTransform(p)?p[an.Transform].Encode(v):v}catch(x){throw new Pm(p,v,x)}}o(t,"Default");function r(p,v,x){let E=t(p,x);return(0,_l.IsArray)(E)?E.map(I=>h(p.items,v,I)):E}o(r,"TArray");function n(p,v,x){let E=t(p,x);if(!(0,_l.IsPlainObject)(x)||(0,_l.IsValueType)(x))return E;let I=an.KeyResolver.ResolveKeys(p,{includePatterns:!1}),P=I.reduce((B,V)=>V in E?{...B,[V]:h(an.IndexedAccessor.Resolve(p,[V]),v,B[V])}:B,E);if(!an.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,P);let L=Object.getOwnPropertyNames(P),F=p.unevaluatedProperties;return L.reduce((B,V)=>I.includes(V)?B:{...B,[V]:t(F,B[V])},P)}o(n,"TIntersect");function s(p,v,x){return t(p.not,t(p,x))}o(s,"TNot");function l(p,v,x){let E=t(p,x);if(!(0,_l.IsPlainObject)(x))return E;let I=an.KeyResolver.ResolveKeys(p,{includePatterns:!1}),P=I.reduce((B,V)=>V in B?{...B,[V]:h(p.properties[V],v,B[V])}:B,E);if(!an.TypeGuard.TSchema(p.additionalProperties))return P;let L=Object.getOwnPropertyNames(P),F=p.additionalProperties;return L.reduce((B,V)=>I.includes(V)?B:{...B,[V]:t(F,B[V])},P)}o(l,"TObject");function a(p,v,x){let E=t(p,x);if(!(0,_l.IsPlainObject)(x))return E;let I=Object.getOwnPropertyNames(p.patternProperties)[0],P=new RegExp(I),L=Object.getOwnPropertyNames(x).reduce((V,de)=>P.test(de)?{...V,[de]:h(p.patternProperties[I],v,V[de])}:V,E);if(!an.TypeGuard.TSchema(p.additionalProperties))return t(p,L);let F=Object.getOwnPropertyNames(L),B=p.additionalProperties;return F.reduce((V,de)=>P.test(de)?V:{...V,[de]:t(B,V[de])},L)}o(a,"TRecord");function f(p,v,x){let E=(0,r8.Deref)(p,v),I=h(E,v,x);return t(p,I)}o(f,"TRef");function c(p,v,x){let E=(0,r8.Deref)(p,v),I=h(E,v,x);return t(p,I)}o(c,"TThis");function u(p,v,x){let E=t(p,x);return(0,_l.IsArray)(p.items)?p.items.map((I,P)=>h(I,v,E[P])):[]}o(u,"TTuple");function d(p,v,x){for(let E of p.anyOf){if(!(0,pb.Check)(E,v,x))continue;let I=h(E,v,x);return t(p,I)}for(let E of p.anyOf){let I=h(E,v,x);if((0,pb.Check)(p,v,I))return t(p,I)}return t(p,x)}o(d,"TUnion");function h(p,v,x){let E=typeof p.$id=="string"?[...v,p]:v,I=p;switch(p[an.Kind]){case"Array":return r(I,E,x);case"Intersect":return n(I,E,x);case"Not":return s(I,E,x);case"Object":return l(I,E,x);case"Record":return a(I,E,x);case"Ref":return f(I,E,x);case"This":return c(I,E,x);case"Tuple":return u(I,E,x);case"Union":return d(I,E,x);default:return t(I,x)}}o(h,"Visit");function m(p,v,x){return h(p,v,x)}o(m,"Encode"),e.Encode=m})(nP||(dl.EncodeTransform=nP={}))});var sP=y0(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.TypeCompiler=Ff.Policy=Ff.TypeCompilerTypeGuardError=Ff.TypeCompilerUnknownTypeError=Ff.TypeCheck=void 0;var y9=Eb(),bn=$l(),Q$=g9(),v9=gb(),eH=j5(),tH=m9(),Hs=ql(),Ib=class Ib{constructor(t,r,n,s){this.schema=t,this.references=r,this.checkFunc=n,this.code=s,this.hasTransform=y9.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,Q$.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new y9.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?y9.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?y9.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new y9.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};o(Ib,"TypeCheck");var Rm=Ib;Ff.TypeCheck=Rm;var du;(function(e){function t(l){return l===36}o(t,"DollarSign"),e.DollarSign=t;function r(l){return l===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(l){return l>=65&&l<=90||l>=97&&l<=122}o(n,"IsAlpha"),e.IsAlpha=n;function s(l){return l>=48&&l<=57}o(s,"IsNumeric"),e.IsNumeric=s})(du||(du={}));var Nm;(function(e){function t(l){return l.length===0?!1:du.IsNumeric(l.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(l){if(t(l))return!1;for(let a=0;a<l.length;a++){let f=l.charCodeAt(a);if(!(du.IsAlpha(f)||du.IsNumeric(f)||du.DollarSign(f)||du.IsUnderscore(f)))return!1}return!0}o(r,"IsAccessor");function n(l){return l.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function s(l,a){return r(a)?`${l}.${a}`:`${l}['${n(a)}']`}o(s,"Encode"),e.Encode=s})(Nm||(Nm={}));var Tb;(function(e){function t(r){let n=[];for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);du.IsNumeric(l)||du.IsAlpha(l)?n.push(r.charAt(s)):n.push(`_${l}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(Tb||(Tb={}));var Sb;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(Sb||(Sb={}));var wb=class wb extends Hs.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(wb,"TypeCompilerUnknownTypeError");var km=wb;Ff.TypeCompilerUnknownTypeError=km;var Ab=class Ab extends Hs.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};o(Ab,"TypeCompilerTypeGuardError");var x9=Ab;Ff.TypeCompilerTypeGuardError=x9;var X2;(function(e){function t(a,f,c){return v9.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${f}' in ${a} ? ${c} : true)`:`(${Nm.Encode(a,f)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return v9.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return v9.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){return v9.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){return v9.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(l,"IsVoidLike"),e.IsVoidLike=l})(X2||(Ff.Policy=X2={}));var iP;(function(e){function t(ue){return ue[Hs.Kind]==="Any"||ue[Hs.Kind]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ue,B0,Ve){yield"true"}o(r,"TAny");function*n(ue,B0,Ve){yield`Array.isArray(${Ve})`;let[L0,D0]=[C0("value","any"),C0("acc","number")];(0,bn.IsNumber)(ue.maxItems)&&(yield`${Ve}.length <= ${ue.maxItems}`),(0,bn.IsNumber)(ue.minItems)&&(yield`${Ve}.length >= ${ue.minItems}`);let G0=t0(ue.items,B0,"value");if(yield`${Ve}.every((${L0}) => ${G0})`,Hs.TypeGuard.TSchema(ue.contains)||(0,bn.IsNumber)(ue.minContains)||(0,bn.IsNumber)(ue.maxContains)){let hr=Hs.TypeGuard.TSchema(ue.contains)?ue.contains:Hs.Type.Never(),Vr=t0(hr,B0,"value"),Cr=(0,bn.IsNumber)(ue.minContains)?[`(count >= ${ue.minContains})`]:[],le=(0,bn.IsNumber)(ue.maxContains)?[`(count <= ${ue.maxContains})`]:[],Dr=`const count = value.reduce((${D0}, ${L0}) => ${Vr} ? acc + 1 : acc, 0)`,Qt=["(count > 0)",...Cr,...le].join(" && ");yield`((${L0}) => { ${Dr}; return ${Qt}})(${Ve})`}ue.uniqueItems===!0&&(yield`((${L0}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ve})`)}o(n,"TArray");function*s(ue,B0,Ve){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ve})`}o(s,"TAsyncIterator");function*l(ue,B0,Ve){yield`(typeof ${Ve} === 'bigint')`,(0,bn.IsBigInt)(ue.exclusiveMaximum)&&(yield`${Ve} < BigInt(${ue.exclusiveMaximum})`),(0,bn.IsBigInt)(ue.exclusiveMinimum)&&(yield`${Ve} > BigInt(${ue.exclusiveMinimum})`),(0,bn.IsBigInt)(ue.maximum)&&(yield`${Ve} <= BigInt(${ue.maximum})`),(0,bn.IsBigInt)(ue.minimum)&&(yield`${Ve} >= BigInt(${ue.minimum})`),(0,bn.IsBigInt)(ue.multipleOf)&&(yield`(${Ve} % BigInt(${ue.multipleOf})) === 0`)}o(l,"TBigInt");function*a(ue,B0,Ve){yield`(typeof ${Ve} === 'boolean')`}o(a,"TBoolean");function*f(ue,B0,Ve){yield*l0(ue.returns,B0,`${Ve}.prototype`)}o(f,"TConstructor");function*c(ue,B0,Ve){yield`(${Ve} instanceof Date) && Number.isFinite(${Ve}.getTime())`,(0,bn.IsNumber)(ue.exclusiveMaximumTimestamp)&&(yield`${Ve}.getTime() < ${ue.exclusiveMaximumTimestamp}`),(0,bn.IsNumber)(ue.exclusiveMinimumTimestamp)&&(yield`${Ve}.getTime() > ${ue.exclusiveMinimumTimestamp}`),(0,bn.IsNumber)(ue.maximumTimestamp)&&(yield`${Ve}.getTime() <= ${ue.maximumTimestamp}`),(0,bn.IsNumber)(ue.minimumTimestamp)&&(yield`${Ve}.getTime() >= ${ue.minimumTimestamp}`),(0,bn.IsNumber)(ue.multipleOfTimestamp)&&(yield`(${Ve}.getTime() % ${ue.multipleOfTimestamp}) === 0`)}o(c,"TDate");function*u(ue,B0,Ve){yield`(typeof ${Ve} === 'function')`}o(u,"TFunction");function*d(ue,B0,Ve){yield`(typeof ${Ve} === 'number' && Number.isInteger(${Ve}))`,(0,bn.IsNumber)(ue.exclusiveMaximum)&&(yield`${Ve} < ${ue.exclusiveMaximum}`),(0,bn.IsNumber)(ue.exclusiveMinimum)&&(yield`${Ve} > ${ue.exclusiveMinimum}`),(0,bn.IsNumber)(ue.maximum)&&(yield`${Ve} <= ${ue.maximum}`),(0,bn.IsNumber)(ue.minimum)&&(yield`${Ve} >= ${ue.minimum}`),(0,bn.IsNumber)(ue.multipleOf)&&(yield`(${Ve} % ${ue.multipleOf}) === 0`)}o(d,"TInteger");function*h(ue,B0,Ve){let L0=ue.allOf.map(D0=>t0(D0,B0,Ve)).join(" && ");if(ue.unevaluatedProperties===!1){let D0=ce(`${new RegExp(Hs.KeyResolver.ResolvePattern(ue))};`),G0=`Object.getOwnPropertyNames(${Ve}).every(key => ${D0}.test(key))`;yield`(${L0} && ${G0})`}else if(Hs.TypeGuard.TSchema(ue.unevaluatedProperties)){let D0=ce(`${new RegExp(Hs.KeyResolver.ResolvePattern(ue))};`),G0=`Object.getOwnPropertyNames(${Ve}).every(key => ${D0}.test(key) || ${t0(ue.unevaluatedProperties,B0,`${Ve}[key]`)})`;yield`(${L0} && ${G0})`}else yield`(${L0})`}o(h,"TIntersect");function*m(ue,B0,Ve){yield`(typeof value === 'object' && Symbol.iterator in ${Ve})`}o(m,"TIterator");function*p(ue,B0,Ve){typeof ue.const=="number"||typeof ue.const=="boolean"?yield`(${Ve} === ${ue.const})`:yield`(${Ve} === '${Sb.Escape(ue.const)}')`}o(p,"TLiteral");function*v(ue,B0,Ve){yield"false"}o(v,"TNever");function*x(ue,B0,Ve){yield`(!${t0(ue.not,B0,Ve)})`}o(x,"TNot");function*E(ue,B0,Ve){yield`(${Ve} === null)`}o(E,"TNull");function*I(ue,B0,Ve){yield X2.IsNumberLike(Ve),(0,bn.IsNumber)(ue.exclusiveMaximum)&&(yield`${Ve} < ${ue.exclusiveMaximum}`),(0,bn.IsNumber)(ue.exclusiveMinimum)&&(yield`${Ve} > ${ue.exclusiveMinimum}`),(0,bn.IsNumber)(ue.maximum)&&(yield`${Ve} <= ${ue.maximum}`),(0,bn.IsNumber)(ue.minimum)&&(yield`${Ve} >= ${ue.minimum}`),(0,bn.IsNumber)(ue.multipleOf)&&(yield`(${Ve} % ${ue.multipleOf}) === 0`)}o(I,"TNumber");function*P(ue,B0,Ve){yield X2.IsObjectLike(Ve),(0,bn.IsNumber)(ue.minProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length >= ${ue.minProperties}`),(0,bn.IsNumber)(ue.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length <= ${ue.maxProperties}`);let L0=Object.getOwnPropertyNames(ue.properties);for(let D0 of L0){let G0=Nm.Encode(Ve,D0),hr=ue.properties[D0];if(ue.required&&ue.required.includes(D0))yield*l0(hr,B0,G0),(Hs.ExtendsUndefined.Check(hr)||t(hr))&&(yield`('${D0}' in ${Ve})`);else{let Vr=t0(hr,B0,G0);yield X2.IsExactOptionalProperty(Ve,D0,Vr)}}if(ue.additionalProperties===!1)if(ue.required&&ue.required.length===L0.length)yield`Object.getOwnPropertyNames(${Ve}).length === ${L0.length}`;else{let D0=`[${L0.map(G0=>`'${G0}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ve}).every(key => ${D0}.includes(key))`}if(typeof ue.additionalProperties=="object"){let D0=t0(ue.additionalProperties,B0,`${Ve}[key]`),G0=`[${L0.map(hr=>`'${hr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ve}).every(key => ${G0}.includes(key) || ${D0}))`}}o(P,"TObject");function*L(ue,B0,Ve){yield`(typeof value === 'object' && typeof ${Ve}.then === 'function')`}o(L,"TPromise");function*F(ue,B0,Ve){yield X2.IsRecordLike(Ve),(0,bn.IsNumber)(ue.minProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length >= ${ue.minProperties}`),(0,bn.IsNumber)(ue.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length <= ${ue.maxProperties}`);let[L0,D0]=Object.entries(ue.patternProperties)[0],G0=ce(`${new RegExp(L0)}`),hr=t0(D0,B0,"value"),Vr=Hs.TypeGuard.TSchema(ue.additionalProperties)?t0(ue.additionalProperties,B0,Ve):ue.additionalProperties===!1?"false":"true",Cr=`(${G0}.test(key) ? ${hr} : ${Vr})`;yield`(Object.entries(${Ve}).every(([key, value]) => ${Cr}))`}o(F,"TRecord");function*B(ue,B0,Ve){let L0=(0,eH.Deref)(ue,B0);if(N0.functions.has(ue.$ref))return yield`${f0(ue.$ref)}(${Ve})`;yield*l0(L0,B0,Ve)}o(B,"TRef");function*V(ue,B0,Ve){yield`(typeof ${Ve} === 'string')`,(0,bn.IsNumber)(ue.maxLength)&&(yield`${Ve}.length <= ${ue.maxLength}`),(0,bn.IsNumber)(ue.minLength)&&(yield`${Ve}.length >= ${ue.minLength}`),ue.pattern!==void 0&&(yield`${ce(`${new RegExp(ue.pattern)};`)}.test(${Ve})`),ue.format!==void 0&&(yield`format('${ue.format}', ${Ve})`)}o(V,"TString");function*de(ue,B0,Ve){yield`(typeof ${Ve} === 'symbol')`}o(de,"TSymbol");function*ve(ue,B0,Ve){yield`(typeof ${Ve} === 'string')`,yield`${ce(`${new RegExp(ue.pattern)};`)}.test(${Ve})`}o(ve,"TTemplateLiteral");function*n0(ue,B0,Ve){yield`${f0(ue.$ref)}(${Ve})`}o(n0,"TThis");function*d0(ue,B0,Ve){if(yield`Array.isArray(${Ve})`,ue.items===void 0)return yield`${Ve}.length === 0`;yield`(${Ve}.length === ${ue.maxItems})`;for(let L0=0;L0<ue.items.length;L0++)yield`${t0(ue.items[L0],B0,`${Ve}[${L0}]`)}`}o(d0,"TTuple");function*r0(ue,B0,Ve){yield`${Ve} === undefined`}o(r0,"TUndefined");function*m0(ue,B0,Ve){yield`(${ue.anyOf.map(D0=>t0(D0,B0,Ve)).join(" || ")})`}o(m0,"TUnion");function*$e(ue,B0,Ve){yield`${Ve} instanceof Uint8Array`,(0,bn.IsNumber)(ue.maxByteLength)&&(yield`(${Ve}.length <= ${ue.maxByteLength})`),(0,bn.IsNumber)(ue.minByteLength)&&(yield`(${Ve}.length >= ${ue.minByteLength})`)}o($e,"TUint8Array");function*we(ue,B0,Ve){yield"true"}o(we,"TUnknown");function*o0(ue,B0,Ve){yield X2.IsVoidLike(Ve)}o(o0,"TVoid");function*u0(ue,B0,Ve){let L0=N0.instances.size;N0.instances.set(L0,ue),yield`kind('${ue[Hs.Kind]}', ${L0}, ${Ve})`}o(u0,"TKind");function*l0(ue,B0,Ve,L0=!0){let D0=(0,bn.IsString)(ue.$id)?[...B0,ue]:B0,G0=ue;if(L0&&(0,bn.IsString)(ue.$id)){let hr=f0(ue.$id);if(N0.functions.has(hr))return yield`${hr}(${Ve})`;{let Vr=Se(hr,ue,B0,"value",!1);return N0.functions.set(hr,Vr),yield`${hr}(${Ve})`}}switch(G0[Hs.Kind]){case"Any":return yield*r(G0,D0,Ve);case"Array":return yield*n(G0,D0,Ve);case"AsyncIterator":return yield*s(G0,D0,Ve);case"BigInt":return yield*l(G0,D0,Ve);case"Boolean":return yield*a(G0,D0,Ve);case"Constructor":return yield*f(G0,D0,Ve);case"Date":return yield*c(G0,D0,Ve);case"Function":return yield*u(G0,D0,Ve);case"Integer":return yield*d(G0,D0,Ve);case"Intersect":return yield*h(G0,D0,Ve);case"Iterator":return yield*m(G0,D0,Ve);case"Literal":return yield*p(G0,D0,Ve);case"Never":return yield*v(G0,D0,Ve);case"Not":return yield*x(G0,D0,Ve);case"Null":return yield*E(G0,D0,Ve);case"Number":return yield*I(G0,D0,Ve);case"Object":return yield*P(G0,D0,Ve);case"Promise":return yield*L(G0,D0,Ve);case"Record":return yield*F(G0,D0,Ve);case"Ref":return yield*B(G0,D0,Ve);case"String":return yield*V(G0,D0,Ve);case"Symbol":return yield*de(G0,D0,Ve);case"TemplateLiteral":return yield*ve(G0,D0,Ve);case"This":return yield*n0(G0,D0,Ve);case"Tuple":return yield*d0(G0,D0,Ve);case"Undefined":return yield*r0(G0,D0,Ve);case"Union":return yield*m0(G0,D0,Ve);case"Uint8Array":return yield*$e(G0,D0,Ve);case"Unknown":return yield*we(G0,D0,Ve);case"Void":return yield*o0(G0,D0,Ve);default:if(!Hs.TypeRegistry.Has(G0[Hs.Kind]))throw new km(ue);return yield*u0(G0,D0,Ve)}}o(l0,"Visit");let N0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function t0(ue,B0,Ve,L0=!0){return`(${[...l0(ue,B0,Ve,L0)].join(" && ")})`}o(t0,"CreateExpression");function f0(ue){return`check_${Tb.Encode(ue)}`}o(f0,"CreateFunctionName");function ce(ue){let B0=`local_${N0.variables.size}`;return N0.variables.set(B0,`const ${B0} = ${ue}`),B0}o(ce,"CreateVariable");function Se(ue,B0,Ve,L0,D0=!0){let[G0,hr]=[`
`,Dr=>"".padStart(Dr," ")],Vr=C0("value","any"),Cr=z0("boolean"),le=[...l0(B0,Ve,L0,D0)].map(Dr=>`${hr(4)}${Dr}`).join(` &&${G0}`);return`function ${ue}(${Vr})${Cr} {${G0}${hr(2)}return (${G0}${le}${G0}${hr(2)})
}`}o(Se,"CreateFunction");function C0(ue,B0){let Ve=N0.language==="typescript"?`: ${B0}`:"";return`${ue}${Ve}`}o(C0,"CreateParameter");function z0(ue){return N0.language==="typescript"?`: ${ue}`:""}o(z0,"CreateReturns");function O0(ue,B0,Ve){let L0=Se("check",ue,B0,"value"),D0=C0("value","any"),G0=z0("boolean"),hr=[...N0.functions.values()],Vr=[...N0.variables.values()],Cr=(0,bn.IsString)(ue.$id)?`return function check(${D0})${G0} {
  return ${f0(ue.$id)}(value)
}`:`return ${L0}`;return[...Vr,...hr,Cr].join(`
`)}o(O0,"Build");function v0(...ue){let B0={language:"javascript"},[Ve,L0,D0]=ue.length===2&&(0,bn.IsArray)(ue[1])?[ue[0],ue[1],B0]:ue.length===2&&!(0,bn.IsArray)(ue[1])?[ue[0],[],ue[1]]:ue.length===3?[ue[0],ue[1],ue[2]]:ue.length===1?[ue[0],[],B0]:[null,[],B0];if(N0.language=D0.language,N0.variables.clear(),N0.functions.clear(),N0.instances.clear(),!Hs.TypeGuard.TSchema(Ve))throw new x9(Ve);for(let G0 of L0)if(!Hs.TypeGuard.TSchema(G0))throw new x9(G0);return O0(Ve,L0,D0)}o(v0,"Code"),e.Code=v0;function Jt(ue,B0=[]){let Ve=v0(ue,B0,{language:"javascript"}),L0=globalThis.Function("kind","format","hash",Ve),D0=new Map(N0.instances);function G0(le,Dr,Qt){if(!Hs.TypeRegistry.Has(le)||!D0.has(Dr))return!1;let zs=Hs.TypeRegistry.Get(le),ms=D0.get(Dr);return zs(ms,Qt)}o(G0,"typeRegistryFunction");function hr(le,Dr){return Hs.FormatRegistry.Has(le)?Hs.FormatRegistry.Get(le)(Dr):!1}o(hr,"formatRegistryFunction");function Vr(le){return(0,tH.Hash)(le)}o(Vr,"hashFunction");let Cr=L0(G0,hr,Vr);return new Rm(ue,B0,Cr,Ve)}o(Jt,"Compile"),e.Compile=Jt})(iP||(Ff.TypeCompiler=iP={}))});var aP=y0(C1=>{"use strict";var rH=C1&&C1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nH=C1&&C1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rH(t,e,r)};Object.defineProperty(C1,"__esModule",{value:!0});C1.ValueErrorIterator=C1.ValueErrorType=void 0;var oP=Im();Object.defineProperty(C1,"ValueErrorType",{enumerable:!0,get:function(){return oP.ValueErrorType}});Object.defineProperty(C1,"ValueErrorIterator",{enumerable:!0,get:function(){return oP.ValueErrorIterator}});nH(sP(),C1)});var gu=y0((exports,module)=>{"use strict";var _o=Object.create,Le=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,po=Object.getOwnPropertyNames,fo=Object.getPrototypeOf,go=Object.prototype.hasOwnProperty,i=o((e,t)=>Le(e,"name",{value:t,configurable:!0}),"i"),k=o((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"k"),ho=o((e,t)=>{for(var r in t)Le(e,r,{get:t[r],enumerable:!0})},"ho"),xn=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of po(t))!go.call(e,s)&&s!==r&&Le(e,s,{get:()=>t[s],enumerable:!(n=mo(t,s))||n.enumerable});return e},"xn"),Ct=o((e,t,r)=>(r=e!=null?_o(fo(e)):{},xn(t||!e||!e.__esModule?Le(r,"default",{value:e,enumerable:!0}):r,e)),"Ct"),bo=o(e=>xn(Le({},"__esModule",{value:!0}),e),"bo"),_r=k(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,s=90,l=97,a=122,f=48,c=57,u=43,d=47,h=26,m=52;return n<=r&&r<=s?r-n:l<=r&&r<=a?r-l+h:f<=r&&r<=c?r-f+m:r==u?62:r==d?63:-1}}),Yt=k(e=>{var t=_r(),r=5,n=1<<r,s=n-1,l=n;function a(c){return c<0?(-c<<1)+1:(c<<1)+0}o(a,"ms"),i(a,"toVLQSigned");function f(c){var u=(c&1)===1,d=c>>1;return u?-d:d}o(f,"ps"),i(f,"fromVLQSigned"),e.encode=i(function(c){var u="",d,h=a(c);do d=h&s,h>>>=r,h>0&&(d|=l),u+=t.encode(d);while(h>0);return u},"base64VLQ_encode"),e.decode=i(function(c,u,d){var h=c.length,m=0,p=0,v,x;do{if(u>=h)throw new Error("Expected more digits in base 64 VLQ value.");if(x=t.decode(c.charCodeAt(u++)),x===-1)throw new Error("Invalid base64 digit: "+c.charAt(u-1));v=!!(x&l),x&=s,m=m+(x<<p),p+=r}while(v);d.value=f(m),d.rest=u},"base64VLQ_decode")}),Ee=k(e=>{function t(F,B,V){if(B in F)return F[B];if(arguments.length===3)return V;throw new Error('"'+B+'" is a required argument.')}o(t,"gs"),i(t,"getArg"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(F){var B=F.match(r);return B?{scheme:B[1],auth:B[2],host:B[3],port:B[4],path:B[5]}:null}o(s,"Ue"),i(s,"urlParse"),e.urlParse=s;function l(F){var B="";return F.scheme&&(B+=F.scheme+":"),B+="//",F.auth&&(B+=F.auth+"@"),F.host&&(B+=F.host),F.port&&(B+=":"+F.port),F.path&&(B+=F.path),B}o(l,"we"),i(l,"urlGenerate"),e.urlGenerate=l;function a(F){var B=F,V=s(F);if(V){if(!V.path)return F;B=V.path}for(var de=e.isAbsolute(B),ve=B.split(/\/+/),n0,d0=0,r0=ve.length-1;r0>=0;r0--)n0=ve[r0],n0==="."?ve.splice(r0,1):n0===".."?d0++:d0>0&&(n0===""?(ve.splice(r0+1,d0),d0=0):(ve.splice(r0,2),d0--));return B=ve.join("/"),B===""&&(B=de?"/":"."),V?(V.path=B,l(V)):B}o(a,"en"),i(a,"normalize"),e.normalize=a;function f(F,B){F===""&&(F="."),B===""&&(B=".");var V=s(B),de=s(F);if(de&&(F=de.path||"/"),V&&!V.scheme)return de&&(V.scheme=de.scheme),l(V);if(V||B.match(n))return B;if(de&&!de.host&&!de.path)return de.host=B,l(de);var ve=B.charAt(0)==="/"?B:a(F.replace(/\/+$/,"")+"/"+B);return de?(de.path=ve,l(de)):ve}o(f,"br"),i(f,"join"),e.join=f,e.isAbsolute=function(F){return F.charAt(0)==="/"||r.test(F)};function c(F,B){F===""&&(F="."),F=F.replace(/\/$/,"");for(var V=0;B.indexOf(F+"/")!==0;){var de=F.lastIndexOf("/");if(de<0||(F=F.slice(0,de),F.match(/^([^\/]+:\/)?\/*$/)))return B;++V}return Array(V+1).join("../")+B.substr(F.length+1)}o(c,"bs"),i(c,"relative"),e.relative=c;var u=function(){var F=Object.create(null);return!("__proto__"in F)}();function d(F){return F}o(d,"wr"),i(d,"identity");function h(F){return p(F)?"$"+F:F}o(h,"ys"),i(h,"toSetString"),e.toSetString=u?d:h;function m(F){return p(F)?F.slice(1):F}o(m,"ws"),i(m,"fromSetString"),e.fromSetString=u?d:m;function p(F){if(!F)return!1;var B=F.length;if(B<9||F.charCodeAt(B-1)!==95||F.charCodeAt(B-2)!==95||F.charCodeAt(B-3)!==111||F.charCodeAt(B-4)!==116||F.charCodeAt(B-5)!==111||F.charCodeAt(B-6)!==114||F.charCodeAt(B-7)!==112||F.charCodeAt(B-8)!==95||F.charCodeAt(B-9)!==95)return!1;for(var V=B-10;V>=0;V--)if(F.charCodeAt(V)!==36)return!1;return!0}o(p,"vr"),i(p,"isProtoString");function v(F,B,V){var de=E(F.source,B.source);return de!==0||(de=F.originalLine-B.originalLine,de!==0)||(de=F.originalColumn-B.originalColumn,de!==0||V)||(de=F.generatedColumn-B.generatedColumn,de!==0)||(de=F.generatedLine-B.generatedLine,de!==0)?de:E(F.name,B.name)}o(v,"vs"),i(v,"compareByOriginalPositions"),e.compareByOriginalPositions=v;function x(F,B,V){var de=F.generatedLine-B.generatedLine;return de!==0||(de=F.generatedColumn-B.generatedColumn,de!==0||V)||(de=E(F.source,B.source),de!==0)||(de=F.originalLine-B.originalLine,de!==0)||(de=F.originalColumn-B.originalColumn,de!==0)?de:E(F.name,B.name)}o(x,"Es"),i(x,"compareByGeneratedPositionsDeflated"),e.compareByGeneratedPositionsDeflated=x;function E(F,B){return F===B?0:F===null?1:B===null?-1:F>B?1:-1}o(E,"ve"),i(E,"strcmp");function I(F,B){var V=F.generatedLine-B.generatedLine;return V!==0||(V=F.generatedColumn-B.generatedColumn,V!==0)||(V=E(F.source,B.source),V!==0)||(V=F.originalLine-B.originalLine,V!==0)||(V=F.originalColumn-B.originalColumn,V!==0)?V:E(F.name,B.name)}o(I,"Ss"),i(I,"compareByGeneratedPositionsInflated"),e.compareByGeneratedPositionsInflated=I;function P(F){return JSON.parse(F.replace(/^\)]}'[^\n]*\n/,""))}o(P,"Ms"),i(P,"parseSourceMapInput"),e.parseSourceMapInput=P;function L(F,B,V){if(B=B||"",F&&(F[F.length-1]!=="/"&&B[0]!=="/"&&(F+="/"),B=F+B),V){var de=s(V);if(!de)throw new Error("sourceMapURL could not be parsed");if(de.path){var ve=de.path.lastIndexOf("/");ve>=0&&(de.path=de.path.substring(0,ve+1))}B=f(l(de),B)}return a(B)}o(L,"Ts"),i(L,"computeSourceURL"),e.computeSourceURL=L}),rn=k(e=>{var t=Ee(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}o(s,"Q"),i(s,"ArraySet"),s.fromArray=i(function(l,a){for(var f=new s,c=0,u=l.length;c<u;c++)f.add(l[c],a);return f},"ArraySet_fromArray"),s.prototype.size=i(function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size"),s.prototype.add=i(function(l,a){var f=n?l:t.toSetString(l),c=n?this.has(l):r.call(this._set,f),u=this._array.length;(!c||a)&&this._array.push(l),c||(n?this._set.set(l,u):this._set[f]=u)},"ArraySet_add"),s.prototype.has=i(function(l){if(n)return this._set.has(l);var a=t.toSetString(l);return r.call(this._set,a)},"ArraySet_has"),s.prototype.indexOf=i(function(l){if(n){var a=this._set.get(l);if(a>=0)return a}else{var f=t.toSetString(l);if(r.call(this._set,f))return this._set[f]}throw new Error('"'+l+'" is not in the set.')},"ArraySet_indexOf"),s.prototype.at=i(function(l){if(l>=0&&l<this._array.length)return this._array[l];throw new Error("No element indexed by "+l)},"ArraySet_at"),s.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray"),e.ArraySet=s}),Tr=k(e=>{var t=Ee();function r(s,l){var a=s.generatedLine,f=l.generatedLine,c=s.generatedColumn,u=l.generatedColumn;return f>a||f==a&&u>=c||t.compareByGeneratedPositionsInflated(s,l)<=0}o(r,"xs"),i(r,"generatedPositionAfter");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(n,"bt"),i(n,"MappingList"),n.prototype.unsortedForEach=i(function(s,l){this._array.forEach(s,l)},"MappingList_forEach"),n.prototype.add=i(function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},"MappingList_add"),n.prototype.toArray=i(function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray"),e.MappingList=n}),on=k(e=>{var t=Yt(),r=Ee(),n=rn().ArraySet,s=Tr().MappingList;function l(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}o(l,"O"),i(l,"SourceMapGenerator"),l.prototype._version=3,l.fromSourceMap=i(function(a){var f=a.sourceRoot,c=new l({file:a.file,sourceRoot:f});return a.eachMapping(function(u){var d={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(d.source=u.source,f!=null&&(d.source=r.relative(f,d.source)),d.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(d.name=u.name)),c.addMapping(d)}),a.sources.forEach(function(u){var d=u;f!==null&&(d=r.relative(f,u)),c._sources.has(d)||c._sources.add(d);var h=a.sourceContentFor(u);h!=null&&c.setSourceContent(u,h)}),c},"SourceMapGenerator_fromSourceMap"),l.prototype.addMapping=i(function(a){var f=r.getArg(a,"generated"),c=r.getArg(a,"original",null),u=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(f,c,u,d),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:u,name:d})},"SourceMapGenerator_addMapping"),l.prototype.setSourceContent=i(function(a,f){var c=a;this._sourceRoot!=null&&(c=r.relative(this._sourceRoot,c)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(c)]=f):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent"),l.prototype.applySourceMap=i(function(a,f,c){var u=f;if(f==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=a.file}var d=this._sourceRoot;d!=null&&(u=r.relative(d,u));var h=new n,m=new n;this._mappings.unsortedForEach(function(p){if(p.source===u&&p.originalLine!=null){var v=a.originalPositionFor({line:p.originalLine,column:p.originalColumn});v.source!=null&&(p.source=v.source,c!=null&&(p.source=r.join(c,p.source)),d!=null&&(p.source=r.relative(d,p.source)),p.originalLine=v.line,p.originalColumn=v.column,v.name!=null&&(p.name=v.name))}var x=p.source;x!=null&&!h.has(x)&&h.add(x);var E=p.name;E!=null&&!m.has(E)&&m.add(E)},this),this._sources=h,this._names=m,a.sources.forEach(function(p){var v=a.sourceContentFor(p);v!=null&&(c!=null&&(p=r.join(c,p)),d!=null&&(p=r.relative(d,p)),this.setSourceContent(p,v))},this)},"SourceMapGenerator_applySourceMap"),l.prototype._validateMapping=i(function(a,f,c,u){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!f&&!c&&!u)){if(a&&"line"in a&&"column"in a&&f&&"line"in f&&"column"in f&&a.line>0&&a.column>=0&&f.line>0&&f.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:f,name:u}))}},"SourceMapGenerator_validateMapping"),l.prototype._serializeMappings=i(function(){for(var a=0,f=1,c=0,u=0,d=0,h=0,m="",p,v,x,E,I=this._mappings.toArray(),P=0,L=I.length;P<L;P++){if(v=I[P],p="",v.generatedLine!==f)for(a=0;v.generatedLine!==f;)p+=";",f++;else if(P>0){if(!r.compareByGeneratedPositionsInflated(v,I[P-1]))continue;p+=","}p+=t.encode(v.generatedColumn-a),a=v.generatedColumn,v.source!=null&&(E=this._sources.indexOf(v.source),p+=t.encode(E-h),h=E,p+=t.encode(v.originalLine-1-u),u=v.originalLine-1,p+=t.encode(v.originalColumn-c),c=v.originalColumn,v.name!=null&&(x=this._names.indexOf(v.name),p+=t.encode(x-d),d=x)),m+=p}return m},"SourceMapGenerator_serializeMappings"),l.prototype._generateSourcesContent=i(function(a,f){return a.map(function(c){if(!this._sourcesContents)return null;f!=null&&(c=r.relative(f,c));var u=r.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},"SourceMapGenerator_generateSourcesContent"),l.prototype.toJSON=i(function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},"SourceMapGenerator_toJSON"),l.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString"),e.SourceMapGenerator=l}),Ir=k(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,s,l,a,f){var c=Math.floor((n-r)/2)+r,u=a(s,l[c],!0);return u===0?c:u>0?n-c>1?t(c,n,s,l,a,f):f==e.LEAST_UPPER_BOUND?n<l.length?n:-1:c:c-r>1?t(r,c,s,l,a,f):f==e.LEAST_UPPER_BOUND?c:r<0?-1:r}o(t,"sn"),i(t,"recursiveSearch"),e.search=i(function(r,n,s,l){if(n.length===0)return-1;var a=t(-1,n.length,r,n,s,l||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&s(n[a],n[a-1],!0)===0;)--a;return a},"search")}),Nr=k(e=>{function t(s,l,a){var f=s[l];s[l]=s[a],s[a]=f}o(t,"an"),i(t,"swap");function r(s,l){return Math.round(s+Math.random()*(l-s))}o(r,"Ls"),i(r,"randomIntInRange");function n(s,l,a,f){if(a<f){var c=r(a,f),u=a-1;t(s,c,f);for(var d=s[f],h=a;h<f;h++)l(s[h],d)<=0&&(u+=1,t(s,u,h));t(s,u+1,h);var m=u+1;n(s,l,a,m-1),n(s,l,m+1,f)}}o(n,"ln"),i(n,"doQuickSort"),e.quickSort=function(s,l){n(s,l,0,s.length-1)}}),Pr=k(e=>{var t=Ee(),r=Ir(),n=rn().ArraySet,s=Yt(),l=Nr().quickSort;function a(d,h){var m=d;return typeof d=="string"&&(m=t.parseSourceMapInput(d)),m.sections!=null?new u(m,h):new f(m,h)}o(a,"S"),i(a,"SourceMapConsumer"),a.fromSourceMap=function(d,h){return f.fromSourceMap(d,h)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=i(function(d,h){var m=d.charAt(h);return m===";"||m===","},"SourceMapConsumer_charIsMappingSeparator"),a.prototype._parseMappings=i(function(d,h){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings"),a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=i(function(d,h,m){var p=h||null,v=m||a.GENERATED_ORDER,x;switch(v){case a.GENERATED_ORDER:x=this._generatedMappings;break;case a.ORIGINAL_ORDER:x=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var E=this.sourceRoot;x.map(function(I){var P=I.source===null?null:this._sources.at(I.source);return P=t.computeSourceURL(E,P,this._sourceMapURL),{source:P,generatedLine:I.generatedLine,generatedColumn:I.generatedColumn,originalLine:I.originalLine,originalColumn:I.originalColumn,name:I.name===null?null:this._names.at(I.name)}},this).forEach(d,p)},"SourceMapConsumer_eachMapping"),a.prototype.allGeneratedPositionsFor=i(function(d){var h=t.getArg(d,"line"),m={source:t.getArg(d,"source"),originalLine:h,originalColumn:t.getArg(d,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var p=[],v=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(v>=0){var x=this._originalMappings[v];if(d.column===void 0)for(var E=x.originalLine;x&&x.originalLine===E;)p.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v];else for(var I=x.originalColumn;x&&x.originalLine===h&&x.originalColumn==I;)p.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v]}return p},"SourceMapConsumer_allGeneratedPositionsFor"),e.SourceMapConsumer=a;function f(d,h){var m=d;typeof d=="string"&&(m=t.parseSourceMapInput(d));var p=t.getArg(m,"version"),v=t.getArg(m,"sources"),x=t.getArg(m,"names",[]),E=t.getArg(m,"sourceRoot",null),I=t.getArg(m,"sourcesContent",null),P=t.getArg(m,"mappings"),L=t.getArg(m,"file",null);if(p!=this._version)throw new Error("Unsupported version: "+p);E&&(E=t.normalize(E)),v=v.map(String).map(t.normalize).map(function(F){return E&&t.isAbsolute(E)&&t.isAbsolute(F)?t.relative(E,F):F}),this._names=n.fromArray(x.map(String),!0),this._sources=n.fromArray(v,!0),this._absoluteSources=this._sources.toArray().map(function(F){return t.computeSourceURL(E,F,h)}),this.sourceRoot=E,this.sourcesContent=I,this._mappings=P,this._sourceMapURL=h,this.file=L}o(f,"I"),i(f,"BasicSourceMapConsumer"),f.prototype=Object.create(a.prototype),f.prototype.consumer=a,f.prototype._findSourceIndex=function(d){var h=d;if(this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h)),this._sources.has(h))return this._sources.indexOf(h);var m;for(m=0;m<this._absoluteSources.length;++m)if(this._absoluteSources[m]==d)return m;return-1},f.fromSourceMap=i(function(d,h){var m=Object.create(f.prototype),p=m._names=n.fromArray(d._names.toArray(),!0),v=m._sources=n.fromArray(d._sources.toArray(),!0);m.sourceRoot=d._sourceRoot,m.sourcesContent=d._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=d._file,m._sourceMapURL=h,m._absoluteSources=m._sources.toArray().map(function(V){return t.computeSourceURL(m.sourceRoot,V,h)});for(var x=d._mappings.toArray().slice(),E=m.__generatedMappings=[],I=m.__originalMappings=[],P=0,L=x.length;P<L;P++){var F=x[P],B=new c;B.generatedLine=F.generatedLine,B.generatedColumn=F.generatedColumn,F.source&&(B.source=v.indexOf(F.source),B.originalLine=F.originalLine,B.originalColumn=F.originalColumn,F.name&&(B.name=p.indexOf(F.name)),I.push(B)),E.push(B)}return l(m.__originalMappings,t.compareByOriginalPositions),m},"SourceMapConsumer_fromSourceMap"),f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function c(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(c,"kr"),i(c,"Mapping"),f.prototype._parseMappings=i(function(d,h){for(var m=1,p=0,v=0,x=0,E=0,I=0,P=d.length,L=0,F={},B={},V=[],de=[],ve,n0,d0,r0,m0;L<P;)if(d.charAt(L)===";")m++,L++,p=0;else if(d.charAt(L)===",")L++;else{for(ve=new c,ve.generatedLine=m,r0=L;r0<P&&!this._charIsMappingSeparator(d,r0);r0++);if(n0=d.slice(L,r0),d0=F[n0],d0)L+=n0.length;else{for(d0=[];L<r0;)s.decode(d,L,B),m0=B.value,L=B.rest,d0.push(m0);if(d0.length===2)throw new Error("Found a source, but no line and column");if(d0.length===3)throw new Error("Found a source and line, but no column");F[n0]=d0}ve.generatedColumn=p+d0[0],p=ve.generatedColumn,d0.length>1&&(ve.source=E+d0[1],E+=d0[1],ve.originalLine=v+d0[2],v=ve.originalLine,ve.originalLine+=1,ve.originalColumn=x+d0[3],x=ve.originalColumn,d0.length>4&&(ve.name=I+d0[4],I+=d0[4])),de.push(ve),typeof ve.originalLine=="number"&&V.push(ve)}l(de,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=de,l(V,t.compareByOriginalPositions),this.__originalMappings=V},"SourceMapConsumer_parseMappings"),f.prototype._findMapping=i(function(d,h,m,p,v,x){if(d[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[m]);if(d[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[p]);return r.search(d,h,v,x)},"SourceMapConsumer_findMapping"),f.prototype.computeColumnSpans=i(function(){for(var d=0;d<this._generatedMappings.length;++d){var h=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var m=this._generatedMappings[d+1];if(h.generatedLine===m.generatedLine){h.lastGeneratedColumn=m.generatedColumn-1;continue}}h.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans"),f.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},m=this._findMapping(h,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(m>=0){var p=this._generatedMappings[m];if(p.generatedLine===h.generatedLine){var v=t.getArg(p,"source",null);v!==null&&(v=this._sources.at(v),v=t.computeSourceURL(this.sourceRoot,v,this._sourceMapURL));var x=t.getArg(p,"name",null);return x!==null&&(x=this._names.at(x)),{source:v,line:t.getArg(p,"originalLine",null),column:t.getArg(p,"originalColumn",null),name:x}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor"),f.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources"),f.prototype.sourceContentFor=i(function(d,h){if(!this.sourcesContent)return null;var m=this._findSourceIndex(d);if(m>=0)return this.sourcesContent[m];var p=d;this.sourceRoot!=null&&(p=t.relative(this.sourceRoot,p));var v;if(this.sourceRoot!=null&&(v=t.urlParse(this.sourceRoot))){var x=p.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(x))return this.sourcesContent[this._sources.indexOf(x)];if((!v.path||v.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(h)return null;throw new Error('"'+p+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor"),f.prototype.generatedPositionFor=i(function(d){var h=t.getArg(d,"source");if(h=this._findSourceIndex(h),h<0)return{line:null,column:null,lastColumn:null};var m={source:h,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},p=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(p>=0){var v=this._originalMappings[p];if(v.source===m.source)return{line:t.getArg(v,"generatedLine",null),column:t.getArg(v,"generatedColumn",null),lastColumn:t.getArg(v,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor"),e.BasicSourceMapConsumer=f;function u(d,h){var m=d;typeof d=="string"&&(m=t.parseSourceMapInput(d));var p=t.getArg(m,"version"),v=t.getArg(m,"sections");if(p!=this._version)throw new Error("Unsupported version: "+p);this._sources=new n,this._names=new n;var x={line:-1,column:0};this._sections=v.map(function(E){if(E.url)throw new Error("Support for url field in sections not implemented.");var I=t.getArg(E,"offset"),P=t.getArg(I,"line"),L=t.getArg(I,"column");if(P<x.line||P===x.line&&L<x.column)throw new Error("Section offsets must be ordered and non-overlapping.");return x=I,{generatedOffset:{generatedLine:P+1,generatedColumn:L+1},consumer:new a(t.getArg(E,"map"),h)}})}o(u,"V"),i(u,"IndexedSourceMapConsumer"),u.prototype=Object.create(a.prototype),u.prototype.constructor=a,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var d=[],h=0;h<this._sections.length;h++)for(var m=0;m<this._sections[h].consumer.sources.length;m++)d.push(this._sections[h].consumer.sources[m]);return d}}),u.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},m=r.search(h,this._sections,function(v,x){var E=v.generatedLine-x.generatedOffset.generatedLine;return E||v.generatedColumn-x.generatedOffset.generatedColumn}),p=this._sections[m];return p?p.consumer.originalPositionFor({line:h.generatedLine-(p.generatedOffset.generatedLine-1),column:h.generatedColumn-(p.generatedOffset.generatedLine===h.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor"),u.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources"),u.prototype.sourceContentFor=i(function(d,h){for(var m=0;m<this._sections.length;m++){var p=this._sections[m],v=p.consumer.sourceContentFor(d,!0);if(v)return v}if(h)return null;throw new Error('"'+d+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor"),u.prototype.generatedPositionFor=i(function(d){for(var h=0;h<this._sections.length;h++){var m=this._sections[h];if(m.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var p=m.consumer.generatedPositionFor(d);if(p){var v={line:p.line+(m.generatedOffset.generatedLine-1),column:p.column+(m.generatedOffset.generatedLine===p.line?m.generatedOffset.generatedColumn-1:0)};return v}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor"),u.prototype._parseMappings=i(function(d,h){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var p=this._sections[m],v=p.consumer._generatedMappings,x=0;x<v.length;x++){var E=v[x],I=p.consumer._sources.at(E.source);I=t.computeSourceURL(p.consumer.sourceRoot,I,this._sourceMapURL),this._sources.add(I),I=this._sources.indexOf(I);var P=null;E.name&&(P=p.consumer._names.at(E.name),this._names.add(P),P=this._names.indexOf(P));var L={source:I,generatedLine:E.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:E.generatedColumn+(p.generatedOffset.generatedLine===E.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:E.originalLine,originalColumn:E.originalColumn,name:P};this.__generatedMappings.push(L),typeof L.originalLine=="number"&&this.__originalMappings.push(L)}l(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),l(this.__originalMappings,t.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings"),e.IndexedSourceMapConsumer=u}),Ar=k(e=>{var t=on().SourceMapGenerator,r=Ee(),n=/(\r?\n)/,s=10,l="$$$isSourceNode$$$";function a(f,c,u,d,h){this.children=[],this.sourceContents={},this.line=f!=null?f:null,this.column=c!=null?c:null,this.source=u!=null?u:null,this.name=h!=null?h:null,this[l]=!0,d!=null&&this.add(d)}o(a,"F"),i(a,"SourceNode"),a.fromStringWithSourceMap=i(function(f,c,u){var d=new a,h=f.split(n),m=0,p=i(function(){var P=F(),L=F()||"";return P+L;function F(){return m<h.length?h[m++]:void 0}},"shiftNextLine"),v=1,x=0,E=null;return c.eachMapping(function(P){if(E!==null)if(v<P.generatedLine)I(E,p()),v++,x=0;else{var L=h[m]||"",F=L.substr(0,P.generatedColumn-x);h[m]=L.substr(P.generatedColumn-x),x=P.generatedColumn,I(E,F),E=P;return}for(;v<P.generatedLine;)d.add(p()),v++;if(x<P.generatedColumn){var L=h[m]||"";d.add(L.substr(0,P.generatedColumn)),h[m]=L.substr(P.generatedColumn),x=P.generatedColumn}E=P},this),m<h.length&&(E&&I(E,p()),d.add(h.splice(m).join(""))),c.sources.forEach(function(P){var L=c.sourceContentFor(P);L!=null&&(u!=null&&(P=r.join(u,P)),d.setSourceContent(P,L))}),d;function I(P,L){if(P===null||P.source===void 0)d.add(L);else{var F=u?r.join(u,P.source):P.source;d.add(new a(P.originalLine,P.originalColumn,F,L,P.name))}}},"SourceNode_fromStringWithSourceMap"),a.prototype.add=i(function(f){if(Array.isArray(f))f.forEach(function(c){this.add(c)},this);else if(f[l]||typeof f=="string")f&&this.children.push(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_add"),a.prototype.prepend=i(function(f){if(Array.isArray(f))for(var c=f.length-1;c>=0;c--)this.prepend(f[c]);else if(f[l]||typeof f=="string")this.children.unshift(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_prepend"),a.prototype.walk=i(function(f){for(var c,u=0,d=this.children.length;u<d;u++)c=this.children[u],c[l]?c.walk(f):c!==""&&f(c,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk"),a.prototype.join=i(function(f){var c,u,d=this.children.length;if(d>0){for(c=[],u=0;u<d-1;u++)c.push(this.children[u]),c.push(f);c.push(this.children[u]),this.children=c}return this},"SourceNode_join"),a.prototype.replaceRight=i(function(f,c){var u=this.children[this.children.length-1];return u[l]?u.replaceRight(f,c):typeof u=="string"?this.children[this.children.length-1]=u.replace(f,c):this.children.push("".replace(f,c)),this},"SourceNode_replaceRight"),a.prototype.setSourceContent=i(function(f,c){this.sourceContents[r.toSetString(f)]=c},"SourceNode_setSourceContent"),a.prototype.walkSourceContents=i(function(f){for(var c=0,u=this.children.length;c<u;c++)this.children[c][l]&&this.children[c].walkSourceContents(f);for(var d=Object.keys(this.sourceContents),c=0,u=d.length;c<u;c++)f(r.fromSetString(d[c]),this.sourceContents[d[c]])},"SourceNode_walkSourceContents"),a.prototype.toString=i(function(){var f="";return this.walk(function(c){f+=c}),f},"SourceNode_toString"),a.prototype.toStringWithSourceMap=i(function(f){var c={code:"",line:1,column:0},u=new t(f),d=!1,h=null,m=null,p=null,v=null;return this.walk(function(x,E){c.code+=x,E.source!==null&&E.line!==null&&E.column!==null?((h!==E.source||m!==E.line||p!==E.column||v!==E.name)&&u.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name}),h=E.source,m=E.line,p=E.column,v=E.name,d=!0):d&&(u.addMapping({generated:{line:c.line,column:c.column}}),h=null,d=!1);for(var I=0,P=x.length;I<P;I++)x.charCodeAt(I)===s?(c.line++,c.column=0,I+1===P?(h=null,d=!1):d&&u.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name})):c.column++}),this.walkSourceContents(function(x,E){u.setSourceContent(x,E)}),{code:c.code,map:u}},"SourceNode_toStringWithSourceMap"),e.SourceNode=a}),Fr=k(e=>{e.SourceMapGenerator=on().SourceMapGenerator,e.SourceMapConsumer=Pr().SourceMapConsumer,e.SourceNode=Ar().SourceNode}),Or=k((e,t)=>{var r=Object.prototype.toString,n=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function s(c){return r.call(c).slice(8,-1)==="ArrayBuffer"}o(s,"Fs"),i(s,"isArrayBuffer");function l(c,u,d){u>>>=0;var h=c.byteLength-u;if(h<0)throw new RangeError("'offset' is out of bounds");if(d===void 0)d=h;else if(d>>>=0,d>h)throw new RangeError("'length' is out of bounds");return n?Buffer.from(c.slice(u,u+d)):new Buffer(new Uint8Array(c.slice(u,u+d)))}o(l,"Rs"),i(l,"fromArrayBuffer");function a(c,u){if((typeof u!="string"||u==="")&&(u="utf8"),!Buffer.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(c,u):new Buffer(c,u)}o(a,"Os"),i(a,"fromString");function f(c,u,d){if(typeof c=="number")throw new TypeError('"value" argument must not be a number');return s(c)?l(c,u,d):typeof c=="string"?a(c,u):n?Buffer.from(c):new Buffer(c)}o(f,"Ds"),i(f,"bufferFrom"),t.exports=f}),qr=k((e,t)=>{var r=Fr().SourceMapConsumer,n=require("path"),s;try{s=require("fs"),(!s.existsSync||!s.readFileSync)&&(s=null)}catch{}var l=Or();function a(ce,Se){return ce.require(Se)}o(a,"Dr"),i(a,"dynamicRequire");var f=!1,c=!1,u=!1,d="auto",h={},m={},p=/^data:application\/json[^,]+base64,/,v=[],x=[];function E(){return d==="browser"?!0:d==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(E,"fn"),i(E,"isInBrowser");function I(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(I,"zs"),i(I,"hasGlobalProcessEventEmitter");function P(){return typeof process=="object"&&process!==null?process.version:""}o(P,"Vs"),i(P,"globalProcessVersion");function L(){if(typeof process=="object"&&process!==null)return process.stderr}o(L,"Hs"),i(L,"globalProcessStderr");function F(ce){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(ce)}o(F,"qs"),i(F,"globalProcessExit");function B(ce){return function(Se){for(var C0=0;C0<ce.length;C0++){var z0=ce[C0](Se);if(z0)return z0}return null}}o(B,"St"),i(B,"handlerExec");var V=B(v);v.push(function(ce){if(ce=ce.trim(),/^file:/.test(ce)&&(ce=ce.replace(/file:\/\/\/(\w:)?/,function(z0,O0){return O0?"":"/"})),ce in h)return h[ce];var Se="";try{if(s)s.existsSync(ce)&&(Se=s.readFileSync(ce,"utf8"));else{var C0=new XMLHttpRequest;C0.open("GET",ce,!1),C0.send(null),C0.readyState===4&&C0.status===200&&(Se=C0.responseText)}}catch{}return h[ce]=Se});function de(ce,Se){if(!ce)return Se;var C0=n.dirname(ce),z0=/^\w+:\/\/[^\/]*/.exec(C0),O0=z0?z0[0]:"",v0=C0.slice(O0.length);return O0&&/^\/\w\:/.test(v0)?(O0+="/",O0+n.resolve(C0.slice(O0.length),Se).replace(/\\/g,"/")):O0+n.resolve(C0.slice(O0.length),Se)}o(de,"mn"),i(de,"supportRelativeURL");function ve(ce){var Se;if(E())try{var C0=new XMLHttpRequest;C0.open("GET",ce,!1),C0.send(null),Se=C0.readyState===4?C0.responseText:null;var z0=C0.getResponseHeader("SourceMap")||C0.getResponseHeader("X-SourceMap");if(z0)return z0}catch{}Se=V(ce);for(var O0=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,v0,Jt;Jt=O0.exec(Se);)v0=Jt;return v0?v0[1]:null}o(ve,"js"),i(ve,"retrieveSourceMapURL");var n0=B(x);x.push(function(ce){var Se=ve(ce);if(!Se)return null;var C0;if(p.test(Se)){var z0=Se.slice(Se.indexOf(",")+1);C0=l(z0,"base64").toString(),Se=ce}else Se=de(ce,Se),C0=V(Se);return C0?{url:Se,map:C0}:null});function d0(ce){var Se=m[ce.source];if(!Se){var C0=n0(ce.source);C0?(Se=m[ce.source]={url:C0.url,map:new r(C0.map)},Se.map.sourcesContent&&Se.map.sources.forEach(function(O0,v0){var Jt=Se.map.sourcesContent[v0];if(Jt){var ue=de(Se.url,O0);h[ue]=Jt}})):Se=m[ce.source]={url:null,map:null}}if(Se&&Se.map&&typeof Se.map.originalPositionFor=="function"){var z0=Se.map.originalPositionFor(ce);if(z0.source!==null)return z0.source=de(Se.url,z0.source),z0}return ce}o(d0,"bn"),i(d0,"mapSourcePosition");function r0(ce){var Se=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(ce);if(Se){var C0=d0({source:Se[2],line:+Se[3],column:Se[4]-1});return"eval at "+Se[1]+" ("+C0.source+":"+C0.line+":"+(C0.column+1)+")"}return Se=/^eval at ([^(]+) \((.+)\)$/.exec(ce),Se?"eval at "+Se[1]+" ("+r0(Se[2])+")":ce}o(r0,"zr"),i(r0,"mapEvalOrigin");function m0(){var ce,Se="";if(this.isNative())Se="native";else{ce=this.getScriptNameOrSourceURL(),!ce&&this.isEval()&&(Se=this.getEvalOrigin(),Se+=", "),ce?Se+=ce:Se+="<anonymous>";var C0=this.getLineNumber();if(C0!=null){Se+=":"+C0;var z0=this.getColumnNumber();z0&&(Se+=":"+z0)}}var O0="",v0=this.getFunctionName(),Jt=!0,ue=this.isConstructor(),B0=!(this.isToplevel()||ue);if(B0){var Ve=this.getTypeName();Ve==="[object Object]"&&(Ve="null");var L0=this.getMethodName();v0?(Ve&&v0.indexOf(Ve)!=0&&(O0+=Ve+"."),O0+=v0,L0&&v0.indexOf("."+L0)!=v0.length-L0.length-1&&(O0+=" [as "+L0+"]")):O0+=Ve+"."+(L0||"<anonymous>")}else ue?O0+="new "+(v0||"<anonymous>"):v0?O0+=v0:(O0+=Se,Jt=!1);return Jt&&(O0+=" ("+Se+")"),O0}o(m0,"Zs"),i(m0,"CallSiteToString");function $e(ce){var Se={};return Object.getOwnPropertyNames(Object.getPrototypeOf(ce)).forEach(function(C0){Se[C0]=/^(?:is|get)/.test(C0)?function(){return ce[C0].call(ce)}:ce[C0]}),Se.toString=m0,Se}o($e,"Ur"),i($e,"cloneCallSite");function we(ce,Se){if(Se===void 0&&(Se={nextPosition:null,curPosition:null}),ce.isNative())return Se.curPosition=null,ce;var C0=ce.getFileName()||ce.getScriptNameOrSourceURL();if(C0){var z0=ce.getLineNumber(),O0=ce.getColumnNumber()-1,v0=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,Jt=v0.test(P())?0:62;z0===1&&O0>Jt&&!E()&&!ce.isEval()&&(O0-=Jt);var ue=d0({source:C0,line:z0,column:O0});Se.curPosition=ue,ce=$e(ce);var B0=ce.getFunctionName;return ce.getFunctionName=function(){return Se.nextPosition==null?B0():Se.nextPosition.name||B0()},ce.getFileName=function(){return ue.source},ce.getLineNumber=function(){return ue.line},ce.getColumnNumber=function(){return ue.column+1},ce.getScriptNameOrSourceURL=function(){return ue.source},ce}var Ve=ce.isEval()&&ce.getEvalOrigin();return Ve&&(Ve=r0(Ve),ce=$e(ce),ce.getEvalOrigin=function(){return Ve}),ce}o(we,"Vr"),i(we,"wrapCallSite");function o0(ce,Se){u&&(h={},m={});for(var C0=ce.name||"Error",z0=ce.message||"",O0=C0+": "+z0,v0={nextPosition:null,curPosition:null},Jt=[],ue=Se.length-1;ue>=0;ue--)Jt.push(`
    at `+we(Se[ue],v0)),v0.nextPosition=v0.curPosition;return v0.curPosition=v0.nextPosition=null,O0+Jt.reverse().join("")}o(o0,"$s"),i(o0,"prepareStackTrace");function u0(ce){var Se=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(ce.stack);if(Se){var C0=Se[1],z0=+Se[2],O0=+Se[3],v0=h[C0];if(!v0&&s&&s.existsSync(C0))try{v0=s.readFileSync(C0,"utf8")}catch{v0=""}if(v0){var Jt=v0.split(/(?:\r\n|\r|\n)/)[z0-1];if(Jt)return C0+":"+z0+`
`+Jt+`
`+new Array(O0).join(" ")+"^"}}return null}o(u0,"Hr"),i(u0,"getErrorSource");function l0(ce){var Se=u0(ce),C0=L();C0&&C0._handle&&C0._handle.setBlocking&&C0._handle.setBlocking(!0),Se&&(console.error(),console.error(Se)),console.error(ce.stack),F(1)}o(l0,"Gs"),i(l0,"printErrorAndExit");function N0(){var ce=process.emit;process.emit=function(Se){if(Se==="uncaughtException"){var C0=arguments[1]&&arguments[1].stack,z0=this.listeners(Se).length>0;if(C0&&!z0)return l0(arguments[1])}return ce.apply(this,arguments)}}o(N0,"Ks"),i(N0,"shimEmitUncaughtException");var t0=v.slice(0),f0=x.slice(0);e.wrapCallSite=we,e.getErrorSource=u0,e.mapSourcePosition=d0,e.retrieveSourceMap=n0,e.install=function(ce){if(ce=ce||{},ce.environment&&(d=ce.environment,["node","browser","auto"].indexOf(d)===-1))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(ce.retrieveFile&&(ce.overrideRetrieveFile&&(v.length=0),v.unshift(ce.retrieveFile)),ce.retrieveSourceMap&&(ce.overrideRetrieveSourceMap&&(x.length=0),x.unshift(ce.retrieveSourceMap)),ce.hookRequire&&!E()){var Se=a(t,"module"),C0=Se.prototype._compile;C0.__sourceMapSupport||(Se.prototype._compile=function(v0,Jt){return h[Jt]=v0,m[Jt]=void 0,C0.call(this,v0,Jt)},Se.prototype._compile.__sourceMapSupport=!0)}if(u||(u="emptyCacheBetweenOperations"in ce?ce.emptyCacheBetweenOperations:!1),f||(f=!0,Error.prepareStackTrace=o0),!c){var z0="handleUncaughtExceptions"in ce?ce.handleUncaughtExceptions:!0;try{var O0=a(t,"worker_threads");O0.isMainThread===!1&&(z0=!1)}catch{}z0&&I()&&(c=!0,N0())}},e.resetRetrieveHandlers=function(){v.length=0,x.length=0,v=t0.slice(0),x=f0.slice(0),n0=B(x),V=B(v)}}),jr=k(()=>{qr().install()}),Xr=k((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((a,f)=>{throw f},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}o(locateFile,"locateFile"),i(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(o(logExceptionOnExit,"logExceptionOnExit"),i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((a,f)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),"read_"),readBinary=i(a=>{var f=read_(a,!0);return f.buffer||(f=new Uint8Array(f)),f},"readBinary"),readAsync=i((a,f,c)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(u,d){u?c(u):f(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((a,f)=>{if(keepRuntimeAlive())throw process.exitCode=a,f;logExceptionOnExit(f),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)},"readBinary")),readAsync=i((a,f,c)=>{var u=new XMLHttpRequest;u.open("GET",a,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?f(u.response):c()},u.onerror=c,u.send(null)},"readAsync"),setWindowTitle=i(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,f,c){for(var u=f+c,d=f;a[d]&&!(d>=u);)++d;if(d-f>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(f,d));for(var h="";f<d;){var m=a[f++];if(128&m){var p=63&a[f++];if((224&m)!=192){var v=63&a[f++];if((m=(240&m)==224?(15&m)<<12|p<<6|v:(7&m)<<18|p<<12|v<<6|63&a[f++])<65536)h+=String.fromCharCode(m);else{var x=m-65536;h+=String.fromCharCode(55296|x>>10,56320|1023&x)}}else h+=String.fromCharCode((31&m)<<6|p)}else h+=String.fromCharCode(m)}return h}o(UTF8ArrayToString,"UTF8ArrayToString"),i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,f){return a?UTF8ArrayToString(HEAPU8,a,f):""}o(UTF8ToString,"UTF8ToString"),i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,f,c,u){if(!(u>0))return 0;for(var d=c,h=c+u-1,m=0;m<a.length;++m){var p=a.charCodeAt(m);if(p>=55296&&p<=57343&&(p=65536+((1023&p)<<10)|1023&a.charCodeAt(++m)),p<=127){if(c>=h)break;f[c++]=p}else if(p<=2047){if(c+1>=h)break;f[c++]=192|p>>6,f[c++]=128|63&p}else if(p<=65535){if(c+2>=h)break;f[c++]=224|p>>12,f[c++]=128|p>>6&63,f[c++]=128|63&p}else{if(c+3>=h)break;f[c++]=240|p>>18,f[c++]=128|p>>12&63,f[c++]=128|p>>6&63,f[c++]=128|63&p}}return f[c]=0,c-d}o(stringToUTF8Array,"stringToUTF8Array"),i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,f,c){return stringToUTF8Array(a,HEAPU8,f,c)}o(stringToUTF8,"stringToUTF8"),i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var f=0,c=0;c<a.length;++c){var u=a.charCodeAt(c);u<=127?f++:u<=2047?f+=2:u>=55296&&u<=57343?(f+=4,++c):f+=3}return f}o(lengthBytesUTF8,"lengthBytesUTF8"),i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews"),i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive"),i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun"),i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime"),i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain"),i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun"),i(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}o(addOnPreRun,"addOnPreRun"),i(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}o(addOnInit,"addOnInit"),i(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}o(addOnPostRun,"addOnPostRun"),i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency"),i(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var f=dependenciesFulfilled;dependenciesFulfilled=null,f()}}o(removeRunDependency,"removeRunDependency"),i(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}o(abort,"abort"),i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI"),i(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}o(isFileURI,"isFileURI"),i(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(f){abort(f)}}o(getBinary,"getBinary"),i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,f){readAsync(wasmBinaryFile,function(c){a(new Uint8Array(c))},f)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise"),i(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function f(d,h){var m=d.exports;m=relocateExports(m,1024);var p=getDylinkMetadata(h);p.neededDynlibs&&(dynamicLibraries=p.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(m,"main"),Module.asm=m,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(f,"e"),i(f,"t");function c(d){f(d.instance,d.module)}o(c,"n"),i(c,"r");function u(d){return getBinaryPromise().then(function(h){return WebAssembly.instantiate(h,a)}).then(function(h){return h}).then(d,function(h){err("failed to asynchronously prepare wasm: "+h),abort(h)})}if(o(u,"r"),i(u,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,f)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?u(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,a).then(c,function(h){return err("wasm streaming compile failed: "+h),err("falling back to ArrayBuffer instantiation"),u(c)})}),{}}o(createWasm,"createWasm"),i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}o(ExitStatus,"ExitStatus"),i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,f){var c=GOT[f];return c||(c=GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(f)||(c.required=!0),c}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks"),i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var f=0,c=0;function u(){for(var de=0,ve=1;;){var n0=a[f++];if(de+=(127&n0)*ve,ve*=128,!(128&n0))break}return de}o(u,"r"),i(u,"_");function d(){var de=u();return UTF8ArrayToString(a,(f+=de)-de,de)}o(d,"o"),i(d,"n");function h(de,ve){if(de)throw new Error(ve)}o(h,"s"),i(h,"s");var m="dylink.0";if(a instanceof WebAssembly.Module){var p=WebAssembly.Module.customSections(a,m);p.length===0&&(m="dylink",p=WebAssembly.Module.customSections(a,m)),h(p.length===0,"need dylink section"),c=(a=new Uint8Array(p[0])).length}else{h(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),h(a[8]!==0,"need the dylink section to be first"),f=9;var v=u();c=f+v,m=d()}var x={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(m=="dylink"){x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();for(var E=u(),I=0;I<E;++I){var P=d();x.neededDynlibs.push(P)}}else for(h(m!=="dylink.0");f<c;){var L=a[f++],F=u();if(L===1)x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();else if(L===2)for(E=u(),I=0;I<E;++I)P=d(),x.neededDynlibs.push(P);else if(L===3)for(var B=u();B--;){var V=d();256&u()&&x.tlsExports.add(V)}else if(L===4)for(B=u();B--;)d(),V=d(),(3&u())==1&&x.weakImports.add(V);else f+=F}return x}o(getDylinkMetadata,"getDylinkMetadata"),i(getDylinkMetadata,"getDylinkMetadata");function getValue(a,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+f)}return null}o(getValue,"getValue"),i(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}o(asmjsMangle,"asmjsMangle"),i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,f){for(var c in a)if(a.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=a[c]);var u=asmjsMangle(c);Module.hasOwnProperty(u)||(Module[u]=a[c]),c=="__main_argc_argv"&&(Module._main=a[c])}}o(mergeLibSymbols,"mergeLibSymbols"),i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,f,c){var u=Module["dynCall_"+a];return c&&c.length?u.apply(null,[f].concat(c)):u.call(null,f)}o(dynCallLegacy,"dynCallLegacy"),i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var f=wasmTableMirror[a];return f||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=f=wasmTable.get(a)),f}o(getWasmTableEntry,"getWasmTableEntry"),i(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,f,c){return a.includes("j")?dynCallLegacy(a,f,c):getWasmTableEntry(f).apply(null,c)}o(dynCall,"dynCall"),i(dynCall,"dynCall");function createInvokeFunction(a){return function(){var f=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(f),c!==c+0)throw c;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction"),i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,f){return HEAPU8.fill(0,a,a+f),a}o(zeroMemory,"zeroMemory"),i(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var f=___heap_base,c=f+a+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,f}o(getMemory,"getMemory"),i(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}o(isInternalSym,"isInternalSym"),i(isInternalSym,"isInternalSym");function uleb128Encode(a,f){a<128?f.push(a):f.push(a%128|128,a>>7)}o(uleb128Encode,"uleb128Encode"),i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:a[0]=="v"?[]:[f[a[0]]]},u=1;u<a.length;++u)c.parameters.push(f[a[u]]),a[u]==="j"&&c.parameters.push("i32");return c}o(sigToWasmTypes,"sigToWasmTypes"),i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,f){var c=a.slice(0,1),u=a.slice(1),d={i:127,p:127,j:126,f:125,d:124};f.push(96),uleb128Encode(u.length,f);for(var h=0;h<u.length;++h)f.push(d[u[h]]);c=="v"?f.push(0):f.push(1,d[c])}o(generateFuncType,"generateFuncType"),i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,f){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(f),a);var c=[1];generateFuncType(f,c);var u=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,u),u.push.apply(u,c),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(u));return new WebAssembly.Instance(d,{e:{f:a}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm"),i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,f){if(functionsInTableMap)for(var c=a;c<a+f;c++){var u=getWasmTableEntry(c);u&&functionsInTableMap.set(u,c)}}o(updateTableMap,"updateTableMap"),i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot"),i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,f){wasmTable.set(a,f),wasmTableMirror[a]=wasmTable.get(a)}o(setWasmTableEntry,"setWasmTableEntry"),i(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,f){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var c=getEmptyTableSlot();try{setWasmTableEntry(c,a)}catch(u){if(!(u instanceof TypeError))throw u;setWasmTableEntry(c,convertJsFunctionToWasm(a,f))}return functionsInTableMap.set(a,c),c}o(addFunction,"addFunction"),i(addFunction,"addFunction");function updateGOT(a,f){for(var c in a)if(!isInternalSym(c)){var u=a[c];c.startsWith("orig$")&&(c=c.split("$")[1],f=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(f||GOT[c].value==0)&&(typeof u=="function"?GOT[c].value=addFunction(u):typeof u=="number"?GOT[c].value=u:err("unhandled export type for `"+c+"`: "+typeof u))}}o(updateGOT,"updateGOT"),i(updateGOT,"updateGOT");function relocateExports(a,f,c){var u={};for(var d in a){var h=a[d];typeof h=="object"&&(h=h.value),typeof h=="number"&&(h+=f),u[d]=h}return updateGOT(u,c),u}o(relocateExports,"relocateExports"),i(relocateExports,"relocateExports");function resolveGlobalSymbol(a,f){var c;return f&&(c=asmLibraryArg["orig$"+a]),c||(c=asmLibraryArg[a])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(a)]),!c&&a.startsWith("invoke_")&&(c=createInvokeFunction(a.split("_")[1])),c}o(resolveGlobalSymbol,"resolveGlobalSymbol"),i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,f){return Math.ceil(a/f)*f}o(alignMemory,"alignMemory"),i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var f=resolveGlobalSymbol(a,!1);return f||(f=moduleExports[a]),f}o(resolveSymbol,"resolveSymbol"),i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,f){switch(f){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(f in asmLibraryArg)return asmLibraryArg[f];var c;return f in a||(a[f]=function(){return c||(c=resolveSymbol(f)),c.apply(null,arguments)}),a[f]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule"),i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,f,c){f=f||{global:!0,nodelete:!0};var u=LDSO.loadedLibsByName[a];if(u)return f.global&&!u.global&&(u.global=!0,u.module!=="loading"&&mergeLibSymbols(u.module,a)),f.nodelete&&u.refcount!==1/0&&(u.refcount=1/0),u.refcount++,c&&(LDSO.loadedLibsByHandle[c]=u),!f.loadAsync||Promise.resolve(!0);function d(p){if(f.fs&&f.fs.findObject(p)){var v=f.fs.readFile(p,{encoding:"binary"});return v instanceof Uint8Array||(v=new Uint8Array(v)),f.loadAsync?Promise.resolve(v):v}if(p=locateFile(p),f.loadAsync)return new Promise(function(x,E){readAsync(p,I=>x(new Uint8Array(I)),E)});if(!readBinary)throw new Error(p+": file not found, and synchronous loading of external files is not available");return readBinary(p)}o(d,"o"),i(d,"n");function h(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var p=preloadedWasm[a];return f.loadAsync?Promise.resolve(p):p}return f.loadAsync?d(a).then(function(v){return loadWebAssemblyModule(v,f,c)}):loadWebAssemblyModule(d(a),f,c)}o(h,"s"),i(h,"s");function m(p){u.global&&mergeLibSymbols(p,a),u.module=p}return o(m,"a"),i(m,"a"),u={refcount:f.nodelete?1/0:1,name:a,module:"loading",global:f.global},LDSO.loadedLibsByName[a]=u,c&&(LDSO.loadedLibsByHandle[c]=u),f.loadAsync?h().then(function(p){return m(p),!0}):(m(h()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary"),i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var f=resolveGlobalSymbol(a,!0);if(!f&&!GOT[a].required)continue;if(typeof f=="function")GOT[a].value=addFunction(f,f.sig);else{if(typeof f!="number")throw new Error("bad export type for `"+a+"`: "+typeof f);GOT[a].value=f}}}o(reportUndefinedSymbols,"reportUndefinedSymbols"),i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs"),i(preloadDylibs,"preloadDylibs");function setValue(a,f,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[a>>0]=f;break;case"i16":HEAP16[a>>1]=f;break;case"i32":HEAP32[a>>2]=f;break;case"i64":tempI64=[f>>>0,(tempDouble=f,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=f;break;case"double":HEAPF64[a>>3]=f;break;case"*":HEAPU32[a>>2]=f;break;default:abort("invalid type for setValue: "+c)}}o(setValue,"setValue"),i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic"),i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort"),i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now"),i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,f,c){HEAPU8.copyWithin(a,f,f+c)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big"),i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax"),i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer"),i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var f=HEAPU8.length;a>>>=0;var c=getHeapMax();if(a>c)return!1;for(var u=1;u<=4;u*=2){var d=f*(1+.2/u);if(d=Math.min(d,a+100663296),emscripten_realloc_buffer(Math.min(c,(h=Math.max(a,d))+((m=65536)-h%m)%m)))return!0}var h,m;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,f,c){if(PATH.isAbs(f))return f;var u;if(a===-100?u=FS.cwd():u=SYSCALLS.getStreamFromFD(a).path,f.length==0){if(!c)throw new FS.ErrnoError(44);return u}return PATH.join2(u,f)},doStat:function(a,f,c){try{var u=a(f)}catch(p){if(p&&p.node&&PATH.normalize(f)!==PATH.normalize(FS.getPath(p.node)))return-54;throw p}HEAP32[c>>2]=u.dev,HEAP32[c+8>>2]=u.ino,HEAP32[c+12>>2]=u.mode,HEAPU32[c+16>>2]=u.nlink,HEAP32[c+20>>2]=u.uid,HEAP32[c+24>>2]=u.gid,HEAP32[c+28>>2]=u.rdev,tempI64=[u.size>>>0,(tempDouble=u.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=u.blocks;var d=u.atime.getTime(),h=u.mtime.getTime(),m=u.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=d%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=h%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=m%1e3*1e3,tempI64=[u.ino>>>0,(tempDouble=u.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},doMsync:function(a,f,c,u,d){if(!FS.isFile(f.node.mode))throw new FS.ErrnoError(43);if(2&u)return 0;var h=HEAPU8.slice(a,a+c);FS.msync(f,h,d,c,u)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var f=FS.getStream(a);if(!f)throw new FS.ErrnoError(8);return f}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}o(_proc_exit,"_proc_exit"),i(_proc_exit,"_proc_exit");function exitJS(a,f){EXITSTATUS=a,_proc_exit(a)}o(exitJS,"exitJS"),i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var f=SYSCALLS.getStreamFromFD(a);return FS.close(f),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_close,"_fd_close"),i(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,f){return f+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*f:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked"),i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,f,c,u,d){try{var h=convertI32PairToI53Checked(f,c);if(isNaN(h))return 61;var m=SYSCALLS.getStreamFromFD(a);return FS.llseek(m,h,u),tempI64=[m.position>>>0,(tempDouble=m.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],m.getdents&&h===0&&u===0&&(m.getdents=null),0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}o(_fd_seek,"_fd_seek"),i(_fd_seek,"_fd_seek");function doWritev(a,f,c,u){for(var d=0,h=0;h<c;h++){var m=HEAPU32[f>>2],p=HEAPU32[f+4>>2];f+=8;var v=FS.write(a,HEAP8,m,p,u);if(v<0)return-1;d+=v,u!==void 0&&(u+=v)}return d}o(doWritev,"doWritev"),i(doWritev,"doWritev");function _fd_write(a,f,c,u){try{var d=doWritev(SYSCALLS.getStreamFromFD(a),f,c);return HEAPU32[u>>2]=d,0}catch(h){if(typeof FS>"u"||!(h instanceof FS.ErrnoError))throw h;return h.errno}}o(_fd_write,"_fd_write"),i(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,f){if(currentLogCallback){let c=UTF8ToString(f);currentLogCallback(c,a!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback"),i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,f,c,u,d){var h=currentParseCallback(f,{row:c,column:u});typeof h=="string"?(setValue(d,h.length,"i32"),stringToUTF16(h,a,10240)):setValue(d,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback"),i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}o(handleException,"handleException"),i(handleException,"handleException");function allocateUTF8OnStack(a){var f=lengthBytesUTF8(a)+1,c=stackAlloc(f);return stringToUTF8Array(a,HEAP8,c,f),c}o(allocateUTF8OnStack,"allocateUTF8OnStack"),i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,f,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var u=f,d=(c-=2)<2*a.length?c/2:a.length,h=0;h<d;++h){var m=a.charCodeAt(h);HEAP16[f>>1]=m,f+=2}return HEAP16[f>>1]=0,f-u}o(stringToUTF16,"stringToUTF16"),i(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var f="";;){var c=HEAPU8[a++>>0];if(!c)return f;f+=String.fromCharCode(c)}}o(AsciiToString,"AsciiToString"),i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var f=Module._main;if(f){(a=a||[]).unshift(thisProgram);var c=a.length,u=stackAlloc(4*(c+1)),d=u>>2;a.forEach(m=>{HEAP32[d++]=allocateUTF8OnStack(m)}),HEAP32[d]=0;try{var h=f(c,u);return exitJS(h,!0),h}catch(m){return handleException(m)}}}o(callMain,"callMain"),i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(o(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"t"),"e");var dylibsLoaded=!1;function run(a){function f(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}o(f,"e"),i(f,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),f()},1)):f()))}if(o(run,"run"),i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(f){let c;if(f){if(f.constructor!==Language)throw new Error("Argument must be a Language");{c=f[0];let u=C._ts_language_version(c);if(u<MIN_COMPATIBLE_VERSION||VERSION<u)throw new Error(`Incompatible language version ${u}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,f=null;return this.language=f,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(f,c,u){if(typeof f=="string")currentParseCallback=i((v,x,E)=>f.slice(v,E),"currentParseCallback");else{if(typeof f!="function")throw new Error("Argument must be a string or a function");currentParseCallback=f}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,h=0;if(u&&u.includedRanges){d=u.includedRanges.length,h=C._calloc(d,SIZE_OF_RANGE);let v=h;for(let x=0;x<d;x++)marshalRange(v,u.includedRanges[x]),v+=SIZE_OF_RANGE}let m=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,h,d);if(!m)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let p=new Tree(INTERNAL,m,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,p}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(f){C._ts_parser_set_timeout_micros(this[0],f)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(f){if(f){if(typeof f!="function")throw new Error("Logger callback must be a function")}else f=null;return this.logCallback=f,this}getLogger(){return this.logCallback}};o(e,"ParserImpl"),i(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(f,c,u,d){assertInternal(f),this[0]=c,this.language=u,this.textCallback=d}copy(){let f=C._ts_tree_copy(this[0]);return new t(INTERNAL,f,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(f){marshalEdit(f),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(f){if(f.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],f[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(c);if(c>0){let h=u;for(let m=0;m<c;m++)d[m]=unmarshalRange(h),h+=SIZE_OF_RANGE;C._free(u)}return d}};o(t,"Tree"),i(t,"Tree");let Tree=t,r=class r{constructor(f,c){assertInternal(f),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(f){return this.id===f.id}child(f){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}namedChild(f){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldId(f){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldName(f){let c=this.tree.language.fields.indexOf(f);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._children[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._namedChildren[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(f,c,u){Array.isArray(f)||(f=[f]),c||(c=ZERO_POINT),u||(u=ZERO_POINT);let d=[],h=this.tree.language.types;for(let E=0,I=h.length;E<I;E++)f.includes(h[E])&&d.push(E);let m=C._malloc(SIZE_OF_INT*d.length);for(let E=0,I=d.length;E<I;E++)setValue(m+E*SIZE_OF_INT,d[E],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],m,d.length,c.row,c.column,u.row,u.column);let p=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=new Array(p);if(p>0){let E=v;for(let I=0;I<p;I++)x[I]=unmarshalNode(this.tree,E),E+=SIZE_OF_NODE}return C._free(v),C._free(m),x}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let f=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(f);return C._free(f),c}};o(r,"Node"),i(r,"Node");let Node=r,n=class n{constructor(f,c){assertInternal(f),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(f){marshalNode(f),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let f=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,f,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoNextSibling(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoParent(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}};o(n,"TreeCursor"),i(n,"TreeCursor");let TreeCursor=n,s=class s{constructor(f,c){assertInternal(f),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let u=0,d=this.types.length;u<d;u++)C._ts_language_symbol_type(this[0],u)<2&&(this.types[u]=UTF8ToString(C._ts_language_symbol_name(this[0],u)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let u=0,d=this.fields.length;u<d;u++){let h=C._ts_language_field_name_for_id(this[0],u);this.fields[u]=h!==0?UTF8ToString(h):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(f){let c=this.fields.indexOf(f);return c!==-1?c:null}fieldNameForId(f){return this.fields[f]||null}idForNodeType(f,c){let u=lengthBytesUTF8(f),d=C._malloc(u+1);stringToUTF8(f,d,u+1);let h=C._ts_language_symbol_for_name(this[0],d,u,c);return C._free(d),h||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(f){let c=C._ts_language_symbol_name(this[0],f);return c?UTF8ToString(c):null}nodeTypeIsNamed(f){return!!C._ts_language_type_is_named_wasm(this[0],f)}nodeTypeIsVisible(f){return!!C._ts_language_type_is_visible_wasm(this[0],f)}query(f){let c=lengthBytesUTF8(f),u=C._malloc(c+1);stringToUTF8(f,u,c+1);let d=C._ts_query_new(this[0],u,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let B=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),V=UTF8ToString(u,getValue(TRANSFER_BUFFER,"i32")).length,de=f.substr(V,100).split(`
`)[0],ve,n0=de.match(QUERY_WORD_REGEX)[0];switch(B){case 2:ve=new RangeError(`Bad node name '${n0}'`);break;case 3:ve=new RangeError(`Bad field name '${n0}'`);break;case 4:ve=new RangeError(`Bad capture name @${n0}`);break;case 5:ve=new TypeError(`Bad pattern structure at offset ${V}: '${de}'...`),n0="";break;default:ve=new SyntaxError(`Bad syntax at offset ${V}: '${de}'...`),n0=""}throw ve.index=V,ve.length=n0.length,C._free(u),ve}let h=C._ts_query_string_count(d),m=C._ts_query_capture_count(d),p=C._ts_query_pattern_count(d),v=new Array(m),x=new Array(h);for(let B=0;B<m;B++){let V=C._ts_query_capture_name_for_id(d,B,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");v[B]=UTF8ToString(V,de)}for(let B=0;B<h;B++){let V=C._ts_query_string_value_for_id(d,B,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");x[B]=UTF8ToString(V,de)}let E=new Array(p),I=new Array(p),P=new Array(p),L=new Array(p),F=new Array(p);for(let B=0;B<p;B++){let V=C._ts_query_predicates_for_pattern(d,B,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");L[B]=[],F[B]=[];let ve=[],n0=V;for(let d0=0;d0<de;d0++){let r0=getValue(n0,"i32");n0+=SIZE_OF_INT;let m0=getValue(n0,"i32");if(n0+=SIZE_OF_INT,r0===PREDICATE_STEP_TYPE_CAPTURE)ve.push({type:"capture",name:v[m0]});else if(r0===PREDICATE_STEP_TYPE_STRING)ve.push({type:"string",value:x[m0]});else if(ve.length>0){if(ve[0].type!=="string")throw new Error("Predicates must begin with a literal value");let $e=ve[0].value,we=!0;switch($e){case"not-eq?":we=!1;case"eq?":if(ve.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(ve.length-1));if(ve[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${ve[1].value}"`);if(ve[2].type==="capture"){let N0=ve[1].name,t0=ve[2].name;F[B].push(function(f0){let ce,Se;for(let C0 of f0)C0.name===N0&&(ce=C0.node),C0.name===t0&&(Se=C0.node);return ce===void 0||Se===void 0||ce.text===Se.text===we})}else{let N0=ve[1].name,t0=ve[2].value;F[B].push(function(f0){for(let ce of f0)if(ce.name===N0)return ce.node.text===t0===we;return!0})}break;case"not-match?":we=!1;case"match?":if(ve.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${ve.length-1}.`);if(ve[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${ve[1].value}".`);if(ve[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${ve[2].value}.`);let o0=ve[1].name,u0=new RegExp(ve[2].value);F[B].push(function(N0){for(let t0 of N0)if(t0.name===o0)return u0.test(t0.node.text)===we;return!0});break;case"set!":if(ve.length<2||ve.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${ve.length-1}.`);if(ve.some(N0=>N0.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');E[B]||(E[B]={}),E[B][ve[1].value]=ve[2]?ve[2].value:null;break;case"is?":case"is-not?":if(ve.length<2||ve.length>3)throw new Error(`Wrong number of arguments to \`#${$e}\` predicate. Expected 1 or 2. Got ${ve.length-1}.`);if(ve.some(N0=>N0.type!=="string"))throw new Error(`Arguments to \`#${$e}\` predicate must be a strings.".`);let l0=$e==="is?"?I:P;l0[B]||(l0[B]={}),l0[B][ve[1].value]=ve[2]?ve[2].value:null;break;default:L[B].push({operator:$e,operands:ve.slice(1)})}ve.length=0}}Object.freeze(E[B]),Object.freeze(I[B]),Object.freeze(P[B])}return C._free(u),new Query(INTERNAL,d,v,F,L,Object.freeze(E),Object.freeze(I),Object.freeze(P))}static load(f){let c;if(f instanceof Uint8Array)c=Promise.resolve(f);else{let d=f;if(typeof process<"u"&&process.versions&&process.versions.node){let h=require("fs");c=Promise.resolve(h.readFileSync(d))}else c=fetch(d).then(h=>h.arrayBuffer().then(m=>{if(h.ok)return new Uint8Array(m);{let p=new TextDecoder("utf-8").decode(m);throw new Error(`Language.load failed with status ${h.status}.

${p}`)}}))}let u=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(d=>u(d,{loadAsync:!0})).then(d=>{let h=Object.keys(d),m=h.find(v=>LANGUAGE_FUNCTION_REGEX.test(v)&&!v.includes("external_scanner_"));m||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(h,null,2)}`);let p=d[m]();return new s(INTERNAL,p)})}};o(s,"Language"),i(s,"Language");let Language=s,l=class l{constructor(f,c,u,d,h,m,p,v){assertInternal(f),this[0]=c,this.captureNames=u,this.textPredicates=d,this.predicates=h,this.setProperties=m,this.assertedProperties=p,this.refutedProperties=v,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_matches_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let m=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=new Array(m);this.exceededMatchLimit=!!v;let E=0,I=p;for(let P=0;P<m;P++){let L=getValue(I,"i32");I+=SIZE_OF_INT;let F=getValue(I,"i32");I+=SIZE_OF_INT;let B=new Array(F);if(I=unmarshalCaptures(this,f.tree,I,B),this.textPredicates[L].every(V=>V(B))){x[E++]={pattern:L,captures:B};let V=this.setProperties[L];V&&(x[P].setProperties=V);let de=this.assertedProperties[L];de&&(x[P].assertedProperties=de);let ve=this.refutedProperties[L];ve&&(x[P].refutedProperties=ve)}}return x.length=E,C._free(p),x}captures(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_captures_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let m=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=[];this.exceededMatchLimit=!!v;let E=[],I=p;for(let P=0;P<m;P++){let L=getValue(I,"i32");I+=SIZE_OF_INT;let F=getValue(I,"i32");I+=SIZE_OF_INT;let B=getValue(I,"i32");if(I+=SIZE_OF_INT,E.length=F,I=unmarshalCaptures(this,f.tree,I,E),this.textPredicates[L].every(V=>V(E))){let V=E[B],de=this.setProperties[L];de&&(V.setProperties=de);let ve=this.assertedProperties[L];ve&&(V.assertedProperties=ve);let n0=this.refutedProperties[L];n0&&(V.refutedProperties=n0),x.push(V)}}return C._free(p),x}predicatesForPattern(f){return this.predicates[f]}didExceedMatchLimit(){return this.exceededMatchLimit}};o(l,"Query"),i(l,"Query");let Query=l;function getText(a,f,c){let u=c-f,d=a.textCallback(f,null,c);for(f+=d.length;f<c;){let h=a.textCallback(f,null,c);if(!(h&&h.length>0))break;f+=h.length,d+=h}return f>c&&(d=d.slice(0,u)),d}o(getText,"getText"),i(getText,"getText");function unmarshalCaptures(a,f,c,u){for(let d=0,h=u.length;d<h;d++){let m=getValue(c,"i32"),p=unmarshalNode(f,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,u[d]={name:a.captureNames[m],node:p}}return c}o(unmarshalCaptures,"unmarshalCaptures"),i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal"),i(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}o(isPoint,"isPoint"),i(isPoint,"isPoint");function marshalNode(a){let f=TRANSFER_BUFFER;setValue(f,a.id,"i32"),f+=SIZE_OF_INT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.row,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.column,"i32"),f+=SIZE_OF_INT,setValue(f,a[0],"i32")}o(marshalNode,"marshalNode"),i(marshalNode,"marshalNode");function unmarshalNode(a,f=TRANSFER_BUFFER){let c=getValue(f,"i32");if(c===0)return null;let u=getValue(f+=SIZE_OF_INT,"i32"),d=getValue(f+=SIZE_OF_INT,"i32"),h=getValue(f+=SIZE_OF_INT,"i32"),m=getValue(f+=SIZE_OF_INT,"i32"),p=new Node(INTERNAL,a);return p.id=c,p.startIndex=u,p.startPosition={row:d,column:h},p[0]=m,p}o(unmarshalNode,"unmarshalNode"),i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,f=TRANSFER_BUFFER){setValue(f+0*SIZE_OF_INT,a[0],"i32"),setValue(f+1*SIZE_OF_INT,a[1],"i32"),setValue(f+2*SIZE_OF_INT,a[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor"),i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor"),i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,f){setValue(a,f.row,"i32"),setValue(a+SIZE_OF_INT,f.column,"i32")}o(marshalPoint,"marshalPoint"),i(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint"),i(unmarshalPoint,"unmarshalPoint");function marshalRange(a,f){marshalPoint(a,f.startPosition),marshalPoint(a+=SIZE_OF_POINT,f.endPosition),setValue(a+=SIZE_OF_POINT,f.startIndex,"i32"),setValue(a+=SIZE_OF_INT,f.endIndex,"i32"),a+=SIZE_OF_INT}o(marshalRange,"marshalRange"),i(marshalRange,"marshalRange");function unmarshalRange(a){let f={};return f.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,f.endIndex=getValue(a,"i32"),f}o(unmarshalRange,"unmarshalRange"),i(unmarshalRange,"unmarshalRange");function marshalEdit(a){let f=TRANSFER_BUFFER;marshalPoint(f,a.startPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.oldEndPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.newEndPosition),f+=SIZE_OF_POINT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.oldEndIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.newEndIndex,"i32"),f+=SIZE_OF_INT}o(marshalEdit,"marshalEdit"),i(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};o(_Parser,"Parser"),i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)}),xi={};ho(xi,{DEFAULT_NUM_OF_SNIPPETS:()=>ar,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>Un,ElidableText:()=>Fe,LineEndingOptions:()=>Zt,LineWithValueAndCost:()=>he,MAX_PROMPT_LENGTH:()=>ir,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>lr,NeighboringTabsOption:()=>We,PromptOptions:()=>mt,ProviderTimeoutError:()=>re,SnippetOrchestrator:()=>Tt,SnippetProviderType:()=>j,SnippetSemantics:()=>ie,SuffixMatchOption:()=>cr,SuffixOption:()=>ur,TokenizerName:()=>Je,WASMLanguage:()=>ro,blankNode:()=>Xe,buildLabelRules:()=>fe,clearLabels:()=>kn,clearLabelsIf:()=>Bt,combineClosersAndOpeners:()=>Ye,comment:()=>Oe,commentBlockAsSingles:()=>be,createWorker:()=>Ti,cutTreeAfterLine:()=>So,deparseAndCutTree:()=>Ao,deparseLine:()=>Ae,deparseTree:()=>Rn,describeTree:()=>On,duplicateTree:()=>Mo,elidableTextForDiff:()=>jo,elidableTextForSourceCode:()=>Ut,encodeTree:()=>Dn,firstLineOf:()=>Bn,flattenVirtual:()=>q,foldTree:()=>ke,fromTreeWithFocussedLines:()=>ge,fromTreeWithValuedLines:()=>zn,getAncestorWithSiblingFunctions:()=>fi,getBlockCloseToken:()=>ci,getBlockParser:()=>kt,getCursorContext:()=>rt,getFirstPrecedingComment:()=>hi,getFunctionPositions:()=>bi,getLanguage:()=>so,getNodeStart:()=>Mi,getPrompt:()=>_s,getTokenizer:()=>U,groupBlocks:()=>Wt,isBlank:()=>M,isBlockBodyFinished:()=>Si,isEmptyBlockStart:()=>Ei,isFunction:()=>xt,isFunctionDefinition:()=>gi,isLine:()=>z,isSupportedLanguageId:()=>je,isTop:()=>ee,isVirtual:()=>A,labelLines:()=>pe,labelVirtualInherited:()=>Ce,languageCommentMarkers:()=>nt,languageIdToWasmLanguage:()=>D,lastLineOf:()=>Wn,lineNode:()=>Dt,mapLabels:()=>H,normalizeLanguageId:()=>ne,parseRaw:()=>Pn,parseTree:()=>te,parseTreeSitter:()=>Te,parsesWithoutError:()=>ui,providersErrors:()=>Jr,providersPerformance:()=>Qr,providersSnippets:()=>Kr,queryExports:()=>_i,queryFunctions:()=>io,queryGlobalVars:()=>mi,queryImports:()=>di,queryPythonIsDocstring:()=>Tn,rebuildTree:()=>Pe,registerLanguageSpecificParser:()=>et,resetLineNumbers:()=>To,topNode:()=>Ne,virtualNode:()=>Qe,visitTree:()=>T,visitTreeConditionally:()=>xo});module.exports=bo(xi);var uo=require("path"),co=require("worker_threads"),At=Ct(require("fs")),Ft=Ct(require("path")),Ke=require("util"),Ge=i((e,t)=>Array.from(Array(t).keys()).slice(e),"range"),me=i(e=>e.charCodeAt(0),"ord"),yo=i(e=>String.fromCharCode(e),"chr"),wo=new Ke.TextDecoder("utf-8"),In=i(e=>wo.decode(new Uint8Array(e)),"decodeStr"),vo=i((e,t)=>{let r=new Map;return e.forEach((n,s)=>{r.set(e[s],t[s])}),r},"dictZip");function Eo(e){let t=Ge(me("!"),me("~")+1).concat(Ge(me("\xA1"),me("\xAC")+1),Ge(me("\xAE"),me("\xFF")+1)),r=t.slice(),n=0;for(let l=0;l<2**8;l++)t.includes(l)||(t.push(l),r.push(2**8+n),n=n+1);let s=r.map(l=>yo(l));for(let l=0;l<t.length;l++)e.set(t[l],s[l])}o(Eo,"Eo");i(Eo,"bytes_to_unicode");function Ln(e){let t=new Set,r=e[0];for(let n=1;n<e.length;n++){let s=e[n];t.add([r,s]),r=s}return t}o(Ln,"Ln");i(Ln,"get_char_pairs");var Je=(e=>(e.cl100k="cl100k",e.mock="mock",e))(Je||{}),Nn=new Map;function U(e="cl100k"){let t=Nn.get(e);return t!==void 0||(e==="mock"?t=new Ot:t=new Rt(e),Nn.set(e,t)),t}o(U,"U");i(U,"getTokenizer");var n8,Rt=(n8=class{constructor(t="cl100k"){this.decoder=new Map,this.byte_encoder=new Map,this.byte_decoder=new Map,this.cache=new Map,this.textEncoder=new Ke.TextEncoder,this.encodeStr=f=>Array.from(this.textEncoder.encode(f));let r="",n="";if(t==="cl100k")r="vocab_cushman002.bpe",n="tokenizer_cushman002.json",this.pat=new RegExp("'s|'t|'re|'ve|'m|'ll|'d|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+","giu");else throw new Error(`Unknown tokenizer name: ${t}`);let s,l;try{let f=At.readFileSync(Ft.resolve(__dirname,"resources",t,n));s=JSON.parse(f.toString()),l=At.readFileSync(Ft.resolve(__dirname,"resources",t,r),"utf-8")}catch(f){if(typeof f.code=="string"&&f instanceof Error&&f.name==="Error"||f instanceof SyntaxError){let c=new Error(`Could not load tokenizer: ${t}`);throw c.code="CopilotPromptLoadFailure",c.cause=f,c}throw f}this.encoder=new Map(Object.entries(s));for(let[f,c]of this.encoder)this.decoder.set(c,f);let a=l.split(`
`).slice(1).filter(f=>f.trim().length>0);this.bpe_ranks=vo(a,Ge(0,a.length)),Eo(this.byte_encoder),this.byte_encoder.forEach((f,c,u)=>{this.byte_decoder.set(f,c)})}byteEncodeStr(t){return this.encodeStr(t).map(r=>this.byte_encoder.get(r))}mutatingConcat(t,r){for(let n=0;n<r.length;n++)t.push(r[n]);return t}bpe(t){if(this.cache.has(t))return this.cache.get(t);let r=this.byteEncodeStr(t),n=Ln(r);if(!n)return r.map(l=>this.encoder.get(l));for(;;){let l=new Map;n.forEach(m=>{let p=m.join(" "),v=this.bpe_ranks.get(p);l.set(v===void 0||isNaN(v)?1e11:v,m)});let a=Array.from(l.keys()).map(m=>Number(m)),f=l.get(Math.min(...a));if(!f||!this.bpe_ranks.has(f.join(" ")))break;let c=f[0],u=f[1],d=[],h=0;for(;h<r.length;){let m=r.indexOf(c,h);if(m===-1){this.mutatingConcat(d,r.slice(h));break}this.mutatingConcat(d,r.slice(h,m)),h=m,r[h]===c&&h<r.length-1&&r[h+1]===u?(d.push(c+u),h=h+2):(d.push(r[h]),h=h+1)}if(r=d,r.length===1)break;n=Ln(r)}let s=r.map(l=>this.encoder.get(l));return this.cache.set(t,s),s}tokenize(t){let r=[];for(let[n]of t.matchAll(this.pat)){let s=this.bpe(n);this.mutatingConcat(r,s)}return r}tokenLength(t){return this.tokenize(t).length}takeLastTokens(t,r){if(r<=0)return"";let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(-l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(-l),f=this.tokenize(a);return f.length<r?t:(f=f.slice(-r),this.detokenize(f))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(0,l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(0,l),f=this.tokenize(a);return f.length<r?{text:t,tokens:f}:(f=f.slice(0,r),{text:this.detokenize(f),tokens:f})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}detokenize(t){let r=t.map(n=>this.decoder.get(n)).join("");return r=In(r.split("").map(n=>this.byte_decoder.get(n))),r}tokenizeStrings(t){return this.tokenize(t).map(r=>In(this.decoder.get(r).split("").map(n=>this.byte_decoder.get(n))))}},o(n8,"Rt"),i(n8,"BPETokenizer"),n8),i8,Ot=(i8=class{constructor(){this.hash=t=>{let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=(r<<5)-r+s,r&=r&65535}return r}}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(i8,"Ot"),i(i8,"MockTokenizer"),i8);function Qe(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(Qe,"Qe");i(Qe,"virtualNode");function Dt(e,t,r,n,s){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:s}}o(Dt,"Dt");i(Dt,"lineNode");function Xe(e){return{type:"blank",lineNumber:e,subs:[]}}o(Xe,"Xe");i(Xe,"blankNode");function Ne(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}o(Ne,"Ne");i(Ne,"topNode");function M(e){return e.type==="blank"}o(M,"M");i(M,"isBlank");function z(e){return e.type==="line"}o(z,"z");i(z,"isLine");function A(e){return e.type==="virtual"}o(A,"A");i(A,"isVirtual");function ee(e){return e.type==="top"}o(ee,"ee");i(ee,"isTop");function So(e,t){function r(n){if(!A(n)&&!ee(n)&&n.lineNumber===t)return n.subs=[],!0;for(let s=0;s<n.subs.length;s++)if(r(n.subs[s]))return n.subs=n.subs.slice(0,s+1),!0;return!1}o(r,"n"),i(r,"cut"),r(e)}o(So,"So");i(So,"cutTreeAfterLine");function Mo(e){return JSON.parse(JSON.stringify(e))}o(Mo,"Mo");i(Mo,"duplicateTree");function kn(e){return T(e,t=>{t.label=void 0},"bottomUp"),e}o(kn,"kn");i(kn,"clearLabels");function Bt(e,t){return T(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(Bt,"Bt");i(Bt,"clearLabelsIf");function H(e,t){switch(e.type){case"line":case"virtual":let r=e.subs.map(n=>H(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0};case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>H(n,t)),label:e.label?t(e.label):void 0}}}o(H,"H");i(H,"mapLabels");function To(e){let t=0;function r(n){!A(n)&&!ee(n)&&(n.lineNumber=t,t++)}o(r,"n"),i(r,"visitor"),T(e,r,"topDown")}o(To,"To");i(To,"resetLineNumbers");function T(e,t,r){function n(s){r==="topDown"&&t(s),s.subs.forEach(l=>{n(l)}),r==="bottomUp"&&t(s)}o(n,"r"),i(n,"_visit"),n(e)}o(T,"T");i(T,"visitTree");function xo(e,t,r){function n(s){if(r==="topDown"&&!t(s))return!1;let l=!0;return s.subs.forEach(a=>{l=l&&n(a)}),r==="bottomUp"&&(l=l&&t(s)),l}o(n,"r"),i(n,"_visit"),n(e)}o(xo,"xo");i(xo,"visitTreeConditionally");function ke(e,t,r,n){let s=t;function l(a){s=r(a,s)}return o(l,"s"),i(l,"visitor"),T(e,l,n),s}o(ke,"ke");i(ke,"foldTree");function Pe(e,t,r){let n=i(l=>{if(r!==void 0&&r(l))return l;{let a=l.subs.map(n).filter(f=>f!==void 0);return l.subs=a,t(l)}},"rebuild"),s=n(e);return s!==void 0?s:Ne()}o(Pe,"Pe");i(Pe,"rebuildTree");function Pn(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function s(u){let[d,h]=l(u+1,r[u]);return[Dt(r[u],u,n[u],d),h]}o(s,"o"),i(s,"parseNode");function l(u,d){let h,m=[],p=u,v;for(;p<n.length&&(n[p]===""||r[p]>d);)if(n[p]==="")v===void 0&&(v=p),p+=1;else{if(v!==void 0){for(let x=v;x<p;x++)m.push(Xe(x));v=void 0}[h,p]=s(p),m.push(h)}return v!==void 0&&(p=v),[m,p]}o(l,"s"),i(l,"parseSubs");let[a,f]=l(0,-1),c=f;for(;c<n.length&&n[c]==="";)a.push(Xe(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return Ne(a)}o(Pn,"Pn");i(Pn,"parseRaw");function pe(e,t){function r(n){if(z(n)){let s=t.find(l=>l.matches(n.sourceLine));s&&(n.label=s.label)}}o(r,"n"),i(r,"visitor"),T(e,r,"bottomUp")}o(pe,"pe");i(pe,"labelLines");function Ce(e){function t(r){if(A(r)&&r.label===void 0){let n=r.subs.filter(s=>!M(s));n.length===1&&(r.label=n[0].label)}}o(t,"e"),i(t,"visitor"),T(e,t,"bottomUp")}o(Ce,"Ce");i(Ce,"labelVirtualInherited");function fe(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(fe,"fe");i(fe,"buildLabelRules");function Ye(e){let t=Pe(e,i(function(r){if(r.subs.length===0||r.subs.findIndex(l=>l.label==="closer"||l.label==="opener")===-1)return r;let n=[],s;for(let l=0;l<r.subs.length;l++){let a=r.subs[l],f=r.subs[l-1];if(a.label==="opener"&&f!==void 0&&z(f))f.subs.push(a),a.subs.forEach(c=>f.subs.push(c)),a.subs=[];else if(a.label==="closer"&&s!==void 0&&(z(a)||A(a))&&a.indentation>=s.indentation){let c=n.length-1;for(;c>0&&M(n[c]);)c-=1;if(s.subs.push(...n.splice(c+1)),a.subs.length>0){let u=s.subs.findIndex(p=>p.label!=="newVirtual"),d=s.subs.slice(0,u),h=s.subs.slice(u),m=h.length>0?[Qe(a.indentation,h,"newVirtual")]:[];s.subs=[...d,...m,a]}else s.subs.push(a)}else n.push(a),M(a)||(s=a)}return r.subs=n,r},"rebuilder"));return Bt(e,r=>r==="newVirtual"),t}o(Ye,"Ye");i(Ye,"combineClosersAndOpeners");function Wt(e,t=M,r){return Pe(e,i(function(n){if(n.subs.length<=1)return n;let s=[],l=[],a,f=!1;function c(u=!1){if(a!==void 0&&(s.length>0||!u)){let d=Qe(a,l,r);s.push(d)}else l.forEach(d=>s.push(d))}o(c,"d"),i(c,"flushBlockIntoNewSubs");for(let u=0;u<n.subs.length;u++){let d=n.subs[u],h=t(d);!h&&f&&(c(),l=[]),f=h,l.push(d),M(d)||(a=a!=null?a:d.indentation)}return c(!0),n.subs=s,n},"rebuilder"))}o(Wt,"Wt");i(Wt,"groupBlocks");function q(e){return Pe(e,i(function(t){return A(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&A(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}o(q,"q");i(q,"flattenVirtual");var Io={opener:/^[\[({]/,closer:/^[\])}]/},Lo=fe(Io),Cn={};function et(e,t){Cn[e]=t}o(et,"et");i(et,"registerLanguageSpecificParser");function te(e,t){let r=Pn(e),n=Cn[t!=null?t:""];return n?n(r):(pe(r,Lo),Ye(r))}o(te,"te");i(te,"parseTree");var No={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},ko=fe(No);function An(e){let t=e;return pe(t,ko),t=Ye(t),t=q(t),Ce(t),T(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!M(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(An,"An");i(An,"processJava");var Po={heading:/^# /,subheading:/^## /,subsubheading:/### /},Co=fe(Po);function Fn(e){let t=e;if(pe(t,Co),M(t))return t;function r(l){if(l.label==="heading")return 1;if(l.label==="subheading")return 2;if(l.label==="subsubheading")return 3}o(r,"n"),i(r,"headingLevel");let n=[t],s=[...t.subs];t.subs=[];for(let l of s){let a=r(l);if(a===void 0||M(l))n[n.length-1].subs.push(l);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(l),n[a]=l;n.length>a+1;)n.pop()}}return t=Wt(t),t=q(t),Ce(t),t}o(Fn,"Fn");i(Fn,"processMarkdown");function Ae(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Ae,"Ae");i(Ae,"deparseLine");function Rn(e){function t(r,n){let s="";return z(r)?s=Ae(r):M(r)&&(s=`
`),n+s}return o(t,"e"),i(t,"accumulator"),ke(e,"",t,"topDown")}o(Rn,"Rn");i(Rn,"deparseTree");function Ao(e,t){let r=new Set(t),n=[],s="";function l(a){a.label!==void 0&&r.has(a.label)?(s!==""&&n.push({label:void 0,source:s}),n.push({label:a.label,source:Rn(a)}),s=""):(z(a)&&(s+=Ae(a)),a.subs.forEach(l))}return o(l,"s"),i(l,"visit"),l(e),s!==""&&n.push({label:void 0,source:s}),n}o(Ao,"Ao");i(Ao,"deparseAndCutTree");function On(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let n;e.subs===void 0?n="UNDEFINED SUBS":n=e.subs.map(a=>On(a,t+2)).join(`,
`),n===""?n="[]":n=`[
${n}
      ${r}]`;let s=(A(e)||ee(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,l=e.label===void 0?"":JSON.stringify(e.label);return A(e)||ee(e)?`${s}vnode(${e.indentation}, ${l}, ${n})`:M(e)?`${s}blank(${l!=null?l:""})`:`${s}lnode(${e.indentation}, ${l}, ${JSON.stringify(e.sourceLine)}, ${n})`}o(On,"On");i(On,"describeTree");function Dn(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,n=!M(e)&&e.subs.length>0?`[
${e.subs.map(s=>Dn(s,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${n}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${n}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${n}${r})`}}o(Dn,"Dn");i(Dn,"encodeTree");function Bn(e){if(z(e)||M(e))return e.lineNumber;for(let t of e.subs){let r=Bn(t);if(r!==void 0)return r}}o(Bn,"Bn");i(Bn,"firstLineOf");function Wn(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=Wn(e.subs[r]),r--;return t===void 0&&!A(e)&&!ee(e)?e.lineNumber:t}o(Wn,"Wn");i(Wn,"lastLineOf");et("markdown",Fn);et("java",An);var Un={worthUp:.9,worthSibling:.88,worthDown:.8};function ge(e,t=Un){let r=H(e,n=>n?1:void 0);return T(r,n=>{var l;if(M(n))return;let s=n.subs.reduce((a,f)=>{var c;return Math.max(a,(c=f.label)!=null?c:0)},0);n.label=Math.max((l=n.label)!=null?l:0,s*t.worthUp)},"bottomUp"),T(r,n=>{if(M(n))return;let s=n.subs.map(f=>{var c;return(c=f.label)!=null?c:0}),l=[...s];for(let f=0;f<s.length;f++)s[f]!==0&&(l=l.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(f-u))*s[f])));let a=n.label;a!==void 0&&(l=l.map(f=>Math.max(f,t.worthDown*a))),n.subs.forEach((f,c)=>f.label=l[c])},"topDown"),zn(r)}o(ge,"ge");i(ge,"fromTreeWithFocussedLines");function zn(e){let t=ke(e,[],(r,n)=>{var s,l;return(r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[Ae(r).trimEnd(),(s=r.label)!=null?s:0]:["",(l=r.label)!=null?l:0]),n},"topDown");return new Fe(t)}o(zn,"zn");i(zn,"fromTreeWithValuedLines");function Ut(e,t=!0,r=!0){let n=typeof e=="string"?te(e):te(e.source,e.languageId);q(n);let s=H(n,l=>t&&l!=="closer");return T(s,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&T(s,l=>{if(l.label){let a=!1;for(let f of[...l.subs].reverse())f.label&&!a?a=!0:f.label=!1}else for(let a of l.subs)a.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&T(s,l=>{l.label||(l.label=(z(l)||M(l))&&l.lineNumber==0)},"topDown"),ge(s)}o(Ut,"Ut");i(Ut,"elidableTextForSourceCode");var Q2,he=(Q2=class{constructor(t,r,n=U().tokenLength(t+`
`),s="strict"){if(this.text=t,this._value=r,this._cost=n,t.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>U().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new Q2(this.text,this.value,this.cost,"none")}},o(Q2,"t"),i(Q2,"LineWithValueAndCost"),Q2),ed,Fe=(ed=class{constructor(t){this.lines=[];let r=[];for(let n of t){let s=Array.isArray(n)?n[1]:1,l=Array.isArray(n)?n[0]:n;typeof l=="string"?l.split(`
`).forEach(a=>r.push(new he(a,s))):l instanceof ed?l.lines.forEach(a=>r.push(a.copy().adjustValue(s))):"source"in l&&"languageId"in l&&Ut(l).lines.forEach(a=>r.push(a.copy().adjustValue(s)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>U().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,s="removeLeastDesirable",l=U()){let a=this.lines.map(f=>f.copy());return Fo(a,t,r,n,s,l)}},o(ed,"t"),i(ed,"ElidableText"),ed);function Fo(e,t,r,n,s,l){var h,m,p,v,x,E,I,P,L,F,B,V,de;if(l.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&e.forEach(ve=>ve.adjustValue(1/ve.cost));let a=e.reduce((ve,n0)=>Math.max(ve,n0.value),0)+1,f=e.reduce((ve,n0)=>Math.max(ve,n0.text.length),0)+1,c=r.trim(),u=e.reduce((ve,n0)=>ve+n0.cost,0),d=e.length+1;for(;u>t&&d-->=-1;){let ve=e.reduce((o0,u0)=>u0.value<o0.value?u0:o0),n0=e.indexOf(ve),d0=(h=e.slice(0,n0+1).reverse().find(o0=>o0.text.trim()!==""))!=null?h:{text:""},r0=n?Math.min((p=(m=d0.text.match(/^\s*/))==null?void 0:m[0].length)!=null?p:0,((v=e[n0-1])==null?void 0:v.text.trim())===c?(I=(E=(x=e[n0-1])==null?void 0:x.text.match(/^\s*/))==null?void 0:E[0].length)!=null?I:0:f,((P=e[n0+1])==null?void 0:P.text.trim())===c?(B=(F=(L=e[n0+1])==null?void 0:L.text.match(/^\s*/))==null?void 0:F[0].length)!=null?B:0:f):0,m0=" ".repeat(r0)+r,$e=new he(m0,a,l.tokenLength(m0+`
`),"loose");e.splice(n0,1,$e),((V=e[n0+1])==null?void 0:V.text.trim())===c&&e.splice(n0+1,1),((de=e[n0-1])==null?void 0:de.text.trim())===c&&e.splice(n0-1,1);let we=e.reduce((o0,u0)=>o0+u0.cost,0);we>=u&&e.every(o0=>o0.value===a)&&(n=!1),u=we}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(ve=>ve.text).join(`
`)}o(Fo,"Fo");i(Fo,"makePrompt");function J(){}o(J,"J");i(J,"Diff");J.prototype={diff:i(function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.callback;typeof n=="function"&&(s=n,n={}),this.options=n;var l=this;function a(L){return s?(setTimeout(function(){s(void 0,L)},0),!0):L}o(a,"l"),i(a,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var f=t.length,c=e.length,u=1,d=f+c;n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var h=(r=n.timeout)!==null&&r!==void 0?r:1/0,m=Date.now()+h,p=[{oldPos:-1,lastComponent:void 0}],v=this.extractCommon(p[0],t,e,0);if(p[0].oldPos+1>=c&&v+1>=f)return a([{value:this.join(t),count:t.length}]);var x=-1/0,E=1/0;function I(){for(var L=Math.max(x,-u);L<=Math.min(E,u);L+=2){var F=void 0,B=p[L-1],V=p[L+1];B&&(p[L-1]=void 0);var de=!1;if(V){var ve=V.oldPos-L;de=V&&0<=ve&&ve<f}var n0=B&&B.oldPos+1<c;if(!de&&!n0){p[L]=void 0;continue}if(!n0||de&&B.oldPos+1<V.oldPos?F=l.addToPath(V,!0,void 0,0):F=l.addToPath(B,void 0,!0,1),v=l.extractCommon(F,t,e,L),F.oldPos+1>=c&&v+1>=f)return a(Ro(l,F.lastComponent,t,e,l.useLongestToken));p[L]=F,F.oldPos+1>=c&&(E=Math.min(E,L-1)),v+1>=f&&(x=Math.max(x,L+1))}u++}if(o(I,"h"),i(I,"execEditLength"),s)i(o(function L(){setTimeout(function(){if(u>d||Date.now()>m)return s();I()||L()},0)},"E"),"exec")();else for(;u<=d&&Date.now()<=m;){var P=I();if(P)return P}},"diff"),addToPath:i(function(e,t,r,n){var s=e.lastComponent;return s&&s.added===t&&s.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,t,r,n){for(var s=t.length,l=r.length,a=e.oldPos,f=a-n,c=0;f+1<s&&a+1<l&&this.equals(t[f+1],r[a+1]);)f++,a++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=a,f},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Ro(e,t,r,n,s){for(var l=[],a;t;)l.push(t),a=t.previousComponent,delete t.previousComponent,t=a;l.reverse();for(var f=0,c=l.length,u=0,d=0;f<c;f++){var h=l[f];if(h.removed){if(h.value=e.join(n.slice(d,d+h.count)),d+=h.count,f&&l[f-1].added){var m=l[f-1];l[f-1]=l[f],l[f]=m}}else{if(!h.added&&s){var p=r.slice(u,u+h.count);p=p.map(function(x,E){var I=n[d+E];return I.length>x.length?I:x}),h.value=e.join(p)}else h.value=e.join(r.slice(u,u+h.count));u+=h.count,h.added||(d+=h.count)}}var v=l[c-1];return c>1&&typeof v.value=="string"&&(v.added||v.removed)&&e.equals("",v.value)&&(l[c-2].value+=v.value,l.pop()),l}o(Ro,"Ro");i(Ro,"buildValues");var qa=new J,Vn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Hn=/\S/,qn=new J;qn.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Hn.test(e)&&!Hn.test(t)};qn.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Vn.test(t[r])&&Vn.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var jt=new J;jt.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function Oo(e,t,r){return jt.diff(e,t,r)}o(Oo,"Oo");i(Oo,"diffLines");var Do=new J;Do.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Bo=new J;Bo.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function tt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=i(function(t){return typeof t},"_typeof"):tt=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),tt(e)}o(tt,"tt");i(tt,"_typeof");function zt(e){return Wo(e)||Uo(e)||zo(e)||Vo()}o(zt,"zt");i(zt,"_toConsumableArray");function Wo(e){if(Array.isArray(e))return Vt(e)}o(Wo,"Wo");i(Wo,"_arrayWithoutHoles");function Uo(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}o(Uo,"Uo");i(Uo,"_iterableToArray");function zo(e,t){if(e){if(typeof e=="string")return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}}o(zo,"zo");i(zo,"_unsupportedIterableToArray");function Vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o(Vt,"Vt");i(Vt,"_arrayLikeToArray");function Vo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(Vo,"Vo");i(Vo,"_nonIterableSpread");var Ho=Object.prototype.toString,Re=new J;Re.useLongestToken=!0;Re.tokenize=jt.tokenize;Re.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(l,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(Ht(e,null,null,s),s,"  ")};Re.equals=function(e,t){return J.prototype.equals.call(Re,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Ht(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var l;for(l=0;l<t.length;l+=1)if(t[l]===e)return r[l];var a;if(Ho.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),l=0;l<e.length;l+=1)a[l]=Ht(e[l],t,r,n,s);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),tt(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var f=[],c;for(c in e)e.hasOwnProperty(c)&&f.push(c);for(f.sort(),l=0;l<f.length;l+=1)c=f[l],a[c]=Ht(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(Ht,"Ht");i(Ht,"canonicalize");var qt=new J;qt.tokenize=function(e){return e.slice()};qt.join=qt.removeEmpty=function(e){return e};function jn(e,t,r,n,s,l,a){a||(a={}),typeof a.context>"u"&&(a.context=4);var f=Oo(r,n,a);if(!f)return;f.push({value:"",lines:[]});function c(I){return I.map(function(P){return" "+P})}o(c,"u"),i(c,"contextLines");for(var u=[],d=0,h=0,m=[],p=1,v=1,x=i(function(I){var P=f[I],L=P.lines||P.value.replace(/\n$/,"").split(`
`);if(P.lines=L,P.added||P.removed){var F;if(!d){var B=f[I-1];d=p,h=v,B&&(m=a.context>0?c(B.lines.slice(-a.context)):[],d-=m.length,h-=m.length)}(F=m).push.apply(F,zt(L.map(function($e){return(P.added?"+":"-")+$e}))),P.added?v+=L.length:p+=L.length}else{if(d)if(L.length<=a.context*2&&I<f.length-2){var V;(V=m).push.apply(V,zt(c(L)))}else{var de,ve=Math.min(L.length,a.context);(de=m).push.apply(de,zt(c(L.slice(0,ve))));var n0={oldStart:d,oldLines:p-d+ve,newStart:h,newLines:v-h+ve,lines:m};if(I>=f.length-2&&L.length<=a.context){var d0=/\n$/.test(r),r0=/\n$/.test(n),m0=L.length==0&&m.length>n0.oldLines;!d0&&m0&&r.length>0&&m.splice(n0.oldLines,0,"\\ No newline at end of file"),(!d0&&!m0||!r0)&&m.push("\\ No newline at end of file")}u.push(n0),d=0,h=0,m=[]}p+=L.length,v+=L.length}},"_loop"),E=0;E<f.length;E++)x(E);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:l,hunks:u}}o(jn,"jn");i(jn,"structuredPatch");function jo(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let n=jn("","",e,t),s=new Set,l=new Set;for(let c of n.hunks){for(let u=c.oldStart;u<c.oldStart+c.oldLines;u++)s.add(u);for(let u=c.newStart;u<c.newStart+c.newLines;u++)l.add(u)}let a=H(q(te(e,r)),()=>!1),f=H(q(te(t,r)),()=>!1);return T(a,c=>{(c.type==="line"||c.type==="blank")&&s.has(c.lineNumber)&&(c.label=!0)},"topDown"),T(f,c=>{(c.type==="line"||c.type==="blank")&&l.has(c.lineNumber)&&(c.label=!0)},"topDown"),[ge(a),ge(f)]}o(jo,"jo");i(jo,"elidableTextForDiff");var nt={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Zo=["php","plaintext"],Zn={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function $o({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o($o,"$o");i($o,"hasLanguageMarker");function Oe(e,t,r){var s;let n=(s=nt[t])!=null?s:r;if(n){let l=n.end==""?"":" "+n.end;return`${n.start} ${e}${l}`}return""}o(Oe,"Oe");i(Oe,"comment");function be(e,t,r){if(!nt[t]&&!r||e==="")return"";let n=e.endsWith(`
`),s=(n?e.slice(0,-1):e).split(`
`).map(l=>Oe(l,t,r)).join(`
`);return n?s+`
`:s}o(be,"be");i(be,"commentBlockAsSingles");function $n(e,t){let{languageId:r}=e;return Zo.indexOf(r)===-1&&!$o(e)?r in Zn?Zn[r]:Oe(`Language: ${r}`,r,t):""}o($n,"$n");i($n,"getLanguageMarker");function Gn(e,t){return e.relativePath?Oe(`Path: ${e.relativePath}`,e.languageId,t):""}o(Gn,"Gn");i(Gn,"getPathMarker");function ye(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(ye,"ye");i(ye,"newLineEnded");var Go={tokenizerName:"cl100k"};function Ko(e){return{...Go,...e}}o(Ko,"Ko");i(Ko,"cursorContextOptions");function rt(e,t={}){let r=Ko(t),n=U(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let s=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(s=s.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(s=n.takeLastLinesTokens(s,r.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:n.tokenLength(s),tokenizerName:r.tokenizerName}}o(rt,"rt");i(rt,"getCursorContext");function Kn(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)r[s][n]=Math.min((s==0?n:r[s-1][n])+1,(n==0?s:r[s][n-1])+1,(s==0||n==0?Math.max(s,n):r[s-1][n-1])+(e[s]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(Kn,"Kn");i(Kn,"findEditDistanceScore");var De=50,Jo=5,s8,ot=(s8=class{constructor(){this.used=new Map,this.unused=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="RetrievalSnippet"||t.kind=="TooltipSignature"}},o(s8,"ot"),i(s8,"PromptBackground"),s8),o8,st=(o8=class{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},o(o8,"st"),i(o8,"PromptChoices"),o8),a8,Be=(a8=class{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","RetrievalSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`;return s===l?r.id-n.id:s-l})}},o(a8,"Be"),i(a8,"PromptOrderList"),a8),l8,it=(l8=class extends Be{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","LanguageMarker"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","PathMarker","LanguageMarker"]}}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`;return s===l?n.id-r.id:s-l})}},o(l8,"it"),i(l8,"PromptPriorityList"),l8);function ut(e){switch(e){case"neighboring-tabs":return"SimilarFile";case"retrieval":return"RetrievalSnippet";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(ut,"ut");i(ut,"kindForSnippetProviderType");var f8,at=(f8=class{constructor(t){this.ranges=new Array;let r=0,n;for(let s of t)s.text.length!==0&&(n==="BeforeCursor"&&s.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=s.text.length:this.ranges.push({kind:s.kind,start:r,end:r+s.text.length}),n=s.kind,r+=s.text.length)}},o(f8,"at"),i(f8,"PromptElementRanges"),f8),c8,lt=(c8=class{constructor(t,r,n,s,l){this.tokenizer=t,this.lineEndingOption=r,this.orderingList=n,this.snippetTextProcessor=s,this.priorityList=l,this.content=[],this.basePromptBackground=new ot,this.baseTallyOfChoices=new st}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),s=NaN){t=this.convertLineEndings(t);let l=this.content.length;return this.content.push({id:l,text:t,kind:r,tokens:n,score:s}),l}fulfillPrefix(t){let r=new ot;r.add(this.basePromptBackground);let n=new st;n.add(this.baseTallyOfChoices);function s(v){r.markUsed(v),n.markUsed(v)}o(s,"o"),i(s,"markUsed");function l(v){r.undoMarkUsed(v),n.undoMarkUsed(v)}o(l,"s"),i(l,"undoMarkUsed");function a(v){r.markUnused(v),n.markUnused(v)}o(a,"a"),i(a,"markUnused"),this.priorityList.sortElements(this.content);let f,c=[],u=t;this.content.forEach(v=>{if(u>0||f===void 0){let x=v.tokens;if(u>=x)u-=x,s(v),c.push(v);else if(v.kind==="BeforeCursor"){let{summarizedElement:E,removedMaterial:I}=this.snippetTextProcessor.summarize(this.tokenizer,v,u);v=E,x=v.tokens,u-=x,v.text.length>0&&s(v),I.text.length>0&&a(I),c.push(v)}else f===void 0?f=v:a(v)}else a(v)}),this.orderingList.sortElements(c);let d=c.reduce((v,x)=>v+x.text,""),h=this.tokenizer.tokenLength(d);for(;h>t;){this.priorityList.sortElements(c);let v=c.pop();v&&(l(v),a(v),f!==void 0&&a(f),f=void 0),this.orderingList.sortElements(c),d=c.reduce((x,E)=>x+E.text,""),h=this.tokenizer.tokenLength(d)}let m=[...c];if(f!==void 0){m.push(f),this.orderingList.sortElements(m);let v=m.reduce((E,I)=>E+I.text,""),x=this.tokenizer.tokenLength(v);if(x<=t){s(f);let E=new at(m);return{prefix:v,suffix:"",prefixLength:x,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:E}}else a(f)}let p=new at(c);return{prefix:d,suffix:"",prefixLength:h,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){var m;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let s=r.maxPromptLength-Jo,l=Math.floor(s*(100-r.suffixPercent)/100),a=s-l,f=t.trimStart();if(s>De&&a<De)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${De}
`);let c=this.tokenizer.takeFirstTokens(f,De),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*((m=Kn(c.tokens,n.tokens.slice(0,De)))==null?void 0:m.score)<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let d;if(u)l=s-n.tokens.length,d=n;else{let p=this.maxPrefixTokenLength(),v=this.tokenizer.tokenLength(f);p<l?(l=p,a=s-l):v<a&&(l=s-v,a=v),d=this.tokenizer.takeFirstTokens(f,a)}let h=this.fulfillPrefix(l);return h.suffix=d.text,h.suffixLength=d.tokens.length,{promptInfo:h,newCachedSuffix:d}}},o(c8,"lt"),i(c8,"PromptWishlist"),c8),j=(e=>(e.NeighboringTabs="neighboring-tabs",e.Retrieval="retrieval",e.Language="language",e.Path="path",e.TooltipSignature="tooltip-signature",e))(j||{}),ie=(e=>(e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface",e))(ie||{}),Qo={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function Xo(e,t,r){let n=Qo[e.semantics],s=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),be(s,t,r)}o(Xo,"Xo");i(Xo,"announceSnippet");function Jn(e){e.sort((t,r)=>r.score-t.score)}o(Jn,"Jn");i(Jn,"sortSnippetsDescending");function Yo(e,t,r){if(t==0)return[];let n=e.map(l=>({...l,kind:ut(l.provider)})),s=[];return r.rankedList.forEach(l=>{let a=n.filter(({kind:f})=>f===l);Jn(a),s.push(...a)}),s.slice(0,t)}o(Yo,"Yo");i(Yo,"selectSnippets");function Qn(e,t,r,n,s,l){let a=Yo(e,l,n).map(f=>{let c=Xo(f,t,s),u=r.tokenLength(c);return{announcedSnippet:c,provider:f.provider,score:f.score,tokens:u,relativePath:f.relativePath}});return Jn(a),a.reverse(),a}o(Qn,"Qn");i(Qn,"processSnippetsForWishlist");var u8,$t=(u8=class{constructor(t){this.keys=[],this.cache={},this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let s=(n=this.keys.shift())!=null?n:"";delete this.cache[s]}}get(t){return this.cache[t]}},o(u8,"$t"),i(u8,"FifoCache"),u8),d8,Gt=(d8=class{constructor(t){var r;this.stopsForLanguage=(r=rs.get(t.languageId))!=null?r:ns}tokenize(t){return new Set(es(t).filter(r=>!this.stopsForLanguage.has(r)))}},o(d8,"Gt"),i(d8,"Tokenizer"),d8),Xn=new $t(20),h8,ct=(h8=class{constructor(t){this.referenceDoc=t,this.tokenizer=new Gt(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,s)=>n.score>s.score?1:-1):r=="descending"?t.sort((n,s)=>n.score>s.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var u;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let s=t.source.split(`
`),l=this.id()+":"+t.source,a=(u=Xn.get(l))!=null?u:[],f=a.length==0,c=f?s.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[h,m]]of this.getWindowsDelineations(s).entries()){if(f){let x=new Set;c.slice(h,m).forEach(E=>E.forEach(x.add,x)),a.push(x)}let p=a[d],v=this.similarityScore(p,this.referenceTokens);n.push({score:v,startLine:h,endLine:m})}return f&&Xn.put(l,a),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"neighboring-tabs",...n[0]}}},o(h8,"ct"),i(h8,"WindowedMatcher"),h8);function es(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(es,"es");i(es,"splitIntoWords");var ts=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ns=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ts]),rs=new Map([]);function Yn(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let s=0;s<n-e+1;s++)r.push([s,s+e]);return r}o(Yn,"Yn");i(Yn,"getBasicWindowDelineations");var z5,dt=(z5=class extends ct{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Yn(this.windowLength,t)}_getCursorContextInfo(t){return rt(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return os(t,r)}},o(z5,"t"),i(z5,"FixedWindowSizeJaccardMatcher"),z5.FACTORY=t=>({to:r=>new z5(r,t)}),z5);function os(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(os,"os");i(os,"computeScore");var We=(e=>(e.None="none",e.Conservative="conservative",e.Medium="medium",e.Eager="eager",e.EagerButLittle="eagerButLittle",e.EagerButMedium="eagerButMedium",e.EagerButMuch="eagerButMuch",e.RetrievalComparable="retrievalComparable",e))(We||{}),ss={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},is=1e4,as=20;function ls(e,t){return dt.FACTORY(t.snippetLength).to(e)}o(ls,"ls");i(ls,"getMatcher");async function er(e,t,r){let n={...ss[r]},s=ls(e,n);return n.numberOfSnippets===0?[]:(await t.filter(l=>l.source.length<is&&l.source.length>0).slice(0,as).reduce(async(l,a)=>(await l).concat((await s.findMatches(a)).map(f=>({relativePath:a.relativePath,...f}))),Promise.resolve([]))).filter(l=>l.score&&l.snippet&&l.score>n.threshold).sort((l,a)=>l.score-a.score).slice(-n.numberOfSnippets)}o(er,"er");i(er,"getNeighborSnippets");function tr(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let v=0;v<n.length-1;v++)n[v]+=`
`;let s=[];n.forEach((v,x)=>{v===`
`&&s.length>0&&!s[s.length-1].endsWith(`

`)?s[s.length-1]+=`
`:s.push(v)});let l=s.map(v=>e.tokenLength(v)),a=1,f=0;for(;a<=l.length;a++){let v=l.at(-a);if(v){if(v+f>r){a--;break}f+=v}}let c=s.slice(-a).join(""),u=e.tokenLength(c),d=s.slice(0,-a).join(""),h=e.tokenLength(d),m={id:t.id,kind:t.kind,text:c,tokens:u,score:t.score},p={id:t.id,kind:t.kind,text:d,tokens:h,score:t.score};return{summarizedElement:m,removedMaterial:p}}o(tr,"tr");i(tr,"truncateFirstLinesFirst");var g8,_t=(g8=class{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",tr]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}},o(g8,"_t"),i(g8,"SnippetTextProcessor"),g8),cs=/(\.|\->|::)\w+$/;function nr(e,t){let r=`Use ${e}`;return be(r,t)}o(nr,"nr");i(nr,"announceTooltipSignatureSnippet");function rr(e){let t=e.source.substring(0,e.offset);return cs.test(t)}o(rr,"rr");i(rr,"endsWithAttributesOrMethod");function or(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),s=e.substring(r);return t.snippet=t.snippet+s,[n,t]}o(or,"or");i(or,"transferLastLineToTooltipSignature");var sr={text:"",tokens:[]},ir=1500,ar=4,lr=150,Zt=(e=>(e.ConvertToUnix="unix",e.KeepOriginal="keep",e))(Zt||{}),ur=(e=>(e.None="none",e.FifteenPercent="fifteenPercent",e))(ur||{}),cr=(e=>(e.Equal="equal",e.Levenshtein="levenshteineditdistance",e))(cr||{}),m8,mt=(m8=class{constructor(t){if(this.maxPromptLength=ir,this.numberOfSnippets=ar,this.neighboringTabs="eager",this.lineEnding="unix",this.suffixPercent=0,this.tokenizerName="cl100k",this.suffixMatchThreshold=0,this.promptOrderListPreset="default",this.promptPriorityPreset="default",this.snippetTextProcessingPreset="default",this.defaultCommentMarker=void 0,Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}},o(m8,"mt"),i(m8,"PromptOptions"),m8),ds={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function ne(e){var t;return e=e.toLowerCase(),(t=ds[e])!=null?t:e}o(ne,"ne");i(ne,"normalizeLanguageId");async function _s(e,t={},r=[]){let n=new mt(t),s=U(n.tokenizerName),l=new _t(n.snippetTextProcessingPreset),a=new Be(n.promptOrderListPreset),f=new it(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=ne(e.languageId);let d=new lt(s,n.lineEnding,a,l,f),h=r.find(L=>L.provider==="path"),m=r.find(L=>L.provider==="language"),p=r.find(L=>L.provider==="tooltip-signature");h!==void 0&&h.snippet.length>0?(d.append(h.snippet,"PathMarker"),m&&d.extMarkUnused({text:m.snippet,kind:"LanguageMarker",tokens:s.tokenLength(m.snippet),id:NaN,score:NaN})):m&&d.append(m.snippet,"LanguageMarker"),r=r.filter(L=>L.provider!=="language"&&L.provider!=="path"&&L.provider!=="tooltip-signature");function v(){Qn(r,e.languageId,s,f,t.defaultCommentMarker,n.numberOfSnippets).forEach(L=>{let F=ut(L.provider);d.append(L.announcedSnippet,F,L.tokens,L.score)})}o(v,"g"),i(v,"addSnippetsNow"),v();let x=c.substring(0,u);p!==void 0&&s.tokenLength(p.snippet)<=lr?([x,p]=or(x,p),d.append(p.snippet,"TooltipSignature")):p!==void 0&&d.extMarkUnused({text:p.snippet,kind:"TooltipSignature",tokens:s.tokenLength(p.snippet),id:NaN,score:NaN}),d.append(x,"BeforeCursor");let E=c.slice(u),{promptInfo:I,newCachedSuffix:P}=d.fulfill(E,n,sr);return sr=P,I}o(_s,"_s");i(_s,"getPrompt");var p8,re=(p8=class extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}},o(p8,"re"),i(p8,"ProviderTimeoutError"),p8),y8,Z=(y8=class{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,s)=>{r.aborted&&s({error:new re("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{s({error:new re(`max runtime exceeded: ${Kt} ms`),providerType:this.type})},{once:!0});let l=performance.now();this.buildSnippets(t).then(a=>{let f=performance.now();n({snippets:a,providerType:this.type,runtime:f-l})}).catch(a=>{s({error:a,providerType:this.type})})})}},o(y8,"Z"),i(y8,"SnippetProvider"),y8),v8,pt=(v8=class extends Z{constructor(){super(...arguments),this.type="language"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye($n(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(v8,"pt"),i(v8,"LanguageSnippetProvider"),v8),x8,ft=(x8=class extends Z{constructor(){super(...arguments),this.type="neighboring-tabs"}async buildSnippets(t){let{currentFile:r,neighborFiles:n,options:s}=t;return s&&n&&n.length&&s.neighboringTabs!=="none"?await this.api.getNeighborSnippets(r,n,s.neighboringTabs):[]}},o(x8,"ft"),i(x8,"NeighborFilesProvider"),x8),_8,gt=(_8=class extends Z{constructor(){super(...arguments),this.type="path"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Gn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(_8,"gt"),i(_8,"PathSnippetProvider"),_8),b8,ht=(b8=class extends Z{constructor(){super(...arguments),this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:n}=t,s=[];return r.languageId=ne(r.languageId),n&&rr(r)&&s.push({provider:this.type,semantics:"snippet",snippet:ye(nr(n,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}},o(b8,"ht"),i(b8,"TooltipSignatureSnippetProvider"),b8),$r=require("path"),G=require("worker_threads");function Xs(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(Xs,"Xs");i(Xs,"sleep");var Zr=["getNeighborSnippets","sleep"],C8,yn=(C8=class{constructor(){var t;this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.getNeighborSnippets=er,this.sleep=Xs,!G.isMainThread&&((t=G.workerData)!=null&&t.port)&&(jr(),process.cwd=()=>G.workerData.cwd,this.configureWorkerResponse(G.workerData.port))}initWorker(){let{port1:t,port2:r}=new G.MessageChannel;this.port=t,this.worker=new G.Worker((0,$r.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Zr)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Zr){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:s})=>{let l=this[n];if(!l)throw new Error(`Function not found: ${n}`);try{let a=await l.apply(this,s);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:s}){let l=this.handlers.get(t);l&&(this.handlers.delete(t),r?(r.code=n,l.reject(r)):l.resolve(s))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let s=new Error().stack;r.stack&&(s!=null&&s.match(/^Error\n/))&&(r.stack+=s.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let s of this.handlers.values())s.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((s,l)=>{var a;this.handlers.set(n,{resolve:s,reject:l}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}},o(C8,"yn"),i(C8,"WorkerProxy"),C8),Mt=new yn,Kt=300,Ys=[pt,gt,ft,ht];function Gr(e){return e.status==="fulfilled"}o(Gr,"Gr");i(Gr,"isFulfilledResult");function ei(e){return e.status==="rejected"}o(ei,"ei");i(ei,"isRejectedResult");function Kr(e){return e.filter(Gr).flatMap(t=>t.value.snippets)}o(Kr,"Kr");i(Kr,"providersSnippets");function Jr(e){return e.filter(ei).flatMap(t=>t.reason)}o(Jr,"Jr");i(Jr,"providersErrors");function Qr(e){let t={},r={};return e.forEach(n=>{Gr(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):n.reason.error instanceof re&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(Qr,"Qr");i(Qr,"providersPerformance");var E8,Tt=(E8=class{constructor(t=Ys){this.startThreading=()=>Mt.startThreading(),this.stopThreading=()=>Mt.stopThreading(),this.providers=t.map(r=>new r(Mt))}async getSnippets(t){let r=AbortSignal.timeout(Kt);return Promise.allSettled(this.providers.map(n=>n.getSnippets(t,r)))}},o(E8,"Tt"),i(E8,"SnippetOrchestrator"),E8),to=require("fs"),no=require("path"),It=Ct(Xr()),ro=(e=>(e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby",e))(ro||{}),Mn={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};function je(e){return e in Mn}o(je,"je");i(je,"isSupportedLanguageId");function D(e){if(!(e in Mn))throw new Error(`Unrecognized language: ${e}`);return Mn[e]}o(D,"D");i(D,"languageIdToWasmLanguage");var wn=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,ti={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[wn]],typescript:[[wn]],tsx:[[wn]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},ni='(call_expression function: ((identifier) @req (#eq? @req "require")))',Yr=`(variable_declarator value: ${ni})`,oo=`
    (lexical_declaration ${Yr}+)
    (variable_declaration ${Yr}+)
`,eo=[[`(program [ ${oo} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],ri={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${oo} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:eo,tsx:eo,go:[],ruby:[]},vn=[["(program (export_statement) @export)"]],oi={python:[],javascript:vn,typescript:vn,tsx:vn,go:[],ruby:[]},si={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},En=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],ii={python:new Set(["function_definition"]),javascript:new Set(En),typescript:new Set(En),tsx:new Set(En),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},ai={python:e=>{var t;return e.type==="module"||e.type==="block"&&((t=e.parent)==null?void 0:t.type)==="class_definition"},javascript:e=>e.type==="program"||e.type==="class_body",typescript:e=>e.type==="program"||e.type==="class_body",tsx:e=>e.type==="program"||e.type==="class_body",go:e=>e.type==="source_file",ruby:e=>e.type==="program"||e.type==="class"},Sn=new Map;async function li(e){await It.default.init();let t;try{t=await to.promises.readFile((0,no.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`))}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let n=new Error(`Could not load tree-sitter-${e}.wasm`);throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}return It.default.Language.load(t)}o(li,"li");i(li,"loadWasmLanguage");async function so(e){let t=D(e);if(!Sn.has(t)){let r=await li(t);Sn.set(t,r)}return Sn.get(t)}o(so,"so");i(so,"getLanguage");async function Te(e,t){let r=await so(e),n=new It.default;n.setLanguage(r);let s=n.parse(t);return n.delete(),s}o(Te,"Te");i(Te,"parseTreeSitter");async function ui(e,t){let r=await Te(e,t),n=!r.rootNode.hasError();return r.delete(),n}o(ui,"ui");i(ui,"parsesWithoutError");function ci(e){switch(D(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}o(ci,"ci");i(ci,"getBlockCloseToken");function Ze(e,t){let r=[];for(let n of e){if(!n[1]){let s=t.tree.getLanguage();n[1]=s.query(n[0])}r.push(...n[1].matches(t))}return r}o(Ze,"Ze");i(Ze,"innerQuery");function io(e,t){let r=ti[D(e)];return Ze(r,t)}o(io,"io");i(io,"queryFunctions");function di(e,t){let r=ri[D(e)];return Ze(r,t)}o(di,"di");i(di,"queryImports");function _i(e,t){let r=oi[D(e)];return Ze(r,t)}o(_i,"_i");i(_i,"queryExports");function mi(e,t){let r=si[D(e)];return Ze(r,t)}o(mi,"mi");i(mi,"queryGlobalVars");var pi=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Tn(e){return Ze([pi],e).length==1}o(Tn,"Tn");i(Tn,"queryPythonIsDocstring");function fi(e,t){let r=ai[D(e)];for(;t.parent;){if(r(t.parent))return t;t=t.parent}return t.parent?t:null}o(fi,"fi");i(fi,"getAncestorWithSiblingFunctions");function xt(e,t){return ii[D(e)].has(t.type)}o(xt,"xt");i(xt,"isFunction");function gi(e,t){switch(D(e)){case"python":case"go":case"ruby":return xt(e,t);case"javascript":case"typescript":case"tsx":if(t.type==="function_declaration"||t.type==="generator_function_declaration"||t.type==="method_definition")return!0;if(t.type==="lexical_declaration"||t.type==="variable_declaration"){if(t.namedChildCount>1)return!1;let r=t.namedChild(0);if(r==null)return!1;let n=r.namedChild(1);return n!==null&&xt(e,n)}if(t.type==="expression_statement"){let r=t.namedChild(0);if((r==null?void 0:r.type)==="assignment_expression"){let n=r.namedChild(1);return n!==null&&xt(e,n)}}return!1}}o(gi,"gi");i(gi,"isFunctionDefinition");function hi(e){var r;let t=e;for(;((r=t.previousSibling)==null?void 0:r.type)==="comment";){let n=t.previousSibling;if(n.endPosition.row<t.startPosition.row-1)break;t=n}return(t==null?void 0:t.type)==="comment"?t:null}o(hi,"hi");i(hi,"getFirstPrecedingComment");async function bi(e,t){let r=await Te(e,t),n=io(e,r.rootNode).map(s=>{let l=s.captures.find(a=>a.name==="function").node;return{startIndex:l.startIndex,endIndex:l.endIndex}});return r.delete(),n}o(bi,"bi");i(bi,"getFunctionPositions");var T8,Lt=(T8=class{constructor(t,r,n){this.languageId=t,this.nodeMatch=r,this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){var l;let s=await Te(this.languageId,t);try{let a=s.rootNode.descendantForIndex(r);for(;a;){let f=this.nodeMatch[a.type];if(f){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if(((l=c==""?a.namedChildren[0]:a.childForFieldName(c))==null?void 0:l.type)==f)break}a=a.parent}return a?n(a):void 0}finally{s.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,s=>{let l=s.children.reverse().find(a=>a.type==this.nodeMatch[s.type]);if(l){if(this.languageId=="python"&&l.parent){let a=l.parent.type==":"?l.parent.parent:l.parent,f=a==null?void 0:a.nextSibling;for(;f&&f.type=="comment";){let c=f.startPosition.row==l.endPosition.row&&f.startPosition.column>=l.endPosition.column,u=f.startPosition.row>a.endPosition.row&&f.startPosition.column>a.startPosition.column;if(c||u)l=f,f=f.nextSibling;else break}}if(!(l.endIndex>=l.tree.rootNode.endIndex-1&&(l.hasError()||l.parent.hasError())))return n(l)}})}async isBlockBodyFinished(t,r,n){let s=(t+r).trimEnd(),l=await this.getNextBlockAtPosition(s,n,a=>a.endIndex);if(l!==void 0&&l<s.length){let a=l-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,s=>s.startIndex)}},o(T8,"Lt"),i(T8,"BaseBlockParser"),T8),S8,Nt=(S8=class extends Lt{constructor(t,r,n,s,l){super(t,s,l),this.blockEmptyMatch=r,this.lineMatch=n}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let n=await this.getNextBlockAtPosition(t,r,s=>{s.startIndex<r&&(r=s.startIndex);let l=t.substring(r,s.endIndex).trim();return l==""||l.replace(/\s/g,"")==this.blockEmptyMatch});return n===void 0||n}async isEmptyBlockStart(t,r){return r=lo(t,r),this.isBlockStart(yi(t,r))&&this.isBlockBodyEmpty(t,r)}},o(S8,"Nt"),i(S8,"RegexBasedBlockParser"),S8);function yi(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(yi,"yi");i(yi,"getLineAtOffset");function lo(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(lo,"lo");i(lo,"rewindToNearestNonWs");function ao(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,s=t.substring(n,r);if(/^\s*$/.test(s))return s}o(ao,"ao");i(ao,"indent");function wi(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=ao(e,r),s=ao(t,r);return n!==void 0&&s!==void 0&&n.startsWith(s)}o(wi,"wi");i(wi,"outdented");var I8,xe=(I8=class extends Lt{constructor(t,r,n,s,l,a,f){super(t,r,n),this.startKeywords=s,this.blockNodeType=l,this.emptyStatementType=a,this.curlyBraceLanguage=f}isBlockEmpty(t,r){var s,l;let n=t.text.trim();return this.curlyBraceLanguage&&(n.startsWith("{")&&(n=n.slice(1)),n.endsWith("}")&&(n=n.slice(0,-1)),n=n.trim()),!!(n.length==0||this.languageId=="python"&&(((s=t.parent)==null?void 0:s.type)=="class_definition"||((l=t.parent)==null?void 0:l.type)=="function_definition")&&t.children.length==1&&Tn(t.parent))}async isEmptyBlockStart(t,r){var s,l,a,f;if(r>t.length)throw new RangeError("Invalid offset");for(let c=r;c<t.length&&t.charAt(c)!=`
`;c++)if(/\S/.test(t.charAt(c)))return!1;r=lo(t,r);let n=await Te(this.languageId,t);try{let c=n.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let p=c;for(;p.parent;){if(p.type=="function_signature"||p.type=="method_signature"){let v=c.nextSibling;return v&&p.hasError()&&wi(p,v,t)?!0:!p.children.find(x=>x.type==";")&&p.endIndex<=r}p=p.parent}}let u=null,d=null,h=null,m=c;for(;m!=null;){if(m.type==this.blockNodeType){d=m;break}if(this.nodeMatch[m.type]){h=m;break}if(m.type=="ERROR"){u=m;break}m=m.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let p=d.previousSibling;if(p!=null&&p.hasError()&&(p.text.startsWith('"""')||p.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,r)}if(u!=null){if(((s=u.previousSibling)==null?void 0:s.type)=="module"||((l=u.previousSibling)==null?void 0:l.type)=="internal_module"||((a=u.previousSibling)==null?void 0:a.type)=="def")return!0;let p=[...u.children].reverse(),v=p.find(E=>this.startKeywords.includes(E.type)),x=p.find(E=>E.type==this.blockNodeType);if(v){switch(this.languageId){case"python":{v.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(f=p.find(P=>P.hasError()))==null?void 0:f.children.find(P=>P.type=="block"));let E,I=0;for(let P of u.children){if(P.type==":"&&I==0){E=P;break}P.type=="("&&(I+=1),P.type==")"&&(I-=1)}if(E&&v.endIndex<=E.startIndex&&E.nextSibling){if(v.type=="def"){let P=E.nextSibling;if(P.type=='"'||P.type=="'"||P.type=="ERROR"&&(P.text=='"""'||P.text=="'''"))return!0}return!1}break}case"javascript":{let E=p.find(P=>P.type=="formal_parameters");if(v.type=="class"&&E)return!0;let I=p.find(P=>P.type=="{");if(I&&I.startIndex>v.endIndex&&I.nextSibling!=null||p.find(P=>P.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}case"typescript":{let E=p.find(I=>I.type=="{");if(E&&E.startIndex>v.endIndex&&E.nextSibling!=null||p.find(I=>I.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>v.endIndex?this.isBlockEmpty(x,r):!0}}if(h!=null){let p=this.nodeMatch[h.type],v=h.children.slice().reverse().find(x=>x.type==p);if(v)return this.isBlockEmpty(v,r);if(this.nodeTypesWithBlockOrStmtChild.has(h.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(h.type),E=x==""?h.children[0]:h.childForFieldName(x);if(E&&E.type!=this.blockNodeType&&E.type!=this.emptyStatementType)return!1}return!0}return!1}finally{n.delete()}}},o(I8,"xe"),i(I8,"TreeSitterBasedBlockParser"),I8),vi={python:new xe("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new xe("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new xe("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new xe("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Nt("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Nt("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};function kt(e){return vi[D(e)]}o(kt,"kt");i(kt,"getBlockParser");async function Ei(e,t,r){return je(e)?kt(e).isEmptyBlockStart(t,r):!1}o(Ei,"Ei");i(Ei,"isEmptyBlockStart");async function Si(e,t,r,n){if(je(e))return kt(e).isBlockBodyFinished(t,r,n)}o(Si,"Si");i(Si,"isBlockBodyFinished");async function Mi(e,t,r){if(je(e))return kt(e).getNodeStart(t,r)}o(Mi,"Mi");i(Mi,"getNodeStart");function Ti(){return new co.Worker((0,uo.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}o(Ti,"Ti");i(Ti,"createWorker")});var Li=y0((Fm,uP)=>{(function(e,t){typeof Fm=="object"?uP.exports=Fm=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(Fm,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),l=Object.create||function(){function I(){}return o(I,"F"),function(P){var L;return I.prototype=P,L=new I,I.prototype=null,L}}(),a={},f=a.lib={},c=f.Base=function(){return{extend:function(I){var P=l(this);return I&&P.mixIn(I),(!P.hasOwnProperty("init")||this.init===P.init)&&(P.init=function(){P.$super.init.apply(this,arguments)}),P.init.prototype=P,P.$super=this,P},create:function(){var I=this.extend();return I.init.apply(I,arguments),I},init:function(){},mixIn:function(I){for(var P in I)I.hasOwnProperty(P)&&(this[P]=I[P]);I.hasOwnProperty("toString")&&(this.toString=I.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=f.WordArray=c.extend({init:function(I,P){I=this.words=I||[],P!=r?this.sigBytes=P:this.sigBytes=I.length*4},toString:function(I){return(I||h).stringify(this)},concat:function(I){var P=this.words,L=I.words,F=this.sigBytes,B=I.sigBytes;if(this.clamp(),F%4)for(var V=0;V<B;V++){var de=L[V>>>2]>>>24-V%4*8&255;P[F+V>>>2]|=de<<24-(F+V)%4*8}else for(var ve=0;ve<B;ve+=4)P[F+ve>>>2]=L[ve>>>2];return this.sigBytes+=B,this},clamp:function(){var I=this.words,P=this.sigBytes;I[P>>>2]&=4294967295<<32-P%4*8,I.length=t.ceil(P/4)},clone:function(){var I=c.clone.call(this);return I.words=this.words.slice(0),I},random:function(I){for(var P=[],L=0;L<I;L+=4)P.push(s());return new u.init(P,I)}}),d=a.enc={},h=d.Hex={stringify:function(I){for(var P=I.words,L=I.sigBytes,F=[],B=0;B<L;B++){var V=P[B>>>2]>>>24-B%4*8&255;F.push((V>>>4).toString(16)),F.push((V&15).toString(16))}return F.join("")},parse:function(I){for(var P=I.length,L=[],F=0;F<P;F+=2)L[F>>>3]|=parseInt(I.substr(F,2),16)<<24-F%8*4;return new u.init(L,P/2)}},m=d.Latin1={stringify:function(I){for(var P=I.words,L=I.sigBytes,F=[],B=0;B<L;B++){var V=P[B>>>2]>>>24-B%4*8&255;F.push(String.fromCharCode(V))}return F.join("")},parse:function(I){for(var P=I.length,L=[],F=0;F<P;F++)L[F>>>2]|=(I.charCodeAt(F)&255)<<24-F%4*8;return new u.init(L,P)}},p=d.Utf8={stringify:function(I){try{return decodeURIComponent(escape(m.stringify(I)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(I){return m.parse(unescape(encodeURIComponent(I)))}},v=f.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(I){typeof I=="string"&&(I=p.parse(I)),this._data.concat(I),this._nDataBytes+=I.sigBytes},_process:function(I){var P,L=this._data,F=L.words,B=L.sigBytes,V=this.blockSize,de=V*4,ve=B/de;I?ve=t.ceil(ve):ve=t.max((ve|0)-this._minBufferSize,0);var n0=ve*V,d0=t.min(n0*4,B);if(n0){for(var r0=0;r0<n0;r0+=V)this._doProcessBlock(F,r0);P=F.splice(0,n0),L.sigBytes-=d0}return new u.init(P,d0)},clone:function(){var I=c.clone.call(this);return I._data=this._data.clone(),I},_minBufferSize:0}),x=f.Hasher=v.extend({cfg:c.extend(),init:function(I){this.cfg=this.cfg.extend(I),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(I){return this._append(I),this._process(),this},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},blockSize:512/32,_createHelper:function(I){return function(P,L){return new I.init(L).finalize(P)}},_createHmacHelper:function(I){return function(P,L){return new E.HMAC.init(I,L).finalize(P)}}}),E=a.algo={};return a}(Math);return e})});var _9=y0((Om,dP)=>{(function(e,t){typeof Om=="object"?dP.exports=Om=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Om,function(e){return function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=r.x64={},f=a.Word=s.extend({init:function(u,d){this.high=u,this.low=d}}),c=a.WordArray=s.extend({init:function(u,d){u=this.words=u||[],d!=t?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],m=0;m<d;m++){var p=u[m];h.push(p.high),h.push(p.low)}return l.create(h,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),d=u.words=this.words.slice(0),h=d.length,m=0;m<h;m++)d[m]=d[m].clone();return u}})}(),e})});var gP=y0((Mm,hP)=>{(function(e,t){typeof Mm=="object"?hP.exports=Mm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Mm,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,l=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var f=a.byteLength,c=[],u=0;u<f;u++)c[u>>>2]|=a[u]<<24-u%4*8;s.call(this,c,f)}else s.apply(this,arguments)};l.prototype=n}}(),e.lib.WordArray})});var pP=y0((Um,mP)=>{(function(e,t){typeof Um=="object"?mP.exports=Um=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Um,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Utf16=s.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var m=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(m))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=f.charCodeAt(d)<<16-d%2*16;return n.create(u,c*2)}};s.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var m=a(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(m))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=a(f.charCodeAt(d)<<16-d%2*16);return n.create(u,c*2)}};function a(f){return f<<8&4278255360|f>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var G5=y0((qm,yP)=>{(function(e,t){typeof qm=="object"?yP.exports=qm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(qm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,d=this._map;f.clamp();for(var h=[],m=0;m<u;m+=3)for(var p=c[m>>>2]>>>24-m%4*8&255,v=c[m+1>>>2]>>>24-(m+1)%4*8&255,x=c[m+2>>>2]>>>24-(m+2)%4*8&255,E=p<<16|v<<8|x,I=0;I<4&&m+I*.75<u;I++)h.push(d.charAt(E>>>6*(3-I)&63));var P=d.charAt(64);if(P)for(;h.length%4;)h.push(P);return h.join("")},parse:function(f){var c=f.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var m=u.charAt(64);if(m){var p=f.indexOf(m);p!==-1&&(c=p)}return a(f,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(f,c,u){for(var d=[],h=0,m=0;m<c;m++)if(m%4){var p=u[f.charCodeAt(m-1)]<<m%4*2,v=u[f.charCodeAt(m)]>>>6-m%4*2,x=p|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64})});var xP=y0(($m,vP)=>{(function(e,t){typeof $m=="object"?vP.exports=$m=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($m,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,d=f.sigBytes,h=c?this._safe_map:this._map;f.clamp();for(var m=[],p=0;p<d;p+=3)for(var v=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,E=u[p+2>>>2]>>>24-(p+2)%4*8&255,I=v<<16|x<<8|E,P=0;P<4&&p+P*.75<d;P++)m.push(h.charAt(I>>>6*(3-P)&63));var L=h.charAt(64);if(L)for(;m.length%4;)m.push(L);return m.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var m=0;m<d.length;m++)h[d.charCodeAt(m)]=m}var p=d.charAt(64);if(p){var v=f.indexOf(p);v!==-1&&(u=v)}return a(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(f,c,u){for(var d=[],h=0,m=0;m<c;m++)if(m%4){var p=u[f.charCodeAt(m-1)]<<m%4*2,v=u[f.charCodeAt(m)]>>>6-m%4*2,x=p|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64url})});var K5=y0((Hm,_P)=>{(function(e,t){typeof Hm=="object"?_P.exports=Hm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Hm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[];(function(){for(var p=0;p<64;p++)f[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,v){for(var x=0;x<16;x++){var E=v+x,I=p[E];p[E]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,L=p[v+0],F=p[v+1],B=p[v+2],V=p[v+3],de=p[v+4],ve=p[v+5],n0=p[v+6],d0=p[v+7],r0=p[v+8],m0=p[v+9],$e=p[v+10],we=p[v+11],o0=p[v+12],u0=p[v+13],l0=p[v+14],N0=p[v+15],t0=P[0],f0=P[1],ce=P[2],Se=P[3];t0=u(t0,f0,ce,Se,L,7,f[0]),Se=u(Se,t0,f0,ce,F,12,f[1]),ce=u(ce,Se,t0,f0,B,17,f[2]),f0=u(f0,ce,Se,t0,V,22,f[3]),t0=u(t0,f0,ce,Se,de,7,f[4]),Se=u(Se,t0,f0,ce,ve,12,f[5]),ce=u(ce,Se,t0,f0,n0,17,f[6]),f0=u(f0,ce,Se,t0,d0,22,f[7]),t0=u(t0,f0,ce,Se,r0,7,f[8]),Se=u(Se,t0,f0,ce,m0,12,f[9]),ce=u(ce,Se,t0,f0,$e,17,f[10]),f0=u(f0,ce,Se,t0,we,22,f[11]),t0=u(t0,f0,ce,Se,o0,7,f[12]),Se=u(Se,t0,f0,ce,u0,12,f[13]),ce=u(ce,Se,t0,f0,l0,17,f[14]),f0=u(f0,ce,Se,t0,N0,22,f[15]),t0=d(t0,f0,ce,Se,F,5,f[16]),Se=d(Se,t0,f0,ce,n0,9,f[17]),ce=d(ce,Se,t0,f0,we,14,f[18]),f0=d(f0,ce,Se,t0,L,20,f[19]),t0=d(t0,f0,ce,Se,ve,5,f[20]),Se=d(Se,t0,f0,ce,$e,9,f[21]),ce=d(ce,Se,t0,f0,N0,14,f[22]),f0=d(f0,ce,Se,t0,de,20,f[23]),t0=d(t0,f0,ce,Se,m0,5,f[24]),Se=d(Se,t0,f0,ce,l0,9,f[25]),ce=d(ce,Se,t0,f0,V,14,f[26]),f0=d(f0,ce,Se,t0,r0,20,f[27]),t0=d(t0,f0,ce,Se,u0,5,f[28]),Se=d(Se,t0,f0,ce,B,9,f[29]),ce=d(ce,Se,t0,f0,d0,14,f[30]),f0=d(f0,ce,Se,t0,o0,20,f[31]),t0=h(t0,f0,ce,Se,ve,4,f[32]),Se=h(Se,t0,f0,ce,r0,11,f[33]),ce=h(ce,Se,t0,f0,we,16,f[34]),f0=h(f0,ce,Se,t0,l0,23,f[35]),t0=h(t0,f0,ce,Se,F,4,f[36]),Se=h(Se,t0,f0,ce,de,11,f[37]),ce=h(ce,Se,t0,f0,d0,16,f[38]),f0=h(f0,ce,Se,t0,$e,23,f[39]),t0=h(t0,f0,ce,Se,u0,4,f[40]),Se=h(Se,t0,f0,ce,L,11,f[41]),ce=h(ce,Se,t0,f0,V,16,f[42]),f0=h(f0,ce,Se,t0,n0,23,f[43]),t0=h(t0,f0,ce,Se,m0,4,f[44]),Se=h(Se,t0,f0,ce,o0,11,f[45]),ce=h(ce,Se,t0,f0,N0,16,f[46]),f0=h(f0,ce,Se,t0,B,23,f[47]),t0=m(t0,f0,ce,Se,L,6,f[48]),Se=m(Se,t0,f0,ce,d0,10,f[49]),ce=m(ce,Se,t0,f0,l0,15,f[50]),f0=m(f0,ce,Se,t0,ve,21,f[51]),t0=m(t0,f0,ce,Se,o0,6,f[52]),Se=m(Se,t0,f0,ce,V,10,f[53]),ce=m(ce,Se,t0,f0,$e,15,f[54]),f0=m(f0,ce,Se,t0,F,21,f[55]),t0=m(t0,f0,ce,Se,r0,6,f[56]),Se=m(Se,t0,f0,ce,N0,10,f[57]),ce=m(ce,Se,t0,f0,n0,15,f[58]),f0=m(f0,ce,Se,t0,u0,21,f[59]),t0=m(t0,f0,ce,Se,de,6,f[60]),Se=m(Se,t0,f0,ce,we,10,f[61]),ce=m(ce,Se,t0,f0,B,15,f[62]),f0=m(f0,ce,Se,t0,m0,21,f[63]),P[0]=P[0]+t0|0,P[1]=P[1]+f0|0,P[2]=P[2]+ce|0,P[3]=P[3]+Se|0},_doFinalize:function(){var p=this._data,v=p.words,x=this._nDataBytes*8,E=p.sigBytes*8;v[E>>>5]|=128<<24-E%32;var I=t.floor(x/4294967296),P=x;v[(E+64>>>9<<4)+15]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,v[(E+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,p.sigBytes=(v.length+1)*4,this._process();for(var L=this._hash,F=L.words,B=0;B<4;B++){var V=F[B];F[B]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}return L},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p}});function u(p,v,x,E,I,P,L){var F=p+(v&x|~v&E)+I+L;return(F<<P|F>>>32-P)+v}o(u,"FF");function d(p,v,x,E,I,P,L){var F=p+(v&E|x&~E)+I+L;return(F<<P|F>>>32-P)+v}o(d,"GG");function h(p,v,x,E,I,P,L){var F=p+(v^x^E)+I+L;return(F<<P|F>>>32-P)+v}o(h,"HH");function m(p,v,x,E,I,P,L){var F=p+(x^(v|~E))+I+L;return(F<<P|F>>>32-P)+v}o(m,"II"),r.MD5=l._createHelper(c),r.HmacMD5=l._createHmacHelper(c)}(Math),e.MD5})});var Bb=y0((jm,bP)=>{(function(e,t){typeof jm=="object"?bP.exports=jm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(jm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,l=t.algo,a=[],f=l.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,u){for(var d=this._hash.words,h=d[0],m=d[1],p=d[2],v=d[3],x=d[4],E=0;E<80;E++){if(E<16)a[E]=c[u+E]|0;else{var I=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=I<<1|I>>>31}var P=(h<<5|h>>>27)+x+a[E];E<20?P+=(m&p|~m&v)+1518500249:E<40?P+=(m^p^v)+1859775393:E<60?P+=(m&p|m&v|p&v)-1894007588:P+=(m^p^v)-899497514,x=v,v=p,p=m<<30|m>>>2,m=h,h=P}d[0]=d[0]+h|0,d[1]=d[1]+m|0,d[2]=d[2]+p|0,d[3]=d[3]+v|0,d[4]=d[4]+x|0},_doFinalize:function(){var c=this._data,u=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return u[h>>>5]|=128<<24-h%32,u[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),u[(h+64>>>9<<4)+15]=d,c.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=s._createHelper(f),t.HmacSHA1=s._createHmacHelper(f)}(),e.SHA1})});var zm=y0((Vm,CP)=>{(function(e,t){typeof Vm=="object"?CP.exports=Vm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Vm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[],c=[];(function(){function h(x){for(var E=t.sqrt(x),I=2;I<=E;I++)if(!(x%I))return!1;return!0}o(h,"isPrime");function m(x){return(x-(x|0))*4294967296|0}o(m,"getFractionalBits");for(var p=2,v=0;v<64;)h(p)&&(v<8&&(f[v]=m(t.pow(p,1/2))),c[v]=m(t.pow(p,1/3)),v++),p++})();var u=[],d=a.SHA256=l.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(h,m){for(var p=this._hash.words,v=p[0],x=p[1],E=p[2],I=p[3],P=p[4],L=p[5],F=p[6],B=p[7],V=0;V<64;V++){if(V<16)u[V]=h[m+V]|0;else{var de=u[V-15],ve=(de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3,n0=u[V-2],d0=(n0<<15|n0>>>17)^(n0<<13|n0>>>19)^n0>>>10;u[V]=ve+u[V-7]+d0+u[V-16]}var r0=P&L^~P&F,m0=v&x^v&E^x&E,$e=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),we=(P<<26|P>>>6)^(P<<21|P>>>11)^(P<<7|P>>>25),o0=B+we+r0+c[V]+u[V],u0=$e+m0;B=F,F=L,L=P,P=I+o0|0,I=E,E=x,x=v,v=o0+u0|0}p[0]=p[0]+v|0,p[1]=p[1]+x|0,p[2]=p[2]+E|0,p[3]=p[3]+I|0,p[4]=p[4]+P|0,p[5]=p[5]+L|0,p[6]=p[6]+F|0,p[7]=p[7]+B|0},_doFinalize:function(){var h=this._data,m=h.words,p=this._nDataBytes*8,v=h.sigBytes*8;return m[v>>>5]|=128<<24-v%32,m[(v+64>>>9<<4)+14]=t.floor(p/4294967296),m[(v+64>>>9<<4)+15]=p,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA256=l._createHelper(d),r.HmacSHA256=l._createHmacHelper(d)}(Math),e.SHA256})});var TP=y0((Gm,EP)=>{(function(e,t,r){typeof Gm=="object"?EP.exports=Gm=t(Li(),zm()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Gm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,l=s.SHA256,a=s.SHA224=l.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=4,f}});t.SHA224=l._createHelper(a),t.HmacSHA224=l._createHmacHelper(a)}(),e.SHA224})});var Lb=y0((Km,SP)=>{(function(e,t,r){typeof Km=="object"?SP.exports=Km=t(Li(),_9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Km,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,l=s.Word,a=s.WordArray,f=t.algo;function c(){return l.create.apply(l,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var m=0;m<80;m++)d[m]=c()})();var h=f.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(m,p){for(var v=this._hash.words,x=v[0],E=v[1],I=v[2],P=v[3],L=v[4],F=v[5],B=v[6],V=v[7],de=x.high,ve=x.low,n0=E.high,d0=E.low,r0=I.high,m0=I.low,$e=P.high,we=P.low,o0=L.high,u0=L.low,l0=F.high,N0=F.low,t0=B.high,f0=B.low,ce=V.high,Se=V.low,C0=de,z0=ve,O0=n0,v0=d0,Jt=r0,ue=m0,B0=$e,Ve=we,L0=o0,D0=u0,G0=l0,hr=N0,Vr=t0,Cr=f0,le=ce,Dr=Se,Qt=0;Qt<80;Qt++){var zs,ms,Gs=d[Qt];if(Qt<16)ms=Gs.high=m[p+Qt*2]|0,zs=Gs.low=m[p+Qt*2+1]|0;else{var Ks=d[Qt-15],wl=Ks.high,Jl=Ks.low,D1=(wl>>>1|Jl<<31)^(wl>>>8|Jl<<24)^wl>>>7,Xl=(Jl>>>1|wl<<31)^(Jl>>>8|wl<<24)^(Jl>>>7|wl<<25),hn=d[Qt-2],Yi=hn.high,Q=hn.low,se=(Yi>>>19|Q<<13)^(Yi<<3|Q>>>29)^Yi>>>6,tn=(Q>>>19|Yi<<13)^(Q<<3|Yi>>>29)^(Q>>>6|Yi<<26),Fs=d[Qt-7],b3=Fs.high,C3=Fs.low,bs=d[Qt-16],e1=bs.high,Uu=bs.low;zs=Xl+C3,ms=D1+b3+(zs>>>0<Xl>>>0?1:0),zs=zs+tn,ms=ms+se+(zs>>>0<tn>>>0?1:0),zs=zs+Uu,ms=ms+e1+(zs>>>0<Uu>>>0?1:0),Gs.high=ms,Gs.low=zs}var Ld=L0&G0^~L0&Vr,qu=D0&hr^~D0&Cr,E3=C0&O0^C0&Jt^O0&Jt,Ci=z0&v0^z0&ue^v0&ue,$u=(C0>>>28|z0<<4)^(C0<<30|z0>>>2)^(C0<<25|z0>>>7),Fd=(z0>>>28|C0<<4)^(z0<<30|C0>>>2)^(z0<<25|C0>>>7),Al=(L0>>>14|D0<<18)^(L0>>>18|D0<<14)^(L0<<23|D0>>>9),wc=(D0>>>14|L0<<18)^(D0>>>18|L0<<14)^(D0<<23|L0>>>9),t1=u[Qt],Ac=t1.high,Cs=t1.low,Gi=Dr+wc,Pl=le+Al+(Gi>>>0<Dr>>>0?1:0),Gi=Gi+qu,Pl=Pl+Ld+(Gi>>>0<qu>>>0?1:0),Gi=Gi+Cs,Pl=Pl+Ac+(Gi>>>0<Cs>>>0?1:0),Gi=Gi+zs,Pl=Pl+ms+(Gi>>>0<zs>>>0?1:0),Od=Fd+Ci,Pc=$u+E3+(Od>>>0<Fd>>>0?1:0);le=Vr,Dr=Cr,Vr=G0,Cr=hr,G0=L0,hr=D0,D0=Ve+Gi|0,L0=B0+Pl+(D0>>>0<Ve>>>0?1:0)|0,B0=Jt,Ve=ue,Jt=O0,ue=v0,O0=C0,v0=z0,z0=Gi+Od|0,C0=Pl+Pc+(z0>>>0<Gi>>>0?1:0)|0}ve=x.low=ve+z0,x.high=de+C0+(ve>>>0<z0>>>0?1:0),d0=E.low=d0+v0,E.high=n0+O0+(d0>>>0<v0>>>0?1:0),m0=I.low=m0+ue,I.high=r0+Jt+(m0>>>0<ue>>>0?1:0),we=P.low=we+Ve,P.high=$e+B0+(we>>>0<Ve>>>0?1:0),u0=L.low=u0+D0,L.high=o0+L0+(u0>>>0<D0>>>0?1:0),N0=F.low=N0+hr,F.high=l0+G0+(N0>>>0<hr>>>0?1:0),f0=B.low=f0+Cr,B.high=t0+Vr+(f0>>>0<Cr>>>0?1:0),Se=V.low=Se+Dr,V.high=ce+le+(Se>>>0<Dr>>>0?1:0)},_doFinalize:function(){var m=this._data,p=m.words,v=this._nDataBytes*8,x=m.sigBytes*8;p[x>>>5]|=128<<24-x%32,p[(x+128>>>10<<5)+30]=Math.floor(v/4294967296),p[(x+128>>>10<<5)+31]=v,m.sigBytes=p.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var m=n.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});t.SHA512=n._createHelper(h),t.HmacSHA512=n._createHmacHelper(h)}(),e.SHA512})});var wP=y0((Wm,IP)=>{(function(e,t,r){typeof Wm=="object"?IP.exports=Wm=t(Li(),_9(),Lb()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Wm,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,l=t.algo,a=l.SHA512,f=l.SHA384=a.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=a._createHelper(f),t.HmacSHA384=a._createHmacHelper(f)}(),e.SHA384})});var PP=y0((Ym,AP)=>{(function(e,t,r){typeof Ym=="object"?AP.exports=Ym=t(Li(),_9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Ym,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.x64,f=a.Word,c=r.algo,u=[],d=[],h=[];(function(){for(var v=1,x=0,E=0;E<24;E++){u[v+5*x]=(E+1)*(E+2)/2%64;var I=x%5,P=(2*v+3*x)%5;v=I,x=P}for(var v=0;v<5;v++)for(var x=0;x<5;x++)d[v+5*x]=x+(2*v+3*x)%5*5;for(var L=1,F=0;F<24;F++){for(var B=0,V=0,de=0;de<7;de++){if(L&1){var ve=(1<<de)-1;ve<32?V^=1<<ve:B^=1<<ve-32}L&128?L=L<<1^113:L<<=1}h[F]=f.create(B,V)}})();var m=[];(function(){for(var v=0;v<25;v++)m[v]=f.create()})();var p=c.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],x=0;x<25;x++)v[x]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,x){for(var E=this._state,I=this.blockSize/2,P=0;P<I;P++){var L=v[x+2*P],F=v[x+2*P+1];L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360;var B=E[P];B.high^=F,B.low^=L}for(var V=0;V<24;V++){for(var de=0;de<5;de++){for(var ve=0,n0=0,d0=0;d0<5;d0++){var B=E[de+5*d0];ve^=B.high,n0^=B.low}var r0=m[de];r0.high=ve,r0.low=n0}for(var de=0;de<5;de++)for(var m0=m[(de+4)%5],$e=m[(de+1)%5],we=$e.high,o0=$e.low,ve=m0.high^(we<<1|o0>>>31),n0=m0.low^(o0<<1|we>>>31),d0=0;d0<5;d0++){var B=E[de+5*d0];B.high^=ve,B.low^=n0}for(var u0=1;u0<25;u0++){var ve,n0,B=E[u0],l0=B.high,N0=B.low,t0=u[u0];t0<32?(ve=l0<<t0|N0>>>32-t0,n0=N0<<t0|l0>>>32-t0):(ve=N0<<t0-32|l0>>>64-t0,n0=l0<<t0-32|N0>>>64-t0);var f0=m[d[u0]];f0.high=ve,f0.low=n0}var ce=m[0],Se=E[0];ce.high=Se.high,ce.low=Se.low;for(var de=0;de<5;de++)for(var d0=0;d0<5;d0++){var u0=de+5*d0,B=E[u0],C0=m[u0],z0=m[(de+1)%5+5*d0],O0=m[(de+2)%5+5*d0];B.high=C0.high^~z0.high&O0.high,B.low=C0.low^~z0.low&O0.low}var B=E[0],v0=h[V];B.high^=v0.high,B.low^=v0.low}},_doFinalize:function(){var v=this._data,x=v.words,E=this._nDataBytes*8,I=v.sigBytes*8,P=this.blockSize*32;x[I>>>5]|=1<<24-I%32,x[(t.ceil((I+1)/P)*P>>>5)-1]|=128,v.sigBytes=x.length*4,this._process();for(var L=this._state,F=this.cfg.outputLength/8,B=F/8,V=[],de=0;de<B;de++){var ve=L[de],n0=ve.high,d0=ve.low;n0=(n0<<8|n0>>>24)&16711935|(n0<<24|n0>>>8)&4278255360,d0=(d0<<8|d0>>>24)&16711935|(d0<<24|d0>>>8)&4278255360,V.push(d0),V.push(n0)}return new s.init(V,F)},clone:function(){for(var v=l.clone.call(this),x=v._state=this._state.slice(0),E=0;E<25;E++)x[E]=x[E].clone();return v}});r.SHA3=l._createHelper(p),r.HmacSHA3=l._createHmacHelper(p)}(Math),e.SHA3})});var NP=y0((Jm,RP)=>{(function(e,t){typeof Jm=="object"?RP.exports=Jm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Jm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),m=s.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(F,B){for(var V=0;V<16;V++){var de=B+V,ve=F[de];F[de]=(ve<<8|ve>>>24)&16711935|(ve<<24|ve>>>8)&4278255360}var n0=this._hash.words,d0=h.words,r0=m.words,m0=f.words,$e=c.words,we=u.words,o0=d.words,u0,l0,N0,t0,f0,ce,Se,C0,z0,O0;ce=u0=n0[0],Se=l0=n0[1],C0=N0=n0[2],z0=t0=n0[3],O0=f0=n0[4];for(var v0,V=0;V<80;V+=1)v0=u0+F[B+m0[V]]|0,V<16?v0+=v(l0,N0,t0)+d0[0]:V<32?v0+=x(l0,N0,t0)+d0[1]:V<48?v0+=E(l0,N0,t0)+d0[2]:V<64?v0+=I(l0,N0,t0)+d0[3]:v0+=P(l0,N0,t0)+d0[4],v0=v0|0,v0=L(v0,we[V]),v0=v0+f0|0,u0=f0,f0=t0,t0=L(N0,10),N0=l0,l0=v0,v0=ce+F[B+$e[V]]|0,V<16?v0+=P(Se,C0,z0)+r0[0]:V<32?v0+=I(Se,C0,z0)+r0[1]:V<48?v0+=E(Se,C0,z0)+r0[2]:V<64?v0+=x(Se,C0,z0)+r0[3]:v0+=v(Se,C0,z0)+r0[4],v0=v0|0,v0=L(v0,o0[V]),v0=v0+O0|0,ce=O0,O0=z0,z0=L(C0,10),C0=Se,Se=v0;v0=n0[1]+N0+z0|0,n0[1]=n0[2]+t0+O0|0,n0[2]=n0[3]+f0+ce|0,n0[3]=n0[4]+u0+Se|0,n0[4]=n0[0]+l0+C0|0,n0[0]=v0},_doFinalize:function(){var F=this._data,B=F.words,V=this._nDataBytes*8,de=F.sigBytes*8;B[de>>>5]|=128<<24-de%32,B[(de+64>>>9<<4)+14]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,F.sigBytes=(B.length+1)*4,this._process();for(var ve=this._hash,n0=ve.words,d0=0;d0<5;d0++){var r0=n0[d0];n0[d0]=(r0<<8|r0>>>24)&16711935|(r0<<24|r0>>>8)&4278255360}return ve},clone:function(){var F=l.clone.call(this);return F._hash=this._hash.clone(),F}});function v(F,B,V){return F^B^V}o(v,"f1");function x(F,B,V){return F&B|~F&V}o(x,"f2");function E(F,B,V){return(F|~B)^V}o(E,"f3");function I(F,B,V){return F&V|B&~V}o(I,"f4");function P(F,B,V){return F^(B|~V)}o(P,"f5");function L(F,B){return F<<B|F>>>32-B}o(L,"rotl"),r.RIPEMD160=l._createHelper(p),r.HmacRIPEMD160=l._createHmacHelper(p)}(Math),e.RIPEMD160})});var Zm=y0((Xm,kP)=>{(function(e,t){typeof Xm=="object"?kP.exports=Xm=t(Li()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Xm,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,l=s.Utf8,a=t.algo,f=a.HMAC=n.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=l.parse(u));var d=c.blockSize,h=d*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),p=this._iKey=u.clone(),v=m.words,x=p.words,E=0;E<d;E++)v[E]^=1549556828,x[E]^=909522486;m.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,d=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(d));return h}})})()})});var BP=y0((Qm,DP)=>{(function(e,t,r){typeof Qm=="object"?DP.exports=Qm=t(Li(),zm(),Zm()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Qm,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.SHA256,f=l.HMAC,c=l.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var h=this.cfg,m=f.create(h.hasher,u),p=s.create(),v=s.create([1]),x=p.words,E=v.words,I=h.keySize,P=h.iterations;x.length<I;){var L=m.update(d).finalize(v);m.reset();for(var F=L.words,B=F.length,V=L,de=1;de<P;de++){V=m.finalize(V),m.reset();for(var ve=V.words,n0=0;n0<B;n0++)F[n0]^=ve[n0]}p.concat(L),E[0]++}return p.sigBytes=I*4,p}});t.PBKDF2=function(u,d,h){return c.create(h).compute(u,d)}}(),e.PBKDF2})});var mu=y0((ep,LP)=>{(function(e,t,r){typeof ep=="object"?LP.exports=ep=t(Li(),Bb(),Zm()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(ep,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.MD5,f=l.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d,h=this.cfg,m=h.hasher.create(),p=s.create(),v=p.words,x=h.keySize,E=h.iterations;v.length<x;){d&&m.update(d),d=m.update(c).finalize(u),m.reset();for(var I=1;I<E;I++)d=m.finalize(d),m.reset();p.concat(d)}return p.sigBytes=x*4,p}});t.EvpKDF=function(c,u,d){return f.create(d).compute(c,u)}}(),e.EvpKDF})});var ga=y0((tp,FP)=>{(function(e,t,r){typeof tp=="object"?FP.exports=tp=t(Li(),mu()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(tp,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=n.BufferedBlockAlgorithm,f=r.enc,c=f.Utf8,u=f.Base64,d=r.algo,h=d.EvpKDF,m=n.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(r0,m0){return this.create(this._ENC_XFORM_MODE,r0,m0)},createDecryptor:function(r0,m0){return this.create(this._DEC_XFORM_MODE,r0,m0)},init:function(r0,m0,$e){this.cfg=this.cfg.extend($e),this._xformMode=r0,this._key=m0,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(r0){return this._append(r0),this._process()},finalize:function(r0){r0&&this._append(r0);var m0=this._doFinalize();return m0},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function r0(m0){return typeof m0=="string"?d0:de}return o(r0,"selectCipherStrategy"),function(m0){return{encrypt:function($e,we,o0){return r0(we).encrypt(m0,$e,we,o0)},decrypt:function($e,we,o0){return r0(we).decrypt(m0,$e,we,o0)}}}}()}),p=n.StreamCipher=m.extend({_doFinalize:function(){var r0=this._process(!0);return r0},blockSize:1}),v=r.mode={},x=n.BlockCipherMode=s.extend({createEncryptor:function(r0,m0){return this.Encryptor.create(r0,m0)},createDecryptor:function(r0,m0){return this.Decryptor.create(r0,m0)},init:function(r0,m0){this._cipher=r0,this._iv=m0}}),E=v.CBC=function(){var r0=x.extend();r0.Encryptor=r0.extend({processBlock:function($e,we){var o0=this._cipher,u0=o0.blockSize;m0.call(this,$e,we,u0),o0.encryptBlock($e,we),this._prevBlock=$e.slice(we,we+u0)}}),r0.Decryptor=r0.extend({processBlock:function($e,we){var o0=this._cipher,u0=o0.blockSize,l0=$e.slice(we,we+u0);o0.decryptBlock($e,we),m0.call(this,$e,we,u0),this._prevBlock=l0}});function m0($e,we,o0){var u0,l0=this._iv;l0?(u0=l0,this._iv=t):u0=this._prevBlock;for(var N0=0;N0<o0;N0++)$e[we+N0]^=u0[N0]}return o(m0,"xorBlock"),r0}(),I=r.pad={},P=I.Pkcs7={pad:function(r0,m0){for(var $e=m0*4,we=$e-r0.sigBytes%$e,o0=we<<24|we<<16|we<<8|we,u0=[],l0=0;l0<we;l0+=4)u0.push(o0);var N0=l.create(u0,we);r0.concat(N0)},unpad:function(r0){var m0=r0.words[r0.sigBytes-1>>>2]&255;r0.sigBytes-=m0}},L=n.BlockCipher=m.extend({cfg:m.cfg.extend({mode:E,padding:P}),reset:function(){var r0;m.reset.call(this);var m0=this.cfg,$e=m0.iv,we=m0.mode;this._xformMode==this._ENC_XFORM_MODE?r0=we.createEncryptor:(r0=we.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==r0?this._mode.init(this,$e&&$e.words):(this._mode=r0.call(we,this,$e&&$e.words),this._mode.__creator=r0)},_doProcessBlock:function(r0,m0){this._mode.processBlock(r0,m0)},_doFinalize:function(){var r0,m0=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(m0.pad(this._data,this.blockSize),r0=this._process(!0)):(r0=this._process(!0),m0.unpad(r0)),r0},blockSize:128/32}),F=n.CipherParams=s.extend({init:function(r0){this.mixIn(r0)},toString:function(r0){return(r0||this.formatter).stringify(this)}}),B=r.format={},V=B.OpenSSL={stringify:function(r0){var m0,$e=r0.ciphertext,we=r0.salt;return we?m0=l.create([1398893684,1701076831]).concat(we).concat($e):m0=$e,m0.toString(u)},parse:function(r0){var m0,$e=u.parse(r0),we=$e.words;return we[0]==1398893684&&we[1]==1701076831&&(m0=l.create(we.slice(2,4)),we.splice(0,4),$e.sigBytes-=16),F.create({ciphertext:$e,salt:m0})}},de=n.SerializableCipher=s.extend({cfg:s.extend({format:V}),encrypt:function(r0,m0,$e,we){we=this.cfg.extend(we);var o0=r0.createEncryptor($e,we),u0=o0.finalize(m0),l0=o0.cfg;return F.create({ciphertext:u0,key:$e,iv:l0.iv,algorithm:r0,mode:l0.mode,padding:l0.padding,blockSize:r0.blockSize,formatter:we.format})},decrypt:function(r0,m0,$e,we){we=this.cfg.extend(we),m0=this._parse(m0,we.format);var o0=r0.createDecryptor($e,we).finalize(m0.ciphertext);return o0},_parse:function(r0,m0){return typeof r0=="string"?m0.parse(r0,this):r0}}),ve=r.kdf={},n0=ve.OpenSSL={execute:function(r0,m0,$e,we,o0){if(we||(we=l.random(64/8)),o0)var u0=h.create({keySize:m0+$e,hasher:o0}).compute(r0,we);else var u0=h.create({keySize:m0+$e}).compute(r0,we);var l0=l.create(u0.words.slice(m0),$e*4);return u0.sigBytes=m0*4,F.create({key:u0,iv:l0,salt:we})}},d0=n.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:n0}),encrypt:function(r0,m0,$e,we){we=this.cfg.extend(we);var o0=we.kdf.execute($e,r0.keySize,r0.ivSize,we.salt,we.hasher);we.iv=o0.iv;var u0=de.encrypt.call(this,r0,m0,o0.key,we);return u0.mixIn(o0),u0},decrypt:function(r0,m0,$e,we){we=this.cfg.extend(we),m0=this._parse(m0,we.format);var o0=we.kdf.execute($e,r0.keySize,r0.ivSize,m0.salt,we.hasher);we.iv=o0.iv;var u0=de.decrypt.call(this,r0,m0,o0.key,we);return u0}})}()})});var MP=y0((rp,OP)=>{(function(e,t,r){typeof rp=="object"?OP.exports=rp=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(rp,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize;r.call(this,n,s,a,l),this._prevBlock=n.slice(s,s+a)}}),t.Decryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=n.slice(s,s+a);r.call(this,n,s,a,l),this._prevBlock=f}});function r(n,s,l,a){var f,c=this._iv;c?(f=c.slice(0),this._iv=void 0):f=this._prevBlock,a.encryptBlock(f,0);for(var u=0;u<l;u++)n[s+u]^=f[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var qP=y0((np,UP)=>{(function(e,t,r){typeof np=="object"?UP.exports=np=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(np,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._counter;f&&(c=this._counter=f.slice(0),this._iv=void 0);var u=c.slice(0);l.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var d=0;d<a;d++)n[s+d]^=u[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var HP=y0((ip,$P)=>{(function(e,t,r){typeof ip=="object"?$P.exports=ip=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ip,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(l){if((l>>24&255)===255){var a=l>>16&255,f=l>>8&255,c=l&255;a===255?(a=0,f===255?(f=0,c===255?c=0:++c):++f):++a,l=0,l+=a<<16,l+=f<<8,l+=c}else l+=1<<24;return l}o(r,"incWord");function n(l){return(l[0]=r(l[0]))===0&&(l[1]=r(l[1])),l}o(n,"incCounter");var s=t.Encryptor=t.extend({processBlock:function(l,a){var f=this._cipher,c=f.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0),n(d);var h=d.slice(0);f.encryptBlock(h,0);for(var m=0;m<c;m++)l[a+m]^=h[m]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var VP=y0((sp,jP)=>{(function(e,t,r){typeof sp=="object"?jP.exports=sp=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(sp,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._keystream;f&&(c=this._keystream=f.slice(0),this._iv=void 0),l.encryptBlock(c,0);for(var u=0;u<a;u++)n[s+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.OFB})});var GP=y0((op,zP)=>{(function(e,t,r){typeof op=="object"?zP.exports=op=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(op,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var WP=y0((ap,KP)=>{(function(e,t,r){typeof ap=="object"?KP.exports=ap=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ap,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,l=s-n%s,a=n+l-1;t.clamp(),t.words[a>>>2]|=l<<24-a%4*8,t.sigBytes+=l},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var JP=y0((lp,YP)=>{(function(e,t,r){typeof lp=="object"?YP.exports=lp=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(lp,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var ZP=y0((fp,XP)=>{(function(e,t,r){typeof fp=="object"?XP.exports=fp=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(fp,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var eR=y0((cp,QP)=>{(function(e,t,r){typeof cp=="object"?QP.exports=cp=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(cp,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var rR=y0((up,tR)=>{(function(e,t,r){typeof up=="object"?tR.exports=up=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(up,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var iR=y0((dp,nR)=>{(function(e,t,r){typeof dp=="object"?nR.exports=dp=t(Li(),ga()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(dp,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,l=r.enc,a=l.Hex,f=r.format,c=f.Hex={stringify:function(u){return u.ciphertext.toString(a)},parse:function(u){var d=a.parse(u);return s.create({ciphertext:d})}}}(),e.format.Hex})});var oR=y0((hp,sR)=>{(function(e,t,r){typeof hp=="object"?sR.exports=hp=t(Li(),G5(),K5(),mu(),ga()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(hp,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,l=[],a=[],f=[],c=[],u=[],d=[],h=[],m=[],p=[],v=[];(function(){for(var I=[],P=0;P<256;P++)P<128?I[P]=P<<1:I[P]=P<<1^283;for(var L=0,F=0,P=0;P<256;P++){var B=F^F<<1^F<<2^F<<3^F<<4;B=B>>>8^B&255^99,l[L]=B,a[B]=L;var V=I[L],de=I[V],ve=I[de],n0=I[B]*257^B*16843008;f[L]=n0<<24|n0>>>8,c[L]=n0<<16|n0>>>16,u[L]=n0<<8|n0>>>24,d[L]=n0;var n0=ve*16843009^de*65537^V*257^L*16843008;h[B]=n0<<24|n0>>>8,m[B]=n0<<16|n0>>>16,p[B]=n0<<8|n0>>>24,v[B]=n0,L?(L=V^I[I[I[ve^V]]],F^=I[I[F]]):L=F=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],E=s.AES=n.extend({_doReset:function(){var I;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var P=this._keyPriorReset=this._key,L=P.words,F=P.sigBytes/4,B=this._nRounds=F+6,V=(B+1)*4,de=this._keySchedule=[],ve=0;ve<V;ve++)ve<F?de[ve]=L[ve]:(I=de[ve-1],ve%F?F>6&&ve%F==4&&(I=l[I>>>24]<<24|l[I>>>16&255]<<16|l[I>>>8&255]<<8|l[I&255]):(I=I<<8|I>>>24,I=l[I>>>24]<<24|l[I>>>16&255]<<16|l[I>>>8&255]<<8|l[I&255],I^=x[ve/F|0]<<24),de[ve]=de[ve-F]^I);for(var n0=this._invKeySchedule=[],d0=0;d0<V;d0++){var ve=V-d0;if(d0%4)var I=de[ve];else var I=de[ve-4];d0<4||ve<=4?n0[d0]=I:n0[d0]=h[l[I>>>24]]^m[l[I>>>16&255]]^p[l[I>>>8&255]]^v[l[I&255]]}}},encryptBlock:function(I,P){this._doCryptBlock(I,P,this._keySchedule,f,c,u,d,l)},decryptBlock:function(I,P){var L=I[P+1];I[P+1]=I[P+3],I[P+3]=L,this._doCryptBlock(I,P,this._invKeySchedule,h,m,p,v,a);var L=I[P+1];I[P+1]=I[P+3],I[P+3]=L},_doCryptBlock:function(I,P,L,F,B,V,de,ve){for(var n0=this._nRounds,d0=I[P]^L[0],r0=I[P+1]^L[1],m0=I[P+2]^L[2],$e=I[P+3]^L[3],we=4,o0=1;o0<n0;o0++){var u0=F[d0>>>24]^B[r0>>>16&255]^V[m0>>>8&255]^de[$e&255]^L[we++],l0=F[r0>>>24]^B[m0>>>16&255]^V[$e>>>8&255]^de[d0&255]^L[we++],N0=F[m0>>>24]^B[$e>>>16&255]^V[d0>>>8&255]^de[r0&255]^L[we++],t0=F[$e>>>24]^B[d0>>>16&255]^V[r0>>>8&255]^de[m0&255]^L[we++];d0=u0,r0=l0,m0=N0,$e=t0}var u0=(ve[d0>>>24]<<24|ve[r0>>>16&255]<<16|ve[m0>>>8&255]<<8|ve[$e&255])^L[we++],l0=(ve[r0>>>24]<<24|ve[m0>>>16&255]<<16|ve[$e>>>8&255]<<8|ve[d0&255])^L[we++],N0=(ve[m0>>>24]<<24|ve[$e>>>16&255]<<16|ve[d0>>>8&255]<<8|ve[r0&255])^L[we++],t0=(ve[$e>>>24]<<24|ve[d0>>>16&255]<<16|ve[r0>>>8&255]<<8|ve[m0&255])^L[we++];I[P]=u0,I[P+1]=l0,I[P+2]=N0,I[P+3]=t0},keySize:256/32});t.AES=n._createHelper(E)}(),e.AES})});var lR=y0((gp,aR)=>{(function(e,t,r){typeof gp=="object"?aR.exports=gp=t(Li(),G5(),K5(),mu(),ga()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(gp,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,l=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=l.DES=s.extend({_doReset:function(){for(var x=this._key,E=x.words,I=[],P=0;P<56;P++){var L=a[P]-1;I[P]=E[L>>>5]>>>31-L%32&1}for(var F=this._subKeys=[],B=0;B<16;B++){for(var V=F[B]=[],de=c[B],P=0;P<24;P++)V[P/6|0]|=I[(f[P]-1+de)%28]<<31-P%6,V[4+(P/6|0)]|=I[28+(f[P+24]-1+de)%28]<<31-P%6;V[0]=V[0]<<1|V[0]>>>31;for(var P=1;P<7;P++)V[P]=V[P]>>>(P-1)*4+3;V[7]=V[7]<<5|V[7]>>>27}for(var ve=this._invSubKeys=[],P=0;P<16;P++)ve[P]=F[15-P]},encryptBlock:function(x,E){this._doCryptBlock(x,E,this._subKeys)},decryptBlock:function(x,E){this._doCryptBlock(x,E,this._invSubKeys)},_doCryptBlock:function(x,E,I){this._lBlock=x[E],this._rBlock=x[E+1],m.call(this,4,252645135),m.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),m.call(this,1,1431655765);for(var P=0;P<16;P++){for(var L=I[P],F=this._lBlock,B=this._rBlock,V=0,de=0;de<8;de++)V|=u[de][((B^L[de])&d[de])>>>0];this._lBlock=B,this._rBlock=F^V}var ve=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ve,m.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),x[E]=this._lBlock,x[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(x,E){var I=(this._lBlock>>>x^this._rBlock)&E;this._rBlock^=I,this._lBlock^=I<<x}o(m,"exchangeLR");function p(x,E){var I=(this._rBlock>>>x^this._lBlock)&E;this._lBlock^=I,this._rBlock^=I<<x}o(p,"exchangeRL"),t.DES=s._createHelper(h);var v=l.TripleDES=s.extend({_doReset:function(){var x=this._key,E=x.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var I=E.slice(0,2),P=E.length<4?E.slice(0,2):E.slice(2,4),L=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=h.createEncryptor(n.create(I)),this._des2=h.createEncryptor(n.create(P)),this._des3=h.createEncryptor(n.create(L))},encryptBlock:function(x,E){this._des1.encryptBlock(x,E),this._des2.decryptBlock(x,E),this._des3.encryptBlock(x,E)},decryptBlock:function(x,E){this._des3.decryptBlock(x,E),this._des2.encryptBlock(x,E),this._des1.decryptBlock(x,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(v)}(),e.TripleDES})});var cR=y0((mp,fR)=>{(function(e,t,r){typeof mp=="object"?fR.exports=mp=t(Li(),G5(),K5(),mu(),ga()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(mp,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=s.RC4=n.extend({_doReset:function(){for(var c=this._key,u=c.words,d=c.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,p=0;m<256;m++){var v=m%d,x=u[v>>>2]>>>24-v%4*8&255;p=(p+h[m]+x)%256;var E=h[m];h[m]=h[p],h[p]=E}this._i=this._j=0},_doProcessBlock:function(c,u){c[u]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,d=this._j,h=0,m=0;m<4;m++){u=(u+1)%256,d=(d+c[u])%256;var p=c[u];c[u]=c[d],c[d]=p,h|=c[(c[u]+c[d])%256]<<24-m*8}return this._i=u,this._j=d,h}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(l);var f=s.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)}});t.RC4Drop=n._createHelper(f)}(),e.RC4})});var dR=y0((pp,uR)=>{(function(e,t,r){typeof pp=="object"?uR.exports=pp=t(Li(),G5(),K5(),mu(),ga()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(pp,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,m=0;m<4;m++)d[m]=(d[m]<<8|d[m]>>>24)&16711935|(d[m]<<24|d[m]>>>8)&4278255360;var p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var m=0;m<4;m++)u.call(this);for(var m=0;m<8;m++)v[m]^=p[m+4&7];if(h){var x=h.words,E=x[0],I=x[1],P=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,L=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,F=P>>>16|L&4294901760,B=L<<16|P&65535;v[0]^=P,v[1]^=F,v[2]^=L,v[3]^=B,v[4]^=P,v[5]^=F,v[6]^=L,v[7]^=B;for(var m=0;m<4;m++)u.call(this)}},_doProcessBlock:function(d,h){var m=this._X;u.call(this),l[0]=m[0]^m[5]>>>16^m[3]<<16,l[1]=m[2]^m[7]>>>16^m[5]<<16,l[2]=m[4]^m[1]>>>16^m[7]<<16,l[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360,d[h+p]^=l[p]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,m=0;m<8;m++)a[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var m=0;m<8;m++){var p=d[m]+h[m],v=p&65535,x=p>>>16,E=((v*v>>>17)+v*x>>>15)+x*x,I=((p&4294901760)*p|0)+((p&65535)*p|0);f[m]=E^I}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var gR=y0((yp,hR)=>{(function(e,t,r){typeof yp=="object"?hR.exports=yp=t(Li(),G5(),K5(),mu(),ga()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(yp,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],p=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)u.call(this);for(var v=0;v<8;v++)p[v]^=m[v+4&7];if(h){var x=h.words,E=x[0],I=x[1],P=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,L=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,F=P>>>16|L&4294901760,B=L<<16|P&65535;p[0]^=P,p[1]^=F,p[2]^=L,p[3]^=B,p[4]^=P,p[5]^=F,p[6]^=L,p[7]^=B;for(var v=0;v<4;v++)u.call(this)}},_doProcessBlock:function(d,h){var m=this._X;u.call(this),l[0]=m[0]^m[5]>>>16^m[3]<<16,l[1]=m[2]^m[7]>>>16^m[5]<<16,l[2]=m[4]^m[1]>>>16^m[7]<<16,l[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360,d[h+p]^=l[p]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,m=0;m<8;m++)a[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var m=0;m<8;m++){var p=d[m]+h[m],v=p&65535,x=p>>>16,E=((v*v>>>17)+v*x>>>15)+x*x,I=((p&4294901760)*p|0)+((p&65535)*p|0);f[m]=E^I}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var pR=y0((vp,mR)=>{(function(e,t,r){typeof vp=="object"?mR.exports=vp=t(Li(),G5(),K5(),mu(),ga()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(vp,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let l=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(v,x){let E=x>>24&255,I=x>>16&255,P=x>>8&255,L=x&255,F=v.sbox[0][E]+v.sbox[1][I];return F=F^v.sbox[2][P],F=F+v.sbox[3][L],F}o(u,"F");function d(v,x,E){let I=x,P=E,L;for(let F=0;F<l;++F)I=I^v.pbox[F],P=u(v,I)^P,L=I,I=P,P=L;return L=I,I=P,P=L,P=P^v.pbox[l],I=I^v.pbox[l+1],{left:I,right:P}}o(d,"BlowFish_Encrypt");function h(v,x,E){let I=x,P=E,L;for(let F=l+1;F>1;--F)I=I^v.pbox[F],P=u(v,I)^P,L=I,I=P,P=L;return L=I,I=P,P=L,P=P^v.pbox[1],I=I^v.pbox[0],{left:I,right:P}}o(h,"BlowFish_Decrypt");function m(v,x,E){for(let B=0;B<4;B++){v.sbox[B]=[];for(let V=0;V<256;V++)v.sbox[B][V]=f[B][V]}let I=0;for(let B=0;B<l+2;B++)v.pbox[B]=a[B]^x[I],I++,I>=E&&(I=0);let P=0,L=0,F=0;for(let B=0;B<l+2;B+=2)F=d(v,P,L),P=F.left,L=F.right,v.pbox[B]=P,v.pbox[B+1]=L;for(let B=0;B<4;B++)for(let V=0;V<256;V+=2)F=d(v,P,L),P=F.left,L=F.right,v.sbox[B][V]=P,v.sbox[B][V+1]=L;return!0}o(m,"BlowFishInit");var p=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,x=v.words,E=v.sigBytes/4;m(c,x,E)}},encryptBlock:function(v,x){var E=d(c,v[x],v[x+1]);v[x]=E.left,v[x+1]=E.right},decryptBlock:function(v,x){var E=h(c,v[x],v[x+1]);v[x]=E.left,v[x+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var _p=y0((xp,yR)=>{(function(e,t,r){typeof xp=="object"?yR.exports=xp=t(Li(),_9(),gP(),pP(),G5(),xP(),K5(),Bb(),zm(),TP(),Lb(),wP(),PP(),NP(),Zm(),BP(),mu(),ga(),MP(),qP(),HP(),VP(),GP(),WP(),JP(),ZP(),eR(),rR(),iR(),oR(),lR(),cR(),dR(),gR(),pR()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(xp,function(e){return e})});var bR=y0((z0e,_R)=>{var w8=1e3,A8=w8*60,P8=A8*60,rd=P8*24,oH=rd*7,aH=rd*365.25;_R.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return lH(e);if(r==="number"&&isFinite(e))return t.long?cH(e):fH(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function lH(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*aH;case"weeks":case"week":case"w":return r*oH;case"days":case"day":case"d":return r*rd;case"hours":case"hour":case"hrs":case"hr":case"h":return r*P8;case"minutes":case"minute":case"mins":case"min":case"m":return r*A8;case"seconds":case"second":case"secs":case"sec":case"s":return r*w8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(lH,"parse");function fH(e){var t=Math.abs(e);return t>=rd?Math.round(e/rd)+"d":t>=P8?Math.round(e/P8)+"h":t>=A8?Math.round(e/A8)+"m":t>=w8?Math.round(e/w8)+"s":e+"ms"}o(fH,"fmtShort");function cH(e){var t=Math.abs(e);return t>=rd?Cp(e,t,rd,"day"):t>=P8?Cp(e,t,P8,"hour"):t>=A8?Cp(e,t,A8,"minute"):t>=w8?Cp(e,t,w8,"second"):e+" ms"}o(cH,"fmtLong");function Cp(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o(Cp,"plural")});var Ob=y0((K0e,CR)=>{function uH(e){r.debug=r,r.default=r,r.coerce=c,r.disable=l,r.enable=s,r.enabled=a,r.humanize=bR(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let h=0;for(let m=0;m<d.length;m++)h=(h<<5)-h+d.charCodeAt(m),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let h,m=null,p,v;function x(...E){if(!x.enabled)return;let I=x,P=Number(new Date),L=P-(h||P);I.diff=L,I.prev=h,I.curr=P,h=P,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let F=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(V,de)=>{if(V==="%%")return"%";F++;let ve=r.formatters[de];if(typeof ve=="function"){let n0=E[F];V=ve.call(I,n0),E.splice(F,1),F--}return V}),r.formatArgs.call(I,E),(I.log||r.log).apply(I,E)}return o(x,"debug"),x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(p!==r.namespaces&&(p=r.namespaces,v=r.enabled(d)),v),set:E=>{m=E}}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(d,h){let m=r(this.namespace+(typeof h>"u"?":":h)+d);return m.log=this.log,m}o(n,"extend");function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,m=(typeof d=="string"?d:"").split(/[\s,]+/),p=m.length;for(h=0;h<p;h++)m[h]&&(d=m[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(s,"enable");function l(){let d=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),d}o(l,"disable");function a(d){if(d[d.length-1]==="*")return!0;let h,m;for(h=0,m=r.skips.length;h<m;h++)if(r.skips[h].test(d))return!1;for(h=0,m=r.names.length;h<m;h++)if(r.names[h].test(d))return!0;return!1}o(a,"enabled");function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(f,"toNamespace");function c(d){return d instanceof Error?d.stack||d.message:d}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(uH,"setup");CR.exports=uH});var ER=y0((df,Ep)=>{df.formatArgs=hH;df.save=gH;df.load=mH;df.useColors=dH;df.storage=pH();df.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();df.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function dH(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(dH,"useColors");function hH(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ep.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(hH,"formatArgs");df.log=console.debug||console.log||(()=>{});function gH(e){try{e?df.storage.setItem("debug",e):df.storage.removeItem("debug")}catch{}}o(gH,"save");function mH(){let e;try{e=df.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(mH,"load");function pH(){try{return localStorage}catch{}}o(pH,"localstorage");Ep.exports=Ob()(df);var{formatters:yH}=Ep.exports;yH.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var SR=y0((J0e,TR)=>{"use strict";TR.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var AR=y0((X0e,wR)=>{"use strict";var vH=require("os"),IR=require("tty"),Of=SR(),{env:Ia}=process,W5;Of("no-color")||Of("no-colors")||Of("color=false")||Of("color=never")?W5=0:(Of("color")||Of("colors")||Of("color=true")||Of("color=always"))&&(W5=1);"FORCE_COLOR"in Ia&&(Ia.FORCE_COLOR==="true"?W5=1:Ia.FORCE_COLOR==="false"?W5=0:W5=Ia.FORCE_COLOR.length===0?1:Math.min(parseInt(Ia.FORCE_COLOR,10),3));function Mb(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Mb,"translateLevel");function Ub(e,t){if(W5===0)return 0;if(Of("color=16m")||Of("color=full")||Of("color=truecolor"))return 3;if(Of("color=256"))return 2;if(e&&!t&&W5===void 0)return 0;let r=W5||0;if(Ia.TERM==="dumb")return r;if(process.platform==="win32"){let n=vH.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ia)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Ia)||Ia.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Ia)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ia.TEAMCITY_VERSION)?1:0;if(Ia.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ia){let n=parseInt((Ia.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ia.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ia.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ia.TERM)||"COLORTERM"in Ia?1:r}o(Ub,"supportsColor");function xH(e){let t=Ub(e,e&&e.isTTY);return Mb(t)}o(xH,"getSupportLevel");wR.exports={supportsColor:xH,stdout:Mb(Ub(!0,IR.isatty(1))),stderr:Mb(Ub(!0,IR.isatty(2)))}});var RR=y0((Wa,Sp)=>{var _H=require("tty"),Tp=require("util");Wa.init=wH;Wa.log=TH;Wa.formatArgs=CH;Wa.save=SH;Wa.load=IH;Wa.useColors=bH;Wa.destroy=Tp.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Wa.colors=[6,2,3,4,5,1];try{let e=AR();e&&(e.stderr||e).level>=2&&(Wa.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Wa.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,l)=>l.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function bH(){return"colors"in Wa.inspectOpts?!!Wa.inspectOpts.colors:_H.isatty(process.stderr.fd)}o(bH,"useColors");function CH(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),l=`  ${s};1m${t} \x1B[0m`;e[0]=l+e[0].split(`
`).join(`
`+l),e.push(s+"m+"+Sp.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=EH()+t+" "+e[0]}o(CH,"formatArgs");function EH(){return Wa.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(EH,"getDate");function TH(...e){return process.stderr.write(Tp.format(...e)+`
`)}o(TH,"log");function SH(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(SH,"save");function IH(){return process.env.DEBUG}o(IH,"load");function wH(e){e.inspectOpts={};let t=Object.keys(Wa.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Wa.inspectOpts[t[r]]}o(wH,"init");Sp.exports=Ob()(Wa);var{formatters:PR}=Sp.exports;PR.o=function(e){return this.inspectOpts.colors=this.useColors,Tp.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};PR.O=function(e){return this.inspectOpts.colors=this.useColors,Tp.inspect(e,this.inspectOpts)}});var nd=y0((ete,qb)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?qb.exports=ER():qb.exports=RR()});var Wb=y0((tte,BR)=>{var b9=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,AH=typeof AbortController=="function",E9,Ip=AH?AbortController:(E9=class{constructor(){this.signal=new NR}abort(){this.signal.dispatchEvent("abort")}},o(E9,"AbortController"),E9),PH=typeof AbortSignal=="function",RH=typeof Ip.AbortSignal=="function",T9,NR=PH?AbortSignal:RH?Ip.AbortController:(T9=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},o(T9,"AbortSignal"),T9),Vb=new Set,$b=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;wp(r)&&zb(r,`${e} option`,`options.${t}`,N8)},"deprecatedOption"),Hb=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(wp(r)){let{prototype:n}=N8,{get:s}=Object.getOwnPropertyDescriptor(n,e);zb(r,`${e} method`,`cache.${t}()`,s)}},"deprecatedMethod"),NH=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(wp(r)){let{prototype:n}=N8,{get:s}=Object.getOwnPropertyDescriptor(n,e);zb(r,`${e} property`,`cache.${t}`,s)}},"deprecatedProperty"),kR=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),wp=o(e=>!Vb.has(e),"shouldWarn"),zb=o((e,t,r,n)=>{Vb.add(e);let s=`The ${t} is deprecated. Please use ${r} instead.`;kR(s,"DeprecationWarning",e,n)},"warn"),id=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),DR=o(e=>id(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?R8:null:null,"getUintArray"),Gb=class Gb extends Array{constructor(t){super(t),this.fill(0)}};o(Gb,"ZeroArray");var R8=Gb,Kb=class Kb{constructor(t){if(t===0)return[];let r=DR(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};o(Kb,"Stack");var jb=Kb,C9=class C9{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:l,updateAgeOnGet:a,updateAgeOnHas:f,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:m,maxSize:p=0,sizeCalculation:v,fetchMethod:x,fetchContext:E,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:P}=t,{length:L,maxAge:F,stale:B}=t instanceof C9?{}:t;if(r!==0&&!id(r))throw new TypeError("max option must be a nonnegative integer");let V=r?DR(r):Array;if(!V)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=v||L,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new V(r),this.prev=new V(r),this.head=0,this.tail=0,this.free=new jb(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!I,this.maxSize!==0){if(!id(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!B,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!f,this.ttlResolution=id(s)||s===0?s:1,this.ttlAutopurge=!!l,this.ttl=n||F||0,this.ttl){if(!id(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let de="LRU_CACHE_UNBOUNDED";wp(de)&&(Vb.add(de),kR("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",de,C9))}B&&$b("stale","allowStale"),F&&$b("maxAge","ttl"),L&&$b("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new R8(this.max),this.starts=new R8(this.max),this.setItemTTL=(n,s,l=b9.now())=>{if(this.starts[n]=s!==0?l:0,this.ttls[n]=s,s!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},s+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?b9.now():0};let t=0,r=o(()=>{let n=b9.now();if(this.ttlResolution>0){t=n;let s=setTimeout(()=>t=0,this.ttlResolution);s.unref&&s.unref()}return n},"getNow");this.getRemainingTTL=n=>{let s=this.keyMap.get(n);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new R8(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,s)=>{if(!id(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!id(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,s){if(n||s)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return Hb("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],s=this.valList[r],a={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){a.ttl=this.ttls[r];let f=b9.now()-this.starts[r];a.start=Math.floor(Date.now()-f)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let s=Date.now()-n.start;n.start=b9.now()-s}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:s,noDisposeOnSet:l=this.noDisposeOnSet,size:a=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,f),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let d=this.valList[u];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():l||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],s=this.valList[r];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,n,"evict"),this.disposeAfter&&this.disposed.push([s,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let s=this.valList[n];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(t,r,n,s){let l=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(l))return l;let a=new Ip,f={signal:a.signal,options:n,context:s},c=o(m=>(a.signal.aborted||this.set(t,m,f.options),m),"cb"),u=o(m=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw m},"eb"),d=o(m=>m(this.fetchMethod(t,l,f)),"pcall"),h=new Promise(d).then(c,u);return h.__abortController=a,h.__staleWhileFetching=l,h.__returned=null,r===void 0?(this.set(t,h,f.options),r=this.keyMap.get(t)):this.valList[r]=h,h}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:m=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:l,noDisposeOnSet:a,size:f,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d},v=this.keyMap.get(t);if(v===void 0){let x=this.backgroundFetch(t,v,p,h);return x.__returned=x}else{let x=this.valList[v];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!m&&!this.isStale(v))return this.moveToTail(v),n&&this.updateItemAge(v),x;let E=this.backgroundFetch(t,v,p,h);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet}={}){let l=this.keyMap.get(t);if(l!==void 0){let a=this.valList[l],f=this.isBackgroundFetch(a);return this.isStale(l)?f?r?a.__staleWhileFetching:void 0:(s||this.delete(t),r?a:void 0):f?void 0:(this.moveToTail(l),n&&this.updateItemAge(l),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return Hb("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let s=this.valList[n];this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"delete"),this.disposeAfter&&this.disposed.push([s,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Hb("reset","clear"),this.clear}get length(){return NH("length","size"),this.size}static get AbortController(){return Ip}static get AbortSignal(){return NR}};o(C9,"LRUCache");var N8=C9;BR.exports=N8});var eC=y0((nte,LR)=>{"use strict";var Xb=class Xb extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};o(Xb,"FetchBaseError");var S9=Xb,Zb=class Zb extends S9{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};o(Zb,"FetchError");var Yb=Zb,Qb=class Qb extends S9{constructor(t,r="aborted"){super(t,r,"AbortError")}};o(Qb,"AbortError");var Jb=Qb;LR.exports={FetchBaseError:S9,FetchError:Yb,AbortError:Jb}});var pu=y0((ste,OR)=>{"use strict";var{constants:{MAX_LENGTH:kH}}=require("buffer"),{pipeline:Ap,PassThrough:DH}=require("stream"),{promisify:BH}=require("util"),{createGunzip:LH,createInflate:FH,createBrotliDecompress:OH,constants:{Z_SYNC_FLUSH:FR}}=require("zlib"),MH=nd()("helix-fetch:utils"),UH=BH(Ap),qH=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),$H=o((e,t,r,n)=>{if(!qH(e,t))return r;let s=o(l=>{l&&(MH(`encountered error while decoding stream: ${l}`),n(l))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return Ap(r,LH({flush:FR,finishFlush:FR}),s);case"deflate":case"x-deflate":return Ap(r,FH(),s);case"br":return Ap(r,OH(),s);default:return r}},"decodeStream"),HH=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),Pp=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?jH(e,t):VH(e,t);default:return 0}},"calcSize"),jH=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:Pp(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),VH=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let s in e)n.push(s);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(s=>{if(r+=Pp(s,t),typeof e[s]=="object"&&e[s]!==null){if(t.has(e[s]))return;t.add(e[s])}r+=Pp(e[s],t)}),r},"calcObjectSize"),zH=o(e=>Pp(e,new WeakSet),"sizeof"),GH=o(async e=>{let t=new DH,r=0,n=[];return t.on("data",s=>{if(r+s.length>kH)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(s),r+=s.length}),await UH(e,t),Buffer.concat(n,r)},"streamToBuffer");OR.exports={decodeStream:$H,isPlainObject:HH,sizeof:zH,streamToBuffer:GH}});var Np=y0((ate,$R)=>{"use strict";var{PassThrough:MR,Readable:yu}=require("stream"),{types:{isAnyArrayBuffer:qR}}=require("util"),{FetchError:KH,FetchBaseError:WH}=eC(),{streamToBuffer:YH}=pu(),JH=Buffer.alloc(0),Mf=Symbol("Body internals"),XH=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),UR=o(async e=>{if(e[Mf].disturbed)throw new TypeError("Already read");if(e[Mf].error)throw new TypeError(`Stream had error: ${e[Mf].error.message}`);e[Mf].disturbed=!0;let{stream:t}=e[Mf];return t===null?JH:YH(t)},"consume"),tC=class tC{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=yu.from(t.toString()):t instanceof yu?r=t:Buffer.isBuffer(t)?r=yu.from(t):qR(t)?r=yu.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=yu.from(t):r=yu.from(String(t)),this[Mf]={stream:r,disturbed:!1,error:null},t instanceof yu&&r.on("error",n=>{let s=n instanceof WH?n:new KH(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Mf].error=s})}get body(){return this[Mf].stream}get bodyUsed(){return this[Mf].disturbed}async buffer(){return UR(this)}async arrayBuffer(){return XH(await this.buffer())}async text(){return(await UR(this)).toString()}async json(){return JSON.parse(await this.text())}};o(tC,"Body");var Rp=tC;Object.defineProperties(Rp.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var ZH=o(e=>{if(e[Mf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Mf],r=t;if(t instanceof yu){r=new MR;let n=new MR;t.pipe(r),t.pipe(n),e[Mf].stream=n}return r},"cloneStream"),QH=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||qR(e)||e instanceof yu?null:"text/plain; charset=utf-8","guessContentType");$R.exports={Body:Rp,cloneStream:ZH,guessContentType:QH}});var k8=y0((fte,zR)=>{"use strict";var{validateHeaderName:HR,validateHeaderValue:jR}=require("http"),{isPlainObject:ej}=pu(),vu=Symbol("Headers internals"),I9=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof HR=="function")HR(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),VR=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof jR=="function")jR(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),Dp=class Dp{constructor(t={}){if(this[vu]={map:new Map},t instanceof Dp)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(ej(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[vu].map.set(I9(t),VR(r,t))}has(t){return this[vu].map.has(I9(t))}get(t){let r=this[vu].map.get(I9(t));return r===void 0?null:r}append(t,r){let n=I9(t),s=VR(r,t),l=this[vu].map.get(n);this[vu].map.set(n,l?`${l}, ${s}`:s)}delete(t){this[vu].map.delete(I9(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[vu].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[vu].map)}};o(Dp,"Headers");var kp=Dp;Object.defineProperties(kp.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));zR.exports={Headers:kp}});var sC=y0((ute,GR)=>{"use strict";var{EventEmitter:tj}=require("events"),T1=Symbol("AbortSignal internals"),rC=class rC{constructor(){this[T1]={eventEmitter:new tj,onabort:null,aborted:!1}}get aborted(){return this[T1].aborted}get onabort(){return this[T1].onabort}set onabort(t){this[T1].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[T1].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[T1].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[T1][n]=="function"&&this[n](r),this[T1].eventEmitter.emit(t,r)}fire(){this[T1].aborted=!0,this.dispatchEvent("abort")}};o(rC,"AbortSignal");var D8=rC;Object.defineProperties(D8.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var nC=class nC extends D8{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[T1].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[T1].timerId)}};o(nC,"TimeoutSignal");var Lp=nC;Object.defineProperties(Lp.prototype,{clear:{enumerable:!0}});var Bp=Symbol("AbortController internals"),iC=class iC{constructor(){this[Bp]={signal:new D8}}get signal(){return this[Bp].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[Bp].signal.aborted||this[Bp].signal.fire()}};o(iC,"AbortController");var Fp=iC;Object.defineProperties(Fp.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});GR.exports={AbortController:Fp,AbortSignal:D8,TimeoutSignal:Lp}});var w9=y0((hte,YR)=>{"use strict";var{randomBytes:rj}=require("crypto"),{Readable:nj}=require("stream"),aC=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),ij=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),KR=o(e=>`--${e}--\r
\r
`,"getFooter"),WR=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,aC(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*sj(e,t){for(let[r,n]of e)yield WR(t,r,n),aC(n)?yield*n.stream():yield n,yield`\r
`;yield KR(t)}o(sj,"formDataIterator");var oj=o((e,t)=>{let r=0;for(let[n,s]of e)r+=Buffer.byteLength(WR(t,n,s)),r+=aC(s)?s.size:Buffer.byteLength(String(s)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(KR(t)),r},"getFormDataLength"),lC=class lC{constructor(t){this.fd=t,this.boundary=rj(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=oj(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return nj.from(sj(this.fd,this.boundary))}};o(lC,"FormDataSerializer");var oC=lC;YR.exports={isFormData:ij,FormDataSerializer:oC}});var XR=y0((mte,JR)=>{"use strict";var{AbortSignal:aj}=sC(),{Body:lj,cloneStream:fj,guessContentType:cj}=Np(),{Headers:uj}=k8(),{isPlainObject:dj}=pu(),{isFormData:hj,FormDataSerializer:gj}=w9(),mj=20,Y5=Symbol("Request internals"),A9=class A9 extends lj{constructor(t,r={}){let n=t instanceof A9?t:null,s=n?new URL(n.url):new URL(t),l=r.method||n&&n.method||"GET";if(l=l.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(l))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?fj(n):null),f=new uj(r.headers||n&&n.headers||{});if(hj(a)&&!f.has("content-type")){let h=new gj(a);a=h.stream(),f.set("content-type",h.contentType()),!f.has("transfer-encoding")&&!f.has("content-length")&&f.set("content-length",h.length())}if(!f.has("content-type"))if(dj(a))a=JSON.stringify(a),f.set("content-type","application/json");else{let h=cj(a);h&&f.set("content-type",h)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof aj))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[Y5]={init:{...r},method:l,redirect:u,cache:d,headers:f,parsedURL:s,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=mj:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Y5].method}get url(){return this[Y5].parsedURL.toString()}get headers(){return this[Y5].headers}get redirect(){return this[Y5].redirect}get cache(){return this[Y5].cache}get signal(){return this[Y5].signal}clone(){return new A9(this)}get init(){return this[Y5].init}get[Symbol.toStringTag](){return this.constructor.name}};o(A9,"Request");var Op=A9;Object.defineProperties(Op.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});JR.exports={Request:Op}});var fC=y0((yte,ZR)=>{"use strict";var{Body:pj,cloneStream:yj,guessContentType:vj}=Np(),{Headers:xj}=k8(),{isPlainObject:_j}=pu(),{isFormData:bj,FormDataSerializer:Cj}=w9(),S1=Symbol("Response internals"),P9=class P9 extends pj{constructor(t=null,r={}){let n=new xj(r.headers),s=t;if(bj(s)&&!n.has("content-type")){let l=new Cj(s);s=l.stream(),n.set("content-type",l.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",l.length())}if(s!==null&&!n.has("content-type"))if(_j(s))s=JSON.stringify(s),n.set("content-type","application/json");else{let l=vj(s);l&&n.set("content-type",l)}super(s),this[S1]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[S1].url||""}get status(){return this[S1].status}get statusText(){return this[S1].statusText}get ok(){return this[S1].status>=200&&this[S1].status<300}get redirected(){return this[S1].counter>0}get headers(){return this[S1].headers}get httpVersion(){return this[S1].httpVersion}get decoded(){return this[S1].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new P9(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new P9(yj(this),{...this[S1]})}get[Symbol.toStringTag](){return this.constructor.name}};o(P9,"Response");var Mp=P9;Object.defineProperties(Mp.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});ZR.exports={Response:Mp}});var eN=y0((xte,QR)=>{"use strict";var Ej=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Tj=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Sj=new Set([500,502,503,504]),Ij={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},wj={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function sd(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(sd,"toNumberOrZero");function Aj(e){return e?Sj.has(e.status):!0}o(Aj,"isErrorResponse");function cC(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[s,l]=n.split(/=/,2);t[s.trim()]=l===void 0?!0:l.trim().replace(/^"|"$/g,"")}return t}o(cC,"parseCacheControl");function Pj(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(Pj,"formatCacheControl");var R9;QR.exports=(R9=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:l,ignoreCargoCult:a,_fromObject:f}={}){if(f){this._fromObject(f);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=l!==void 0?l:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=cC(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=cC(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Pj(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Tj.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Ej.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=cC(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)Ij[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return sd(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return sd(this._rescc["s-maxage"])}if(this._rescc["max-age"])return sd(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+sd(this._rescc["stale-if-error"]),n=t+sd(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+sd(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+sd(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(l=>!/^\s*W\//.test(l));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&Aj(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let a in this._resHeaders)s[a]=a in r.headers&&!wj[a]?r.headers[a]:this._resHeaders[a];let l=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,l,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},o(R9,"CachePolicy"),R9)});var iN=y0((bte,nN)=>{"use strict";var Rj=eN(),{Headers:Nj}=k8(),tN=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),rN=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),dC=class dC{constructor(t,r,n){this.policy=new Rj(tN(t),rN(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(tN(t))}responseHeaders(t){return new Nj(this.policy.responseHeaders(rN(t)))}timeToLive(){return this.policy.timeToLive()}};o(dC,"CachePolicyWrapper");var uC=dC;nN.exports=uC});var aN=y0((Ete,oN)=>{"use strict";var{Readable:kj}=require("stream"),{Headers:sN}=k8(),{Response:Dj}=fC(),J5=Symbol("CacheableResponse internals"),Bj=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),Up=class Up extends Dj{constructor(t,r){super(t,r);let n=new sN(r.headers);this[J5]={headers:n,bufferedBody:t}}get headers(){return this[J5].headers}set headers(t){if(t instanceof sN)this[J5].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return kj.from(this[J5].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[J5].bufferedBody}async arrayBuffer(){return Bj(this[J5].bufferedBody)}async text(){return this[J5].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f}=this;return new Up(this[J5].bufferedBody,{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f})}get[Symbol.toStringTag](){return this.constructor.name}};o(Up,"CacheableResponse");var hC=Up,Lj=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c}=e;return new hC(t,{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c})},"cacheableResponse");oN.exports={cacheableResponse:Lj}});var qp=y0((Ste,lN)=>{"use strict";var mC=class mC extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};o(mC,"RequestAbortedError");var gC=mC;lN.exports={RequestAbortedError:gC}});var hN=y0((wte,dN)=>{"use strict";var cN=require("http"),uN=require("https"),{Readable:Fj}=require("stream"),xu=nd()("helix-fetch:h1"),{RequestAbortedError:fN}=qp(),{decodeStream:Oj}=pu(),Mj=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:s}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof s=="boolean"?(r.httpsAgent=new uN.Agent(typeof s=="boolean"?{...n||{},rejectUnauthorized:s}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new cN.Agent(n),r.httpAgent):void 0},"getAgent"),Uj=o(e=>{e.h1={}},"setupContext"),qj=o(async({h1:e})=>{e.httpAgent&&(xu("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(xu("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),$j=o((e,t,r)=>{let{statusCode:n,statusMessage:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c}=e,u=t?Oj(n,c,e,r):e;return{statusCode:n,statusText:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),Hj=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?uN:cN,s=Mj(e,t.protocol),l={...r,agent:s},{socket:a,body:f}=l;return a&&(delete l.socket,a.assigned||(a.assigned=!0,s?l.agent=new Proxy(s,{get:(c,u)=>u==="createConnection"&&!a.inUse?(d,h)=>{xu(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,h(null,a)}:c[u]}):l.createConnection=(c,u)=>{xu(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{xu(`${l.method} ${t.href}`);let d,{signal:h}=l,m=o(()=>{h.removeEventListener("abort",m),a&&!a.inUse&&(xu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new fN),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){u(new fN);return}h.addEventListener("abort",m)}d=n(t,l),d.once("response",p=>{h&&h.removeEventListener("abort",m),a&&!a.inUse&&(xu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c($j(p,l.decode,u))}),d.once("error",p=>{h&&h.removeEventListener("abort",m),a&&!a.inUse&&(xu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),d.aborted||(xu(`${l.method} ${t.href} failed with: ${p.message}`),d.abort(),u(p))}),f instanceof Fj?f.pipe(d):(f&&d.write(f),d.end())})},"h1Request");dN.exports={request:Hj,setupContext:Uj,resetContext:qj}});var yN=y0((Pte,pN)=>{"use strict";var{connect:jj,constants:Vj}=require("http2"),{Readable:zj}=require("stream"),Es=nd()("helix-fetch:h2"),{RequestAbortedError:gN}=qp(),{decodeStream:Gj}=pu(),{NGHTTP2_CANCEL:N9}=Vj,Kj=5*60*1e3,Wj=5e3,Yj=o(e=>{e.h2={sessionCache:{}}},"setupContext"),Jj=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Es(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),mN=o((e,t,r,n=()=>{})=>{let s={...e},l=s[":status"];delete s[":status"];let a=r?Gj(l,e,t,n):t;return{statusCode:l,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:s,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),Xj=o((e,t,r,n,s,l)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:f,pushedStreamIdleTimeout:c=Wj}}}=e,u=s[":path"],d=`${t}${u}`;Es(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(s)}, flags: ${l}`),a&&a(d,s,o(()=>{n.close(N9)},"rejectPush")),n.on("push",(h,m)=>{Es(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${m}`),n.setTimeout(c,()=>{Es(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(N9)}),f&&f(d,s,mN(h,n,r))}),n.on("aborted",()=>{Es(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{Es(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,m,p)=>{Es(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${m}, id: ${p}`)})},"handlePush"),Zj=o(async(e,t,r)=>{let{origin:n,pathname:s,search:l,hash:a}=t,f=`${s}${l}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:d=Kj,pushPromiseHandler:h,pushHandler:m}=c,p={...r},{method:v,headers:x,socket:E,body:I,decode:P}=p;return E&&delete p.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((L,F)=>{let B=u[n];if(!B||B.closed||B.destroyed){let d0=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),r0={...c,rejectUnauthorized:d0};E&&!E.inUse&&(r0.createConnection=()=>(Es(`reusing socket #${E.id} (${E.servername})`),E.inUse=!0,E)),B=jj(n,{...r0,settings:{enablePush:!!(h||m)}}),B.setMaxListeners(1e3),B.setTimeout(d,()=>{Es(`closing session ${n} after ${d} ms of inactivity`),B.close()}),B.once("connect",()=>{Es(`session ${n} established`),Es(`caching session ${n}`),u[n]=B}),B.on("localSettings",$e=>{Es(`session ${n} localSettings: ${JSON.stringify($e)}`)}),B.on("remoteSettings",$e=>{Es(`session ${n} remoteSettings: ${JSON.stringify($e)}`)}),B.once("close",()=>{Es(`session ${n} closed`),u[n]===B&&(Es(`discarding cached session ${n}`),delete u[n])}),B.once("error",$e=>{Es(`session ${n} encountered error: ${$e}`),u[n]===B&&(Es(`discarding cached session ${n}`),delete u[n])}),B.on("frameError",($e,we,o0)=>{Es(`session ${n} encountered frameError: type: ${$e}, code: ${we}, id: ${o0}`)}),B.once("goaway",($e,we,o0)=>{Es(`session ${n} received GOAWAY frame: errorCode: ${$e}, lastStreamID: ${we}, opaqueData: ${o0?o0.toString():void 0}`)}),B.on("stream",($e,we,o0)=>{Xj(e,n,P,$e,we,o0)})}else E&&E.id!==B.socket.id&&!E.inUse&&(Es(`discarding redundant socket used for ALPN: #${E.id} ${E.servername}`),E.destroy());Es(`${v} ${t.host}${f}`);let V,{signal:de}=p,ve=o(()=>{de.removeEventListener("abort",ve),F(new gN),V&&V.close(N9)},"onAbortSignal");if(de){if(de.aborted){F(new gN);return}de.addEventListener("abort",ve)}let n0=o(d0=>{Es(`session ${n} encountered error during ${p.method} ${t.href}: ${d0}`),F(d0)},"onSessionError");B.once("error",n0),V=B.request({":method":v,":path":f,...x}),V.once("response",d0=>{B.off("error",n0),de&&de.removeEventListener("abort",ve),L(mN(d0,V,p.decode,F))}),V.once("error",d0=>{B.off("error",n0),de&&de.removeEventListener("abort",ve),V.rstCode!==N9&&(Es(`${p.method} ${t.href} failed with: ${d0.message}`),V.close(N9),F(d0))}),V.once("frameError",(d0,r0,m0)=>{B.off("error",n0),Es(`encountered frameError during ${p.method} ${t.href}: type: ${d0}, code: ${r0}, id: ${m0}`)}),V.on("push",(d0,r0)=>{Es(`received 'push' event: headers: ${JSON.stringify(d0)}, flags: ${r0}`)}),I instanceof zj?I.pipe(V):(I&&V.write(I),V.end())})},"request");pN.exports={request:Zj,setupContext:Yj,resetContext:Jj}});var xN=y0((Nte,vN)=>{"use strict";var{EventEmitter:Qj}=require("events"),eV=o(()=>{let e={},t=new Qj;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let s=o(l=>{e[r]||(e[r]=!0,t.removeListener(r,s),n(l))},"tryAcquire");t.on(r,s)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");vN.exports=eV});var _N=y0((Dte,tV)=>{tV.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var SN=y0((Bte,TN)=>{"use strict";var{Readable:rV}=require("stream"),nV=require("tls"),{types:{isAnyArrayBuffer:iV}}=require("util"),sV=Wb(),pC=nd()("helix-fetch:core"),{RequestAbortedError:$p}=qp(),yC=hN(),Hp=yN(),oV=xN(),{isPlainObject:aV}=pu(),{isFormData:lV,FormDataSerializer:fV}=w9(),{version:cV}=_N(),vC="h2",xC="h2c",_C="http/1.0",od="http/1.1",uV=100,dV=60*60*1e3,hV=[vC,od,_C],gV=`helix-fetch/${cV}`,mV={method:"GET",compress:!0,decode:!0},bN=0,CN=oV(),EN=o((e,t)=>new Promise((r,n)=>{let{signal:s}=t,l,a=o(()=>{s.removeEventListener("abort",a);let u=new $p;n(u),l&&l.destroy(u)},"onAbortSignal");if(s){if(s.aborted){n(new $p);return}s.addEventListener("abort",a)}let f=+e.port||443,c=o(u=>{s&&s.removeEventListener("abort",a),u instanceof $p||(pC(`connecting to ${e.hostname}:${f} failed with: ${u.message}`),n(u))},"onError");l=nV.connect(f,e.hostname,t),l.once("secureConnect",()=>{s&&s.removeEventListener("abort",a),l.off("error",c),bN+=1,l.id=bN,l.secureConnecting=!1,pC(`established TLS connection: #${l.id} (${l.servername})`),r(l)}),l.once("error",c)}),"connectTLS"),pV=o(async(e,t)=>{let r=await CN.acquire(e.origin);try{return r||(r=await EN(e,t)),r}finally{CN.release(e.origin,r)}},"connect"),yV=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,s=e.alpnCache.get(n);if(s)return{protocol:s};switch(t.protocol){case"http:":return s=od,e.alpnCache.set(n,s),{protocol:s};case"http2:":return s=xC,e.alpnCache.set(n,s),{protocol:s};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:l,h1:a={},h2:f={}}}=e,c=!(l===!1||a.rejectUnauthorized===!1||f.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let d=await pV(t,u);return s=d.alpnProtocol,s||(s=od),e.alpnCache.set(n,s),{protocol:s,socket:d}},"determineProtocol"),vV=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),xV=o(async(e,t,r,n)=>{let s=t.protocol==="https:",l;t.port?l=t.port:s?l=443:l=80;let a={...r,host:t.host,hostname:t.hostname,port:l},f=await e(a);if(s){let u={...a,ALPNProtocols:n};u.socket=f,u.servername=a.host;let d=await EN(t,u);return{protocol:d.alpnProtocol||od,socket:d}}return{protocol:f.alpnProtocol||od,socket:f}},"getProtocolAndSocketFromFactory"),_V=o(async(e,t,r)=>{let n=new URL(t),s={...mV,...r||{}};typeof s.method=="string"&&(s.method=s.method.toUpperCase()),s.headers=vV(s.headers||{}),s.headers.host===void 0&&(s.headers.host=n.host),e.userAgent&&s.headers["user-agent"]===void 0&&(s.headers["user-agent"]=e.userAgent);let l;if(s.body instanceof URLSearchParams)l="application/x-www-form-urlencoded; charset=utf-8",s.body=s.body.toString();else if(lV(s.body)){let u=new fV(s.body);l=u.contentType(),s.body=u.stream(),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(u.length()))}else typeof s.body=="string"||s.body instanceof String?l="text/plain; charset=utf-8":aV(s.body)?(s.body=JSON.stringify(s.body),l="application/json"):iV(s.body)&&(s.body=Buffer.from(s.body));s.headers["content-type"]===void 0&&l!==void 0&&(s.headers["content-type"]=l),s.body!=null&&(s.body instanceof rV||(!(typeof s.body=="string"||s.body instanceof String)&&!Buffer.isBuffer(s.body)&&(s.body=String(s.body)),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(Buffer.isBuffer(s.body)?s.body.length:Buffer.byteLength(s.body,"utf-8"))))),s.headers.accept===void 0&&(s.headers.accept="*/*"),s.body==null&&["POST","PUT"].includes(s.method)&&(s.headers["content-length"]="0"),s.compress&&s.headers["accept-encoding"]===void 0&&(s.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=s,{protocol:f,socket:c=null}=e.socketFactory?await xV(e.socketFactory,n,s,e.alpnProtocols):await yV(e,n,a);switch(pC(`${n.host} -> ${f}`),f){case vC:try{return await Hp.request(e,n,c?{...s,socket:c}:s)}catch(u){let{code:d,message:h}=u;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case xC:return Hp.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...s,socket:c}:s);case _C:case od:return yC.request(e,n,c?{...s,socket:c}:s);default:throw new TypeError(`unsupported protocol: ${f}`)}},"request"),bV=o(async e=>(e.alpnCache.clear(),Promise.all([yC.resetContext(e),Hp.resetContext(e)])),"resetContext"),CV=o(e=>{let{options:{alpnProtocols:t=hV,alpnCacheTTL:r=dV,alpnCacheSize:n=uV,userAgent:s=gV,socketFactory:l}}=e;e.alpnProtocols=t,e.alpnCache=new sV({max:n,ttl:r}),e.userAgent=s,e.socketFactory=l,yC.setupContext(e),Hp.setupContext(e)},"setupContext");TN.exports={request:_V,setupContext:CV,resetContext:bV,RequestAbortedError:$p,ALPN_HTTP2:vC,ALPN_HTTP2C:xC,ALPN_HTTP1_1:od,ALPN_HTTP1_0:_C}});var wN=y0((Fte,IN)=>{"use strict";var EV=nd()("helix-fetch:core"),{request:TV,setupContext:SV,resetContext:IV,RequestAbortedError:wV,ALPN_HTTP2:AV,ALPN_HTTP2C:PV,ALPN_HTTP1_1:RV,ALPN_HTTP1_0:NV}=SN(),jp=class jp{constructor(t){this.options={...t||{}},SV(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new jp(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:wV,ALPN_HTTP2:AV,ALPN_HTTP2C:PV,ALPN_HTTP1_1:RV,ALPN_HTTP1_0:NV}}async request(t,r){return TV(this,t,r)}setCA(t){this.options.ca=t}async reset(){return EV("resetting context"),IV(this)}};o(jp,"RequestContext");var bC=jp;IN.exports=new bC().api()});var kN=y0((Mte,NN)=>{"use strict";var{EventEmitter:kV}=require("events"),{Readable:k9}=require("stream"),CC=nd()("helix-fetch"),DV=Wb(),{Body:BV}=Np(),{Headers:IC}=k8(),{Request:ad}=XR(),{Response:TC}=fC(),{FetchBaseError:LV,FetchError:D9,AbortError:Vp}=eC(),{AbortController:FV,AbortSignal:OV,TimeoutSignal:MV}=sC(),UV=iN(),{cacheableResponse:qV}=aN(),{sizeof:$V}=pu(),{isFormData:HV}=w9(),{context:jV,RequestAbortedError:VV}=wN(),AN=["GET","HEAD"],zV=500,GV=100*1024*1024,EC="push",PN=o(async(e,t,r)=>{let{request:n}=e.context,s=t instanceof ad&&typeof r>"u"?t:new ad(t,r),{method:l,body:a,signal:f,compress:c,decode:u,follow:d,redirect:h,init:{body:m}}=s,p;if(f&&f.aborted){let B=new Vp("The operation was aborted.");throw s.init.body instanceof k9&&s.init.body.destroy(B),B}try{p=await n(s.url,{...r,method:l,headers:s.headers.plain(),body:m&&!(m instanceof k9)&&!HV(m)?m:a,compress:c,decode:u,follow:d,redirect:h,signal:f})}catch(B){throw m instanceof k9&&m.destroy(B),B instanceof TypeError?B:B instanceof VV?new Vp("The operation was aborted."):new D9(B.message,"system",B)}let v=o(()=>{f.removeEventListener("abort",v);let B=new Vp("The operation was aborted.");s.init.body instanceof k9&&s.init.body.destroy(B),p.readable.emit("error",B)},"abortHandler");f&&f.addEventListener("abort",v);let{statusCode:x,statusText:E,httpVersion:I,headers:P,readable:L,decoded:F}=p;if([301,302,303,307,308].includes(x)){let{location:B}=P,V=B==null?null:new URL(B,s.url);switch(s.redirect){case"manual":break;case"error":throw f&&f.removeEventListener("abort",v),new D9(`uri requested responds with a redirect, redirect mode is set to 'error': ${s.url}`,"no-redirect");case"follow":{if(V===null)break;if(s.counter>=s.follow)throw f&&f.removeEventListener("abort",v),new D9(`maximum redirect reached at: ${s.url}`,"max-redirect");let de={headers:new IC(s.headers),follow:s.follow,compress:s.compress,decode:s.decode,counter:s.counter+1,method:s.method,body:s.body,signal:s.signal};if(x!==303&&s.body&&s.init.body instanceof k9)throw f&&f.removeEventListener("abort",v),new D9("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&s.method==="POST")&&(de.method="GET",de.body=void 0,de.headers.delete("content-length")),f&&f.removeEventListener("abort",v),PN(e,new ad(V,de))}default:}}return f&&(L.once("end",()=>{f.removeEventListener("abort",v)}),L.once("error",()=>{f.removeEventListener("abort",v)})),new TC(L,{url:s.url,status:x,statusText:E,headers:P,httpVersion:I,decoded:F,counter:s.counter})},"fetch"),RN=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!AN.includes(t.method))return r;let n=new UV(t,r,{shared:!1});if(n.storable()){let s=await qV(r);return e.cache.set(t.url,{policy:n,response:s},n.timeToLive()),s}else return r},"cacheResponse"),KV=o(async(e,t,r)=>{let n=new ad(t,r);if(e.options.maxCacheSize!==0&&AN.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:f}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){f.headers=new IC(a.responseHeaders(f));let c=f.clone();return c.fromCache=!0,c}}let l=await PN(e,n);return n.cache!=="no-store"?RN(e,n,l):l},"cachingFetch"),WV=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,s])=>{Array.isArray(s)?s.forEach(l=>r.searchParams.append(n,l)):r.searchParams.append(n,s)}),r.href},"createUrl"),YV=o(e=>new MV(e),"timeoutSignal"),_u=class _u{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:GV,s=zV;n===0&&(n=1,s=1);let l=o(({response:f},c)=>$V(f),"sizeCalculation");this.cache=new DV({max:s,maxSize:n,sizeCalculation:l}),this.eventEmitter=new kV,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(f,d,u)},this.options.h2.pushHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(I=>I.startsWith(":")).forEach(I=>delete d[I]);let{statusCode:h,statusText:m,httpVersion:p,headers:v,readable:x,decoded:E}=u;this.pushHandler(f,d,new TC(x,{url:f,status:h,statusText:m,headers:v,httpVersion:p,decoded:E}))}),this.context=jV(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:BV,Headers:IC,Request:ad,Response:TC,AbortController:FV,AbortSignal:OV,FetchBaseError:LV,FetchError:D9,AbortError:Vp,context:(t={})=>new _u(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new _u({...t,maxCacheSize:0}).api(),h1:(t={})=>new _u({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new _u({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new _u({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new _u({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:WV,timeoutSignal:YV,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return KV(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(EC,t)}offPush(t){return this.eventEmitter.off(EC,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){CC(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let s=new ad(t,{headers:r}),{policy:l}=this.cache.get(t)||{};l&&l.satisfiesWithoutRevalidation(s)&&(CC(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){CC(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let s=await RN(this,new ad(t,{headers:r}),n);this.eventEmitter.emit(EC,t,s)}};o(_u,"FetchContext");var SC=_u;NN.exports=new SC().api()});var BN=y0((qte,DN)=>{"use strict";DN.exports=kN()});var GC=y0((Yre,nz)=>{nz.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.181.0",build:"832",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot?editor=vscode",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.75.0",node:">=16.14.0",npm:">=8.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chatWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chatNonWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"run-s build:prompt build:root","build:prompt":"npm -C prompt run build","build:root":"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:prompt":"npm -C prompt run watch","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},workspaces:["prompt"],devDependencies:{"@datadog/datadog-ci":"^2.33.0","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.13","@types/uuid":"^9.0.7","@types/vscode":"^1.75.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.7.1","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/copilot-promptlib":"file:prompt","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","git-url-parse":"^13.1.0",ignore:"^5.2.4",jhaystack:"^0.1.8",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var QN=y0((ny,ZN)=>{(function(e,t){typeof ny=="object"&&typeof ZN<"u"?t(ny):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(ny,function(e){"use strict";var t=void 0,r=null,n="",s="function",l="number",a="object",f="prototype",c="__proto__",u="string",d="undefined",h="constructor",m="Symbol",p="_polyfill",v="indexOf",x="length",E="value",I="name",P="slice",L="call",F="toString",B=Object,V=B[f],de=String,ve=de[f],n0=Math,d0=Array,r0=d0[f];function m0(_,w){try{return{v:_.apply(this,w)}}catch(R){return{e:R}}}o(m0,"safe");function $e(_){return function(w){return typeof w===_}}o($e,"_createIs");function we(_){var w="[object "+_+"]";return function(R){return!!(R&&o0(R)===w)}}o(we,"_createObjIs");function o0(_){return V.toString.call(_)}o(o0,"objToString");function u0(_){return typeof _===d||_===d}o(u0,"isUndefined");function l0(_){return _===r||u0(_)}o(l0,"isNullOrUndefined");function N0(_){return!!_||_!==t}o(N0,"isDefined");var t0=$e(u),f0=$e(s);function ce(_){return!_&&l0(_)?!1:!!_&&typeof _===a}o(ce,"isObject");var Se=d0.isArray,C0=we("Error"),z0=B.getOwnPropertyDescriptor;function O0(_,w){return!!_&&V.hasOwnProperty[L](_,w)}o(O0,"objHasOwnProperty");var v0=B.hasOwn||Jt;function Jt(_,w){return O0(_,w)||!!z0(_,w)}o(Jt,"polyObjHasOwn");function ue(_,w,R){if(_&&ce(_)){for(var O in _)if(v0(_,O)&&w[L](R||_,O,_[O])===-1)break}}o(ue,"objForEachKey");function B0(_,w,R,O){var ae={};return ue(_,function(qe,i0){ae[qe]=w?i0:qe,ae[i0]=R?i0:qe}),O(ae)}o(B0,"_createKeyValueMap");function Ve(_){throw new Error(_)}o(Ve,"throwError");function L0(_){throw new TypeError(_)}o(L0,"throwTypeError");var D0=B.freeze;function G0(_){return _}o(G0,"_doNothing");function hr(_){return _[c]||r}o(hr,"_getProto");var Vr=B.assign,Cr=B.keys;function le(_){return D0&&ue(_,function(w,R){(Se(R)||ce(R))&&D0(R)}),Dr(_)}o(le,"objDeepFreeze");var Dr=D0||G0,Qt=B.getPrototypeOf||hr;function zs(_){return B0(_,1,0,le)}o(zs,"createEnum");function ms(_){var w={};return ue(_,function(R,O){w[R]=O[1],w[O[0]]=O[1]}),le(w)}o(ms,"createSimpleMap");function Gs(_){return ms(_)}o(Gs,"createTypeMap");var Ks=de,wl="__tsUtils$gblCfg",Jl;function D1(){var _;return typeof globalThis!==d&&(_=globalThis),!_&&typeof self!==d&&(_=self),!_&&typeof window!==d&&(_=window),!_&&typeof global!==d&&(_=global),_}o(D1,"_getGlobalValue");function Xl(){if(!Jl){var _=m0(D1).v||{};Jl=_[wl]=_[wl]||{}}return Jl}o(Xl,"_getGlobalConfig");var hn="[object Error]";function Yi(_,w){var R=n,O=V[F][L](_);O===hn&&(_={stack:Ks(_.stack),message:Ks(_.message),name:Ks(_.name)});try{R=JSON.stringify(_,r,w?typeof w===l?w:4:t),R=R&&R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Ks(_)}catch(ae){R=" - "+Yi(ae,w)}return O+": "+R}o(Yi,"dumpObj");var Q,se=Fs,tn=Fs;function Fs(_,w,R){Q=Q||r0[P];var O=w&&w[_];return function(ae){var qe=ae&&ae[_]||O;if(qe||R){var i0=arguments;return(qe||R).apply(ae,qe?Q[L](i0,1):i0)}L0('"'+Ks(_)+'" not defined for '+Yi(ae))}}o(Fs,"_unwrapFunctionWithPoly");var b3=n0.max,C3=tn(P,ve),bs=tn("substring",ve),e1=Fs("substr",ve,Uu);function Uu(_,w,R){return l0(_)&&L0("'polyStrSubstr called with invalid "+Yi(_)),R<0?n:(w=w||0,w<0&&(w=b3(w+_[x],0)),u0(R)?C3(_,w):C3(_,w,w+R))}o(Uu,"polyStrSubstr");function Ld(_,w){return bs(_,0,w)}o(Ld,"strLeft");var qu="_urid",E3;function Ci(){if(!E3){var _=Xl();E3=_.gblSym=_.gblSym||{k:{},s:{}}}return E3}o(Ci,"_globalSymbolRegistry");function $u(_){var w={description:Ks(_),toString:function(){return m+"("+_+")"}};return w[p]=!0,w}o($u,"polyNewSymbol");function Fd(_){var w=Ci();if(!v0(w.k,_)){var R=$u(_),O=Cr(w.s).length;R[qu]=function(){return O+"_"+R[F]()},w.k[_]=R,w.s[R[qu]()]=Ks(_)}return w.k[_]}o(Fd,"polySymbolFor");var Al={e:"enumerable",c:"configurable",v:E,w:"writable",g:"get",s:"set"};function wc(_){var w={};if(w[Al.c]=!0,w[Al.e]=!0,_.l){w.get=function(){return _.l.v};var R=z0(_.l,"v");R&&R.set&&(w.set=function(O){_.l.v=O})}return ue(_,function(O,ae){w[Al[O]]=u0(ae)?w[Al[O]]:ae}),w}o(wc,"_createProp");var t1=B.defineProperty;function Ac(_,w,R){return t1(_,w,wc(R))}o(Ac,"objDefine");var Cs;function Gi(){Cs=Xl()}o(Gi,"_initTestHooks");function Pl(_){var w={};return!Cs&&Gi(),w.b=Cs.lzy,t1(w,"v",{configurable:!0,get:function(){var R=_();return Cs.lzy||t1(w,"v",{value:R}),w.b=Cs.lzy,R}}),w}o(Pl,"getLazy");function Od(_,w){return Pl(function(){var R=m0(_);return R.e?w:R.v})}o(Od,"safeGetLazy");function Pc(_){return t1({toJSON:function(){return _}},"v",{value:_})}o(Pc,"createCachedValue");var A6="window",Rc,T3,Hu,S3;function B7(_){return Pl(function(){return m0(La,[_]).v||t})}o(B7,"lazySafeGetInst");function P6(_){return!Cs&&Gi(),(!Rc||_===!1||Cs.lzy)&&(Rc=Pc(m0(D1).v||r)),Rc.v}o(P6,"getGlobal");function La(_,w){var R=!Rc||w===!1?P6(w):Rc.v;return R&&R[_]?R[_]:_===A6&&T3?T3.v:r}o(La,"getInst");function Md(){return!Cs&&Gi(),(!Hu||Cs.lzy)&&(Hu=Pc(m0(La,["document"]).v)),Hu.v}o(Md,"getDocument");function B1(){return!!Is()}o(B1,"hasWindow");function Is(){return!Cs&&Gi(),(!T3||Cs.lzy)&&(T3=Pc(m0(La,[A6]).v)),T3.v}o(Is,"getWindow");function Ds(){return!!Rl()}o(Ds,"hasNavigator");function Rl(){return!Cs&&Gi(),(!S3||Cs.lzy)&&(S3=Pc(m0(La,["navigator"]).v)),S3.v}o(Rl,"getNavigator");var yl,Ud;function Nc(){(!yl||!yl.b)&&(yl=B7(m),Ud=Od(function(){return yl.v?yl.v.for:t},t))}o(Nc,"_initSymbol");function ju(_,w){return!Cs&&Gi(),(!yl||Cs.lzy)&&Nc(),yl.v?yl.v(_):w?r:$u(_)}o(ju,"newSymbol");function kc(_){return!Cs&&Gi(),(!Ud||!yl||Cs.lzy)&&Nc(),(Ud.v||Fd)(_)}o(kc,"symbolFor");var r1=se("apply");function tl(_,w,R){if(_)for(var O=_[x]>>>0,ae=0;ae<O&&!(ae in _&&w[L](R||_,_[ae],ae,_)===-1);ae++);}o(tl,"arrForEach");var L1=tn(v,r0),Dc=tn("map",r0),R6=tn("reduce",r0),Zl=B.create||Qs;function Qs(_){if(!_)return{};var w=typeof _;w!==a&&w!==s&&L0("Prototype must be an Object or function: "+Yi(_));function R(){}return o(R,"tempFunc"),R[f]=_,new R}o(Qs,"polyObjCreate");var N6;function Bc(_,w){var R=B.setPrototypeOf||function(O,ae){!N6&&(N6=Pl(function(){var qe;return qe={},qe[c]=[],qe instanceof Array})),N6.v?O[c]=ae:ue(ae,function(qe,i0){return O[qe]=i0})};return R(_,w)}o(Bc,"objSetPrototypeOf");function mx(_,w,R){m0(Ac,[w,I,{v:_,c:!0,e:!1}]),w=Bc(w,R);function O(){this.constructor=w,m0(Ac,[this,I,{v:_,c:!0,e:!1}])}return o(O,"__"),w[f]=R===r?Zl(R):(O[f]=R[f],new O),w}o(mx,"_createCustomError");function n1(_,w){w&&(_[I]=w)}o(n1,"_setName");function px(_,w,R){var O=R||Error,ae=O[f][I],qe=Error.captureStackTrace;return mx(_,function(){var i0=this,c0=arguments;try{m0(n1,[O,_]);var b0=r1(O,i0,r0[P][L](c0))||i0;if(b0!==i0){var k0=Qt(i0);k0!==Qt(b0)&&Bc(b0,k0)}return qe&&qe(b0,i0[h]),w&&w(b0,c0),b0}finally{m0(n1,[O,ae])}},O)}o(px,"createCustomError");function F1(){return(Date.now||yx)()}o(F1,"utcNow");function yx(){return new Date().getTime()}o(yx,"polyUtcNow");function rl(_){return o(function(R){return l0(R)&&L0("strTrim called ["+Yi(R)+"]"),R&&R.replace&&(R=R.replace(_,n)),R},"_doTrim")}o(rl,"_createTrimFn");var k6=rl(/^\s+|(?=\s)\s+$/g),Ql=Fs("trim",ve,k6),D6,B6,I3;function bf(_){if(!_||typeof _!==a)return!1;I3||(I3=B1()?Is():!0);var w=!1;if(_!==I3){B6||(D6=Function[f][F],B6=D6[L](B));try{var R=Qt(_);w=!R,w||(O0(R,h)&&(R=R[h]),w=R&&typeof R===s&&D6[L](R)===B6)}catch{}}return w}o(bf,"isPlainObject");var Vu;function qd(){return!Cs&&Gi(),(!Vu||!Vu.b&&Cs.lzy)&&(Vu=B7("performance")),Vu.v}o(qd,"getPerformance");var vx=Fs("endsWith",ve,$d);function $d(_,w,R){t0(_)||L0("'"+Yi(_)+"' is not a string");var O=t0(w)?w:Ks(w),ae=!u0(R)&&R<_[x]?R:_[x];return bs(_,ae-O[x],ae)===O}o($d,"polyStrEndsWith");var w3=tn(v,ve),i1="ref",O1="un"+i1,kr="hasRef",Nl="enabled";function A3(_,w,R){var O,ae=!0,qe=_?w(r):r,i0,c0=o(function(){return ae=!1,qe&&qe[O1]&&qe[O1](),i0},"_unref"),b0=o(function(){return ae=!0,qe&&qe[i1]&&qe[i1](),i0},"_ref"),k0=o(function(){return qe&&qe[kr]?qe[kr]():ae},"_hasRef"),X0=o(function(){return qe=w(qe),ae||c0(),i0},"_refresh"),Wr=o(function(){qe&&R(qe),qe=r},"_cancel"),Hr=o(function(Br){!Br&&qe&&Wr(),Br&&!qe&&X0()},"_setEnabled");return i0=(O={cancel:Wr,refresh:X0},O[kr]=k0,O[i1]=b0,O[O1]=c0,O[Nl]=!1,O),t1(i0,Nl,{get:function(){return!!qe},set:Hr}),{h:i0,dn:function(){qe=r}}}o(A3,"_createTimerHandler");function L6(_,w,R,O){var ae=Se(R),qe=ae?R.length:0,i0=(qe>0?R[0]:ae?t:R)||setTimeout,c0=(qe>1?R[1]:t)||clearTimeout,b0=O[0];O[0]=function(){k0.dn(),r1(b0,_,r0[P][L](arguments))};var k0=A3(w,function(X0){if(X0){if(X0.refresh)return X0.refresh(),X0;r1(c0,_,[X0])}return r1(i0,_,O)},function(X0){r1(c0,_,[X0])});return k0.h}o(L6,"_createTimeoutWith");function xx(_,w){return L6(this,!0,t,r0[P][L](arguments))}o(xx,"scheduleTimeout");var ef=zs,_x=Gs,zu="toLowerCase",P3="blkVal",qo="length",R3="rdOnly",F6="notify",M1="warnToConsole",N3="throwInternal",O6="setDf",M6="watch",Ws="logger",U6="apply",Cf="push",Hd="splice",nl="hdlr",bx="cancel",jd="name",Cx="unload",k3="version",L7="loggingLevelConsole",q6="messageId",D3="message",F7="diagLog",O7="userAgent",$6="split",Vd="nodeType",Gu="replace",M7="logInternalMessage",s1="type",zd="handler",U7="traceId",Ku="spanId",Lc="traceFlags",B3;function H6(_,w){B3||(B3=px("AggregationError",function(O,ae){ae[qo]>1&&(O.errors=ae[1])}));var R=_||"One or more errors occurred.";throw tl(w,function(O,ae){R+=`
`.concat(ae," > ").concat(Yi(O))}),new B3(R,w||[])}o(H6,"throwAggregationError");var q7="function",Ex="object",$7="undefined",Ef="prototype",H7=Object,Gd=H7[Ef],L3="hasOwnProperty",o1=o(function(_){for(var w,R=1,O=arguments.length;R<O;R++){w=arguments[R];for(var ae in w)Gd[L3].call(w,ae)&&(_[ae]=w[ae])}return _},"__objAssignFnImpl"),Fc=Vr||o1,Wu=o(function(_,w){return Wu=H7.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var ae in O)O[L3](ae)&&(R[ae]=O[ae])},Wu(_,w)},"extendStaticsFn");function j6(_,w){typeof w!==q7&&w!==null&&L0("Class extends value "+String(w)+" is not a constructor or null"),Wu(_,w);function R(){this.constructor=_}o(R,"__"),_[Ef]=w===null?Zl(w):(R[Ef]=w[Ef],new R)}o(j6,"__extendsFn");var a1,Kd="constructor",tf="prototype",U1="function",F3="_dynInstFuncs",Wd="_isDynProxy",q1="_dynClass",Yd="_dynCls$",Jd="_dynInstChk",Oc=Jd,O3="_dfOpts",Xd="_unknown_",M3="__proto__",$1="_dyn"+M3,V6="__dynProto$Gbl",Zd="_dynInstProto",Yu="useBaseInst",Ju="setInstFuncs",U3=Object,rf=U3.getPrototypeOf,q3=U3.getOwnPropertyNames,Qd=P6(),Xu=Qd[V6]||(Qd[V6]={o:(a1={},a1[Ju]=!0,a1[Yu]=!0,a1),n:1e3});function e4(_){return _&&(_===U3[tf]||_===Array[tf])}o(e4,"_isObjectOrArrayPrototype");function $3(_){return e4(_)||_===Function[tf]}o($3,"_isObjectArrayOrFunctionPrototype");function Mc(_){var w;if(_){if(rf)return rf(_);var R=_[M3]||_[tf]||(_[Kd]?_[Kd][tf]:null);w=_[$1]||R,O0(_,$1)||(delete _[Zd],w=_[$1]=_[Zd]||_[$1],_[Zd]=R)}return w}o(Mc,"_getObjProto");function t4(_,w){var R=[];if(q3)R=q3(_);else for(var O in _)typeof O=="string"&&O0(_,O)&&R.push(O);if(R&&R.length>0)for(var ae=0;ae<R.length;ae++)w(R[ae])}o(t4,"_forEachProp");function z6(_,w,R){return w!==Kd&&typeof _[w]===U1&&(R||O0(_,w))&&w!==M3&&w!==tf}o(z6,"_isDynamicCandidate");function r4(_){L0("DynamicProto: "+_)}o(r4,"_throwTypeError");function Tx(_){var w=Zl(null);return t4(_,function(R){!w[R]&&z6(_,R,!1)&&(w[R]=_[R])}),w}o(Tx,"_getInstanceFuncs");function H3(_,w){for(var R=_.length-1;R>=0;R--)if(_[R]===w)return!0;return!1}o(H3,"_hasVisited");function il(_,w,R,O){function ae(b0,k0,X0){var Wr=k0[X0];if(Wr[Wd]&&O){var Hr=b0[F3]||{};Hr[Oc]!==!1&&(Wr=(Hr[k0[q1]]||{})[X0]||Wr)}return function(){return Wr.apply(b0,arguments)}}o(ae,"_instFuncProxy");var qe=Zl(null);t4(R,function(b0){qe[b0]=ae(w,R,b0)});for(var i0=Mc(_),c0=[];i0&&!$3(i0)&&!H3(c0,i0);)t4(i0,function(b0){!qe[b0]&&z6(i0,b0,!rf)&&(qe[b0]=ae(w,i0,b0))}),c0.push(i0),i0=Mc(i0);return qe}o(il,"_getBaseFuncs");function Sx(_,w,R,O){var ae=null;if(_&&O0(R,q1)){var qe=_[F3]||Zl(null);if(ae=(qe[R[q1]]||Zl(null))[w],ae||r4("Missing ["+w+"] "+U1),!ae[Jd]&&qe[Oc]!==!1){for(var i0=!O0(_,w),c0=Mc(_),b0=[];i0&&c0&&!$3(c0)&&!H3(b0,c0);){var k0=c0[w];if(k0){i0=k0===O;break}b0.push(c0),c0=Mc(c0)}try{i0&&(_[w]=ae),ae[Jd]=1}catch{qe[Oc]=!1}}}return ae}o(Sx,"_getInstFunc");function j7(_,w,R){var O=w[_];return O===R&&(O=Mc(w)[_]),typeof O!==U1&&r4("["+_+"] is not a "+U1),O}o(j7,"_getProtoFunc");function V7(_,w,R,O,ae){function qe(b0,k0){var X0=o(function(){var Wr=Sx(this,k0,b0,X0)||j7(k0,b0,X0);return Wr.apply(this,arguments)},"dynProtoProxy");return X0[Wd]=1,X0}if(o(qe,"_createDynamicPrototype"),!e4(_)){var i0=R[F3]=R[F3]||Zl(null);if(!e4(i0)){var c0=i0[w]=i0[w]||Zl(null);i0[Oc]!==!1&&(i0[Oc]=!!ae),e4(c0)||t4(R,function(b0){z6(R,b0,!1)&&R[b0]!==O[b0]&&(c0[b0]=R[b0],delete R[b0],(!O0(_,b0)||_[b0]&&!_[b0][Wd])&&(_[b0]=qe(_,b0)))})}}}o(V7,"_populatePrototype");function j3(_,w){if(rf){for(var R=[],O=Mc(w);O&&!$3(O)&&!H3(R,O);){if(O===_)return!0;R.push(O),O=Mc(O)}return!1}return!0}o(j3,"_checkPrototype");function V3(_,w){return O0(_,tf)?_.name||w||Xd:((_||{})[Kd]||{}).name||w||Xd}o(V3,"_getObjName");function G6(_,w,R,O){O0(_,tf)||r4("theClass is an invalid class definition.");var ae=_[tf];j3(ae,w)||r4("["+V3(_)+"] not in hierarchy of ["+V3(w)+"]");var qe=null;O0(ae,q1)?qe=ae[q1]:(qe=Yd+V3(_,"_")+"$"+Xu.n,Xu.n++,ae[q1]=qe);var i0=G6[O3],c0=!!i0[Yu];c0&&O&&O[Yu]!==void 0&&(c0=!!O[Yu]);var b0=Tx(w),k0=il(ae,w,b0,c0);R(w,k0);var X0=!!rf&&!!i0[Ju];X0&&O&&(X0=!!O[Ju]),V7(ae,qe,w,b0,X0!==!1)}o(G6,"dynamicProto"),G6[O3]=Xu.o;var z7=void 0,Bs="",H1="Not dynamic - ",K6=/-([a-z])/g,z3=/([^\w\d_$])/g,G7=/^(\d+[\w\d_$])/;function n4(_){return!l0(_)}o(n4,"isNotNullOrUndefined");function W6(_){var w=_;return w&&t0(w)&&(w=w[Gu](K6,function(R,O){return O.toUpperCase()}),w=w[Gu](z3,"_"),w=w[Gu](G7,function(R,O){return"_"+O})),w}o(W6,"normalizeJsName");function G3(_,w){return _&&w?w3(_,w)!==-1:!1}o(G3,"strContains");function K3(_){return _&&_.toISOString()||""}o(K3,"toISOString");function gn(_){return C0(_)?_[jd]:Bs}o(gn,"getExceptionName");function i4(_){return function(){function w(){var R=this;_&&ue(_,function(O,ae){R[O]=ae})}return o(w,"class_1"),w}()}o(i4,"createClassFromInterface");var s4="console",W3="JSON",Y3="crypto",Zu="msCrypto",l1="msie",Os="trident/",Qu=null,Xi=null,Uc=null;function K7(){return typeof console!==$7?console:La(s4)}o(K7,"getConsole");function qc(){return!!(typeof JSON===Ex&&JSON||La(W3)!==null)}o(qc,"hasJSON");function J3(){return qc()?JSON||La(W3):null}o(J3,"getJSON");function j1(){return La(Y3)}o(j1,"getCrypto");function Tf(){return La(Zu)}o(Tf,"getMsCrypto");function X3(){var _=Rl();if(_&&(_[O7]!==Xi||Qu===null)){Xi=_[O7];var w=(Xi||Bs)[zu]();Qu=G3(w,l1)||G3(w,Os)}return Qu}o(X3,"isIE");function W7(_){return(Uc===null||_===!1)&&(Uc=Ds()&&!!Rl().sendBeacon),Uc}o(W7,"isBeaconsSupported");function V1(_,w){if(_)for(var R=0;R<_[qo];R++){var O=_[R];if(O[jd]&&O[jd]===w)return O}return{}}o(V1,"_getNamedValue");function e5(_){var w=Md();return w&&_?V1(w.querySelectorAll("meta"),_).content:null}o(e5,"findMetaTag");function Fa(_){var w,R=qd();if(R){var O=R.getEntriesByType("navigation")||[];w=V1((O[qo]>0?O[0]:{}).serverTiming,_).description}return w}o(Fa,"findNamedServerTiming");var Y6=4294967296,kl=4294967295,Z3=123456789,Q3=987654321,$c=!1,t5=Z3,Dl=Q3;function o4(_){_<0&&(_>>>=0),t5=Z3+_&kl,Dl=Q3-_&kl,$c=!0}o(o4,"_mwcSeed");function Y7(){try{var _=F1()&2147483647;o4((Math.random()*Y6^_)+_)}catch{}}o(Y7,"_autoSeedMwc");function J7(_){return _>0?Math.floor(nf()/kl*(_+1))>>>0:0}o(J7,"randomValue");function nf(_){var w=0,R=j1()||Tf();return R&&R.getRandomValues&&(w=R.getRandomValues(new Uint32Array(1))[0]&kl),w===0&&X3()&&($c||Y7(),w=f1()&kl),w===0&&(w=Math.floor(Y6*Math.random()|0)),_||(w>>>=0),w}o(nf,"random32");function f1(_){Dl=36969*(Dl&65535)+(Dl>>16)&kl,t5=18e3*(t5&65535)+(t5>>16)&kl;var w=(Dl<<16)+(t5&65535)>>>0&kl|0;return _||(w>>>=0),w}o(f1,"mwcRandom32");function a4(_){_===void 0&&(_=22);for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=nf()>>>0,O=0,ae=Bs;ae[qo]<_;)O++,ae+=w.charAt(R&63),R>>>=6,O===5&&(R=(nf()<<2&4294967295|R&3)>>>0,O=0);return ae}o(a4,"newId");var Hc="3.0.5",r5="."+a4(6),c1=0;function l4(_){return _[Vd]===1||_[Vd]===9||!+_[Vd]}o(l4,"_canAcceptData");function e2(_,w){var R=w[_.id];if(!R){R={};try{l4(w)&&Ac(w,_.id,{e:!1,v:R})}catch{}}return R}o(e2,"_getCache");function sl(_,w){return w===void 0&&(w=!1),W6(_+c1+++(w?"."+Hc:Bs)+r5)}o(sl,"createUniqueNamespace");function t2(_){var w={id:sl("_aiData-"+(_||Bs)+"."+Hc),accept:function(R){return l4(R)},get:function(R,O,ae,qe){var i0=R[w.id];return i0?i0[W6(O)]:(qe&&(i0=e2(w,R),i0[W6(O)]=ae),ae)},kill:function(R,O){if(R&&R[O])try{delete R[O]}catch{}}};return w}o(t2,"createElmNodeData");function n5(_){return _&&ce(_)&&(_.isVal||_.fb||v0(_,"v")||v0(_,"mrg")||v0(_,"ref")||_.set)}o(n5,"_isConfigDefaults");function i5(_,w,R){var O,ae=R.dfVal||N0;if(w&&R.fb){var qe=R.fb;Se(qe)||(qe=[qe]);for(var i0=0;i0<qe[qo];i0++){var c0=qe[i0],b0=w[c0];if(ae(b0)?O=b0:_&&(b0=_.cfg[c0],ae(b0)&&(O=b0),_.set(_.cfg,Ks(c0),b0)),ae(O))break}}return!ae(O)&&ae(R.v)&&(O=R.v),O}o(i5,"_getDefault");function r2(_,w,R){var O=R;if(R&&n5(R)&&(O=i5(_,w,R)),O){n5(O)&&(O=r2(_,w,O));var ae;Se(O)?(ae=[],ae[qo]=O[qo]):bf(O)&&(ae={}),ae&&(ue(O,function(qe,i0){i0&&n5(i0)&&(i0=r2(_,w,i0)),ae[qe]=i0}),O=ae)}return O}o(r2,"_resolveDefaultValue");function jc(_,w,R,O){var ae,qe,i0,c0=O,b0,k0,X0,Wr;n5(c0)?(ae=c0.isVal,qe=c0.set,X0=c0[R3],Wr=c0[P3],b0=c0.mrg,k0=c0.ref,!k0&&u0(k0)&&(k0=!!b0),i0=i5(_,w,c0)):i0=O,Wr&&_[P3](w,R);var Hr,Br=!0,fr=w[R];(fr||!l0(fr))&&(Hr=fr,Br=!1,ae&&Hr!==i0&&!ae(Hr)&&(Hr=i0,Br=!0),qe&&(Hr=qe(Hr,i0,w),Br=Hr===i0)),Br?i0?Hr=r2(_,w,i0):Hr=i0:(bf(Hr)||Se(i0))&&b0&&i0&&(bf(i0)||Se(i0))&&ue(i0,function(mn,Er){jc(_,Hr,mn,Er)}),_.set(w,R,Hr),k0&&_.ref(w,R),X0&&_[R3](w,R)}o(jc,"_applyDefaultValue");var z1=kc("[[ai_dynCfg_1]]"),Sf=kc("[[ai_blkDynCfg_1]]"),J6=kc("[[ai_frcDynCfg_1]]");function f4(_){if(_){var w;if(Se(_)?(w=[],w[qo]=_[qo]):bf(_)&&(w={}),w)return ue(_,function(R,O){w[R]=f4(O)}),w}return _}o(f4,"_cfgDeepCopy");function s5(_){if(_){var w=_[z1]||_;if(w.cfg&&(w.cfg===_||w.cfg[z1]===w))return w}return null}o(s5,"getDynamicConfigHandler");function If(_){if(_&&(bf(_)||Se(_)))try{_[Sf]=!0}catch{}return _}o(If,"blockDynamicConversion");function n2(_,w,R){var O=!1;return R&&!_[w.blkVal]&&(O=R[J6],!O&&!R[Sf]&&(O=bf(R)||Se(R))),O}o(n2,"_canMakeDynamic");function X6(_){L0("InvalidAccess:"+_)}o(X6,"throwInvalidAccess");var X7=["push","pop","shift","unshift","splice"],o5=o(function(_,w,R,O){_&&_[N3](3,108,"".concat(R," [").concat(w,"] failed - ")+Yi(O))},"_throwDynamicError");function Z6(_,w,R){Se(w)&&tl(X7,function(O){var ae=w[O];w[O]=function(){for(var qe=[],i0=0;i0<arguments.length;i0++)qe[i0]=arguments[i0];var c0=ae[U6](this,qe);return s2(_,w,R,"Patching"),c0}})}o(Z6,"_patchArray");function c4(_,w){var R=z0(_,w);return R&&R.get}o(c4,"_getOwnPropGetter");function u4(_,w,R,O){var ae={n:R,h:[],trk:function(k0){k0&&k0.fn&&(L1(ae.h,k0)===-1&&ae.h[Cf](k0),_.trk(k0,ae))},clr:function(k0){var X0=L1(ae.h,k0);X0!==-1&&ae.h[Hd](X0,1)}},qe=!0,i0=!1;function c0(){qe&&(i0=i0||n2(c0,_,O),O&&!O[z1]&&i0&&(O=s2(_,O,R,"Converting")),qe=!1);var k0=_.act;return k0&&ae.trk(k0),O}o(c0,"_getProperty"),c0[_.prop]={chng:function(){_.add(ae)}};function b0(k0){if(O!==k0){c0[_.ro]&&!_.upd&&X6("["+R+"] is read-only:"+Yi(w)),qe&&(i0=i0||n2(c0,_,O),qe=!1);var X0=i0&&c0[_.rf];if(i0)if(X0){ue(O,function(Hr){O[Hr]=k0?k0[Hr]:z7});try{ue(k0,function(Hr,Br){i2(_,O,Hr,Br)}),k0=O}catch(Hr){o5((_.hdlr||{})[Ws],R,"Assigning",Hr),i0=!1}}else O&&O[z1]&&ue(O,function(Hr){var Br=c4(O,Hr);if(Br){var fr=Br[_.prop];fr&&fr.chng()}});if(k0!==O){var Wr=k0&&n2(c0,_,k0);!X0&&Wr&&(k0=s2(_,k0,R,"Converting")),O=k0,i0=Wr}_.add(ae)}}o(b0,"_setProperty"),Ac(w,ae.n,{g:c0,s:b0})}o(u4,"_createDynamicProperty");function i2(_,w,R,O){if(w){var ae=c4(w,R),qe=ae&&!!ae[_.prop];qe?w[R]=O:u4(_,w,R,O)}return w}o(i2,"_setDynamicProperty");function Q6(_,w,R,O){if(w){var ae=c4(w,R),qe=ae&&!!ae[_.prop],i0=O&&O[0],c0=O&&O[1],b0=O&&O[2];if(!qe){if(b0)try{If(w)}catch(k0){o5((_.hdlr||{})[Ws],R,"Blocking",k0)}try{i2(_,w,R,w[R]),ae=c4(w,R)}catch(k0){o5((_.hdlr||{})[Ws],R,"State",k0)}}i0&&(ae[_.rf]=i0),c0&&(ae[_.ro]=c0),b0&&(ae[_.blkVal]=!0)}return w}o(Q6,"_setDynamicPropertyState");function s2(_,w,R,O){try{ue(w,function(ae,qe){i2(_,w,ae,qe)}),w[z1]||(t1(w,z1,{get:function(){return _[nl]}}),Z6(_,w,R))}catch(ae){o5((_.hdlr||{})[Ws],R,O,ae)}return w}o(s2,"_makeDynamicObject");var a5="[[ai_",G1="]]";function Ix(_){var w,R=ju(a5+"get"+_.uid+G1),O=ju(a5+"ro"+_.uid+G1),ae=ju(a5+"rf"+_.uid+G1),qe=ju(a5+"blkVal"+_.uid+G1),i0=ju(a5+"dtl"+_.uid+G1),c0=null,b0=null,k0;function X0(fr,mn){var Er=k0.act;try{k0.act=fr,fr&&fr[i0]&&(tl(fr[i0],function(ln){ln.clr(fr)}),fr[i0]=[]),mn({cfg:_.cfg,set:_.set.bind(_),setDf:_[O6].bind(_),ref:_.ref.bind(_),rdOnly:_[R3].bind(_)})}catch(ln){var Oi=_[Ws];throw Oi&&Oi[N3](1,107,Yi(ln)),ln}finally{k0.act=Er||null}}o(X0,"_useHandler");function Wr(){if(c0){var fr=c0;c0=null,b0&&b0[bx](),b0=null;var mn=[];if(tl(fr,function(Er){if(Er&&(Er[i0]&&(tl(Er[i0],function(Oi){Oi.clr(Er)}),Er[i0]=null),Er.fn))try{X0(Er,Er.fn)}catch(Oi){mn[Cf](Oi)}}),c0)try{Wr()}catch(Er){mn[Cf](Er)}mn[qo]>0&&H6("Watcher error(s): ",mn)}}o(Wr,"_notifyWatchers");function Hr(fr){if(fr&&fr.h[qo]>0){c0||(c0=[]),b0||(b0=xx(function(){b0=null,Wr()},0));for(var mn=0;mn<fr.h[qo];mn++){var Er=fr.h[mn];Er&&L1(c0,Er)===-1&&c0[Cf](Er)}}}o(Hr,"_addWatcher");function Br(fr,mn){if(fr){var Er=fr[i0]=fr[i0]||[];L1(Er,mn)===-1&&Er[Cf](mn)}}return o(Br,"_trackHandler"),k0=(w={prop:R,ro:O,rf:ae},w[P3]=qe,w[nl]=_,w.add=Hr,w[F6]=Wr,w.use=X0,w.trk=Br,w),k0}o(Ix,"_createState");function d4(_,w){var R={fn:w,rm:function(){R.fn=null,_=null,w=null}};return _.use(R,w),R}o(d4,"_createAndUseHandler");function Z7(_,w,R){var O,ae=s5(w);if(ae)return ae;var qe=sl("dyncfg",!0),i0=w&&R!==!1?w:f4(w),c0;function b0(){c0[F6]()}o(b0,"_notifyWatchers");function k0(Oi,ln,Lr){try{Oi=i2(c0,Oi,ln,Lr)}catch(ws){o5(_,ln,"Setting value",ws)}return Oi[ln]}o(k0,"_setValue");function X0(Oi){return d4(c0,Oi)}o(X0,"_watch");function Wr(Oi,ln){c0.use(null,function(Lr){var ws=c0.upd;try{u0(ln)||(c0.upd=ln),Oi(Lr)}finally{c0.upd=ws}})}o(Wr,"_block");function Hr(Oi,ln){var Lr;return Q6(c0,Oi,ln,(Lr={},Lr[0]=!0,Lr))[ln]}o(Hr,"_ref");function Br(Oi,ln){var Lr;return Q6(c0,Oi,ln,(Lr={},Lr[1]=!0,Lr))[ln]}o(Br,"_rdOnly");function fr(Oi,ln){var Lr;return Q6(c0,Oi,ln,(Lr={},Lr[2]=!0,Lr))[ln]}o(fr,"_blkPropValue");function mn(Oi,ln){return ln&&ue(ln,function(Lr,ws){jc(Er,Oi,Lr,ws)}),Oi}o(mn,"_applyDefaults");var Er=(O={uid:null,cfg:i0},O[Ws]=_,O[F6]=b0,O.set=k0,O[O6]=mn,O[M6]=X0,O.ref=Hr,O[R3]=Br,O[P3]=fr,O._block=Wr,O);return Ac(Er,"uid",{c:!1,e:!1,w:!1,v:qe}),c0=Ix(Er),s2(c0,i0,"config","Creating"),Er}o(Z7,"_createDynamicHandler");function wx(_,w){_?(_[M1](w),_[N3](2,108,w)):X6(w)}o(wx,"_logInvalidAccess");function Q7(_,w,R,O){var ae=Z7(R,_||{},O);return w&&ae[O6](ae.cfg,w),ae}o(Q7,"createDynamicConfig");function h4(_,w,R){var O=_[z1]||_;return O.cfg&&(O.cfg===_||O.cfg[z1]===O)?O[M6](w):(wx(R,H1+Yi(_)),Q7(_,null,R)[M6](w))}o(h4,"onConfigChange");var o2=null;function Ax(){var _=La("Microsoft");return _&&(o2=_.ApplicationInsights),o2}o(Ax,"_getExtensionNamespace");function Px(_){var w=o2;return!w&&_.disableDbgExt!==!0&&(w=o2||Ax()),w?w.ChromeDbgExt:null}o(Px,"getDebugExt");var l5,eg="warnToConsole",tg="AI (Internal): ",eh="AI: ",Rx="AITR_",th={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},f5=(l5={},l5[0]=null,l5[1]="errorToConsole",l5[2]=eg,l5[3]="debugToConsole",l5);function rg(_){return _?'"'+_[Gu](/\"/g,Bs)+'"':Bs}o(rg,"_sanitizeDiagnosticText");function Bl(_,w){var R=K7();if(R){var O="log";R[_]&&(O=_),f0(R[O])&&R[O](w)}}o(Bl,"_logToConsole");var Di=function(){function _(w,R,O,ae){O===void 0&&(O=!1);var qe=this;qe[q6]=w,qe[D3]=(O?eh:tg)+w;var i0=Bs;qc()&&(i0=J3().stringify(ae));var c0=(R?" message:"+rg(R):Bs)+(ae?" props:"+rg(i0):Bs);qe[D3]+=c0}return o(_,"_InternalLogMessage"),_.dataType="MessageData",_}();function Vc(_,w){return(_||{})[Ws]||new Ms(w)}o(Vc,"safeGetLogger");var Ms=function(){function _(w){this.identifier="DiagnosticLogger",this.queue=[];var R=0,O={},ae,qe,i0,c0,b0;G6(_,this,function(k0){b0=Wr(w||{}),k0.consoleLoggingLevel=function(){return ae},k0[N3]=function(fr,mn,Er,Oi,ln){ln===void 0&&(ln=!1);var Lr=new Di(mn,Er,ln,Oi);if(c0)throw Yi(Lr);var ws=f5[fr]||eg;if(u0(Lr[D3]))Br("throw"+(fr===1?"Critical":"Warning"),Lr);else{if(ln){var N5=+Lr[q6];!O[N5]&&ae>=fr&&(k0[ws](Lr[D3]),O[N5]=!0)}else ae>=fr&&k0[ws](Lr[D3]);X0(fr,Lr)}},k0.debugToConsole=function(fr){Bl("debug",fr),Br("warning",fr)},k0[M1]=function(fr){Bl("warn",fr),Br("warning",fr)},k0.errorToConsole=function(fr){Bl("error",fr),Br("error",fr)},k0.resetInternalMessageCount=function(){R=0,O={}},k0[M7]=X0,k0[Cx]=function(fr){b0&&b0.rm(),b0=null};function X0(fr,mn){if(!Hr()){var Er=!0,Oi=Rx+mn[q6];if(O[Oi]?Er=!1:O[Oi]=!0,Er&&(fr<=qe&&(k0.queue[Cf](mn),R++,Br(fr===1?"error":"warn",mn)),R===i0)){var ln="Internal events throttle limit per PageView reached for this app.",Lr=new Di(23,ln,!1);k0.queue[Cf](Lr),fr===1?k0.errorToConsole(ln):k0[M1](ln)}}}o(X0,"_logInternalMessage");function Wr(fr){return h4(Q7(fr,th,k0).cfg,function(mn){var Er=mn.cfg;ae=Er[L7],qe=Er.loggingLevelTelemetry,i0=Er.maxMessageLimit,c0=Er.enableDebug})}o(Wr,"_setDefaultsFromConfig");function Hr(){return R>=i0}o(Hr,"_areInternalMessagesThrottled");function Br(fr,mn){var Er=Px(w||{});Er&&Er[F7]&&Er[F7](fr,mn)}o(Br,"_debugExtMsg")})}return o(_,"DiagnosticLogger"),_.__ieDyn=1,_}();function rh(_){return _||new Ms}o(rh,"_getLogger");function Oa(_,w,R,O,ae,qe){qe===void 0&&(qe=!1),rh(_)[N3](w,R,O,ae,qe)}o(Oa,"_throwInternal");function zc(){for(var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],w=Bs,R,O=0;O<4;O++)R=nf(),w+=_[R&15]+_[R>>4&15]+_[R>>8&15]+_[R>>12&15]+_[R>>16&15]+_[R>>20&15]+_[R>>24&15]+_[R>>28&15];var ae=_[8+(nf()&3)|0];return e1(w,0,8)+e1(w,9,4)+"4"+e1(w,13,3)+ae+e1(w,16,3)+e1(w,19,12)}o(zc,"generateW3CId");var c5=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Ll="00",u5="ff",Gc="00000000000000000000000000000000",K1="0000000000000000",a2=1;function Ma(_,w,R){return _&&_[qo]===w&&_!==R?!!_.match(/^[\da-f]*$/i):!1}o(Ma,"_isValid");function l2(_,w,R){return Ma(_,w)?_:R}o(l2,"_formatValue");function g4(_){(isNaN(_)||_<0||_>255)&&(_=1);for(var w=_.toString(16);w[qo]<2;)w="0"+w;return w}o(g4,"_formatFlags");function nh(_,w,R,O){var ae;return ae={},ae[k3]=Ma(O,2,u5)?O:Ll,ae[U7]=sh(_)?_:zc(),ae[Ku]=oh(w)?w:Ld(zc(),16),ae.traceFlags=R>=0&&R<=255?R:1,ae}o(nh,"createTraceParent");function ih(_,w){var R;if(!_||(Se(_)&&(_=_[0]||""),!_||!t0(_)||_[qo]>8192))return null;if(_.indexOf(",")!==-1){var O=_[$6](",");_=O[w>0&&O[qo]>w?w:0]}var ae=c5.exec(Ql(_));return!ae||ae[1]===u5||ae[2]===Gc||ae[3]===K1?null:(R={version:(ae[1]||Bs)[zu](),traceId:(ae[2]||Bs)[zu](),spanId:(ae[3]||Bs)[zu]()},R[Lc]=parseInt(ae[4],16),R)}o(ih,"parseTraceParent");function sh(_){return Ma(_,32,Gc)}o(sh,"isValidTraceId");function oh(_){return Ma(_,16,K1)}o(oh,"isValidSpanId");function ng(_){return!(!_||!Ma(_[k3],2,u5)||!Ma(_[U7],32,Gc)||!Ma(_[Ku],16,K1)||!Ma(g4(_[Lc]),2))}o(ng,"isValidTraceParent");function ah(_){return ng(_)?(_[Lc]&a2)===a2:!1}o(ah,"isSampledFlag");function lh(_){if(_){var w=g4(_[Lc]);Ma(w,2)||(w="01");var R=_[k3]||Ll;return R!=="00"&&R!=="ff"&&(R=Ll),"".concat(R.toLowerCase(),"-").concat(l2(_.traceId,32,Gc).toLowerCase(),"-").concat(l2(_.spanId,16,K1).toLowerCase(),"-").concat(w.toLowerCase())}return""}o(lh,"formatTraceParent");function xa(_){var w="traceparent",R=ih(e5(w),_);return R||(R=ih(Fa(w),_)),R}o(xa,"findW3cTraceParent");var f2="on",Ua="attachEvent",W1="addEventListener",ig="detachEvent",sg="removeEventListener",d5="events";sl("aiEvtPageHide"),sl("aiEvtPageShow");var fh=/\.[\.]+/g,Nx=/[\.]+$/,og=1,c2=t2("events"),kx=/^([^.]*)(?:\.(.+)|)/;function ag(_){return _&&_[Gu]?_[Gu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Bs):_}o(ag,"_normalizeNamespace");function ch(_,w){var R;if(w){var O=Bs;Se(w)?(O=Bs,tl(w,function(qe){qe=ag(qe),qe&&(qe[0]!=="."&&(qe="."+qe),O+=qe)})):O=ag(w),O&&(O[0]!=="."&&(O="."+O),_=(_||Bs)+O)}var ae=kx.exec(_||Bs)||[];return R={},R[s1]=ae[1],R.ns=(ae[2]||Bs).replace(fh,".").replace(Nx,Bs)[$6](".").sort().join("."),R}o(ch,"_getEvtNamespace");function uh(_,w,R){R===void 0&&(R=!0);var O=c2.get(_,d5,{},R),ae=O[w];return ae||(ae=O[w]=[]),ae}o(uh,"_getRegisteredEvents");function lg(_,w,R,O){_&&w&&w[s1]&&(_[sg]?_[sg](w[s1],R,O):_[ig]&&_[ig](f2+w[s1],R))}o(lg,"_doDetach");function Dx(_,w,R,O){var ae=!1;return _&&w&&w[s1]&&R&&(_[W1]?(_[W1](w[s1],R,O),ae=!0):_[Ua]&&(_[Ua](f2+w[s1],R),ae=!0)),ae}o(Dx,"_doAttach");function m4(_,w,R,O){for(var ae=w[qo];ae--;){var qe=w[ae];qe&&(!R.ns||R.ns===qe.evtName.ns)&&(!O||O(qe))&&(lg(_,qe.evtName,qe[zd],qe.capture),w[Hd](ae,1))}}o(m4,"_doUnregister");function dh(_,w,R){if(w[s1])m4(_,uh(_,w[s1]),w,R);else{var O=c2.get(_,d5,{});ue(O,function(ae,qe){m4(_,qe,w,R)}),Cr(O)[qo]===0&&c2.kill(_,d5)}}o(dh,"_unregisterEvents");function fg(_,w){var R;return w?(Se(w)?R=[_].concat(w):R=[_,w],R=ch("xx",R).ns[$6](".")):R=_,R}o(fg,"mergeEvtNamespace");function p4(_,w,R,O,ae){var qe;ae===void 0&&(ae=!1);var i0=!1;if(_)try{var c0=ch(w,O);if(i0=Dx(_,c0,R,ae),i0&&c2.accept(_)){var b0=(qe={guid:og++,evtName:c0},qe[zd]=R,qe.capture=ae,qe);uh(_,c0.type)[Cf](b0)}}catch{}return i0}o(p4,"eventOn");function hh(_,w,R,O,ae){if(ae===void 0&&(ae=!1),_)try{var qe=ch(w,O),i0=!1;dh(_,qe,function(c0){return qe.ns&&!R||c0[zd]===R?(i0=!0,!0):!1}),i0||lg(_,qe,R,ae)}catch{}}o(hh,"eventOff");var Bx="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",h5="sampleRate",gh="ProcessLegacy",cg="http.method",mh="https://dc.services.visualstudio.com",y4="/v2/track",vl="not_specified",wf="iKey",ug=_x({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),g5="split",zr="length",m5="toLowerCase",Af="ingestionendpoint",Kc="toString",u2="push",v4="removeItem",Fl="name",ol="message",Wc="count",x4="preTriggerDate",_4="disabled",Yc="interval",p5="daysOfMonth",ph="date",yh="getUTCDate",d2="stringify",b4="pathname",dg="correlationHeaderExcludePatterns",h2="extensionConfig",y5="exceptions",sf="parsedStack",of="properties",u1="measurements",Ol="sizeInBytes",Pf="typeName",Y1="severityLevel",C4="problemGroup",g2="isManual",E4="CreateFromInterface",xl="assembly",J1="fileName",T4="hasFullStack",m2="level",v5="method",p2="line",x5="duration",vh="receivedResponse";function xh(_,w,R){var O=w[zr],ae=_5(_,w);if(ae[zr]!==O){for(var qe=0,i0=ae;R[i0]!==void 0;)qe++,i0=bs(ae,0,147)+hg(qe);ae=i0}return ae}o(xh,"dataSanitizeKeyAndAddUniqueness");function _5(_,w){var R;return w&&(w=Ql(Ks(w)),w[zr]>150&&(R=bs(w,0,150),Oa(_,2,57,"name is too long.  It has been truncated to 150 characters.",{name:w},!0))),R||w}o(_5,"dataSanitizeKey");function _a(_,w,R){R===void 0&&(R=1024);var O;return w&&(R=R||1024,w=Ql(Ks(w)),w[zr]>R&&(O=bs(w,0,R),Oa(_,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:w},!0))),O||w}o(_a,"dataSanitizeString");function Jc(_,w){return Xc(_,w,2048,66)}o(Jc,"dataSanitizeUrl");function _h(_,w){var R;return w&&w[zr]>32768&&(R=bs(w,0,32768),Oa(_,2,56,"message is too long, it has been truncated to 32768 characters.",{message:w},!0)),R||w}o(_h,"dataSanitizeMessage");function y2(_,w){var R;if(w){var O=""+w;O[zr]>32768&&(R=bs(O,0,32768),Oa(_,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:w},!0))}return R||w}o(y2,"dataSanitizeException");function Rf(_,w){if(w){var R={};ue(w,function(O,ae){if(ce(ae)&&qc())try{ae=J3()[d2](ae)}catch(qe){Oa(_,2,49,"custom property is not valid",{exception:qe},!0)}ae=_a(_,ae,8192),O=xh(_,O,R),R[O]=ae}),w=R}return w}o(Rf,"dataSanitizeProperties");function af(_,w){if(w){var R={};ue(w,function(O,ae){O=xh(_,O,R),R[O]=ae}),w=R}return w}o(af,"dataSanitizeMeasurements");function b5(_,w){return w&&Xc(_,w,128,69)[Kc]()}o(b5,"dataSanitizeId");function Xc(_,w,R,O){var ae;return w&&(w=Ql(Ks(w)),w[zr]>R&&(ae=bs(w,0,R),Oa(_,2,O,"input is too long, it has been truncated to "+R+" characters.",{data:w},!0))),ae||w}o(Xc,"dataSanitizeInput");function hg(_){var w="00"+_;return e1(w,w[zr]-3)}o(hg,"dsPadNumber");var gg=Md()||{},mg=0,Lx=[null,null,null,null,null];function ba(_){var w=mg,R=Lx,O=R[w];return gg.createElement?R[w]||(O=R[w]=gg.createElement("a")):O={host:yg(_,!0)},O.href=_,w++,w>=R[zr]&&(w=0),mg=w,O}o(ba,"urlParseUrl");function C5(_){var w,R=ba(_);return R&&(w=R.href),w}o(C5,"urlGetAbsoluteUrl");function E5(_){var w,R=ba(_);return R&&(w=R[b4]),w}o(E5,"urlGetPathName");function pg(_,w){return _?_.toUpperCase()+" "+w:w}o(pg,"urlGetCompleteUrl");function yg(_,w){var R=bh(_,w)||"";if(R){var O=R.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(O!=null&&O[zr]>3&&t0(O[2])&&O[2][zr]>0)return O[2]+(O[3]||"")}return R}o(yg,"urlParseHost");function bh(_,w){var R=null;if(_){var O=_.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(O!=null&&O[zr]>2&&t0(O[2])&&O[2][zr]>0&&(R=O[2]||"",w&&O[zr]>2)){var ae=(O[1]||"")[m5](),qe=O[3]||"";(ae==="http"&&qe===":80"||ae==="https"&&qe===":443")&&(qe=""),R+=qe}}return R}o(bh,"urlParseFullHost");var Fx=[mh+y4,"https://breeze.aimon.applicationinsights.io"+y4,"https://dc-int.services.visualstudio.com"+y4],v2="cid-v1:";function Nf(_){return L1(Fx,_[m5]())!==-1}o(Nf,"isInternalApplicationInsightsEndpoint");function Ch(_){v2=_}o(Ch,"correlationIdSetPrefix");function S4(){return v2}o(S4,"correlationIdGetPrefix");function I4(_,w,R){if(!w||_&&_.disableCorrelationHeaders)return!1;if(_&&_[dg]){for(var O=0;O<_.correlationHeaderExcludePatterns[zr];O++)if(_[dg][O].test(w))return!1}var ae=ba(w).host[m5]();if(ae&&(w3(ae,":443")!==-1||w3(ae,":80")!==-1)&&(ae=(bh(w,!0)||"")[m5]()),(!_||!_.enableCorsCorrelation)&&ae&&ae!==R)return!1;var qe=_&&_.correlationHeaderDomains;if(qe){var i0;if(tl(qe,function(k0){var X0=new RegExp(k0.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));i0=i0||X0.test(ae)}),!i0)return!1}var c0=_&&_.correlationHeaderExcludedDomains;if(!c0||c0[zr]===0)return!0;for(var O=0;O<c0[zr];O++){var b0=new RegExp(c0[O].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(b0.test(ae))return!1}return ae&&ae[zr]>0}o(I4,"correlationIdCanIncludeCorrelationHeader");function Ox(_){if(_){var w=vg(_,ug[1]);if(w&&w!==v2)return w}}o(Ox,"correlationIdGetCorrelationContext");function vg(_,w){if(_)for(var R=_[g5](","),O=0;O<R[zr];++O){var ae=R[O][g5]("=");if(ae[zr]===2&&ae[0]===w)return ae[1]}}o(vg,"correlationIdGetCorrelationContextValue");function xg(_,w,R,O){var ae,qe=O,i0=O;if(w&&w[zr]>0){var c0=ba(w);if(ae=c0.host,!qe)if(c0[b4]!=null){var b0=c0.pathname[zr]===0?"/":c0[b4];b0.charAt(0)!=="/"&&(b0="/"+b0),i0=c0[b4],qe=_a(_,R?R+" "+b0:b0)}else qe=_a(_,w)}else ae=O,qe=O;return{target:ae,name:qe,data:i0}}o(xg,"AjaxHelperParseDependencyPath");function Mx(){var _=qd();if(_&&_.now&&_.timing){var w=_.now()+_.timing.navigationStart;if(w>0)return w}return F1()}o(Mx,"dateTimeUtilsNow");function T5(_,w){var R=null;return _!==0&&w!==0&&!l0(_)&&!l0(w)&&(R=w-_),R}o(T5,"dateTimeUtilsDuration");function _g(_,w){var R=_||{};return{getName:function(){return R[Fl]},setName:function(O){w&&w.setName(O),R[Fl]=O},getTraceId:function(){return R.traceID},setTraceId:function(O){w&&w.setTraceId(O),sh(O)&&(R.traceID=O)},getSpanId:function(){return R.parentID},setSpanId:function(O){w&&w.setSpanId(O),oh(O)&&(R.parentID=O)},getTraceFlags:function(){return R.traceFlags},setTraceFlags:function(O){w&&w.setTraceFlags(O),R.traceFlags=O}}}o(_g,"createDistributedTraceContextFromTrace");var x2=ef({LocalStorage:0,SessionStorage:1}),Ux=ef({AI:0,AI_AND_W3C:1,W3C:2}),qx=ef({Normal:1,Critical:2}),X1=void 0,Z1=void 0,Eh="";function _2(){return I5()?S5(x2.LocalStorage):null}o(_2,"_getLocalStorageObject");function S5(_){try{if(l0(P6()))return null;var w=new Date()[Kc](),R=La(_===x2.LocalStorage?"localStorage":"sessionStorage"),O=Eh+w;R.setItem(O,w);var ae=R.getItem(O)!==w;if(R[v4](O),!ae)return R}catch{}return null}o(S5,"_getVerifiedStorageObject");function b2(){return C2()?S5(x2.SessionStorage):null}o(b2,"_getSessionStorageObject");function w4(){X1=!1,Z1=!1}o(w4,"utlDisableStorage");function bg(_){Eh=_||""}o(bg,"utlSetStoragePrefix");function pr(){X1=I5(!0),Z1=C2(!0)}o(pr,"utlEnableStorage");function I5(_){return(_||X1===void 0)&&(X1=!!S5(x2.LocalStorage)),X1}o(I5,"utlCanUseLocalStorage");function A4(_,w){var R=_2();if(R!==null)try{return R.getItem(w)}catch(O){X1=!1,Oa(_,2,1,"Browser failed read of local storage. "+gn(O),{exception:Yi(O)})}return null}o(A4,"utlGetLocalStorage");function Q1(_,w,R){var O=_2();if(O!==null)try{return O.setItem(w,R),!0}catch(ae){X1=!1,Oa(_,2,3,"Browser failed write to local storage. "+gn(ae),{exception:Yi(ae)})}return!1}o(Q1,"utlSetLocalStorage");function Cg(_,w){var R=_2();if(R!==null)try{return R[v4](w),!0}catch(O){X1=!1,Oa(_,2,5,"Browser failed removal of local storage item. "+gn(O),{exception:Yi(O)})}return!1}o(Cg,"utlRemoveStorage");function C2(_){return(_||Z1===void 0)&&(Z1=!!S5(x2.SessionStorage)),Z1}o(C2,"utlCanUseSessionStorage");function Th(){var _=[];return C2()&&ue(La("sessionStorage"),function(w){_[u2](w)}),_}o(Th,"utlGetSessionStorageKeys");function Sh(_,w){var R=b2();if(R!==null)try{return R.getItem(w)}catch(O){Z1=!1,Oa(_,2,2,"Browser failed read of session storage. "+gn(O),{exception:Yi(O)})}return null}o(Sh,"utlGetSessionStorage");function Eg(_,w,R){var O=b2();if(O!==null)try{return O.setItem(w,R),!0}catch(ae){Z1=!1,Oa(_,2,4,"Browser failed write to session storage. "+gn(ae),{exception:Yi(ae)})}return!1}o(Eg,"utlSetSessionStorage");function Ih(_,w){var R=b2();if(R!==null)try{return R[v4](w),!0}catch(O){Z1=!1,Oa(_,2,6,"Browser failed removal of session storage item. "+gn(O),{exception:Yi(O)})}return!1}o(Ih,"utlRemoveSessionStorage");var Tg="appInsightsThrottle",P4=function(){function _(w,R){var O=this,ae,qe,i0,c0,b0,k0,X0,Wr=!1,Hr=!1;fr(),O._getDbgPlgTargets=function(){return[X0]},O.getConfig=function(){return i0},O.canThrottle=function(j0){var gr=k4(j0),en=mn(j0);return ln(en,ae,gr)},O.isTriggered=function(j0){return Fg(j0)},O.isReady=function(){return Wr},O.flush=function(j0){try{var gr=Vh(j0);if(gr&&gr[zr]>0){var en=gr.slice(0);return X0[j0]=[],tl(en,function(hs){Br(hs.msgID,hs[ol],hs.severity,!1)}),!0}}catch{}return!1},O.flushAll=function(){try{if(X0){var j0=!0;return ue(X0,function(gr){var en=O.flush(parseInt(gr));j0=j0&&en}),j0}}catch{}return!1},O.onReadyState=function(j0,gr){return gr===void 0&&(gr=!0),Wr=l0(j0)?!0:j0,Wr&&gr?O.flushAll():null},O.sendMessage=function(j0,gr,en){return Br(j0,gr,en,!0)};function Br(j0,gr,en,hs){if(Wr){var Js=Lg(j0);if(!Js)return;var qs=mn(j0),$s=k4(j0),tu=ln(qs,ae,$s),m1=!1,p1=0,sc=Fg(j0);try{tu&&!sc?(p1=Math.min(qs.limit.maxSendNumber,$s[Wc]+1),$s[Wc]=0,m1=!0,b0[j0]=!0,$s[x4]=new Date):(b0[j0]=tu,$s[Wc]+=1);var k5=Lr(j0);Bg(qe,k5,$s);for(var S2=0;S2<p1;S2++)jh(j0,qe,gr,en)}catch{}return{isThrottled:m1,throttleNum:p1}}else if(hs){var Bi=Vh(j0);Bi[u2]({msgID:j0,message:gr,severity:en})}return null}o(Br,"_flushMessage");function fr(){qe=Vc(w),b0={},c0={},X0={},i0={},Er(109),k0=n4(R)?R:"",w.addUnloadHook(h4(w.config,function(j0){var gr=j0.cfg;ae=I5();var en=gr.throttleMgrCfg||{};ue(en,function(hs,Js){Er(parseInt(hs),Js)})}))}o(fr,"_initConfig");function mn(j0){return i0[j0]||i0[109]}o(mn,"_getCfgByKey");function Er(j0,gr){var en,hs;try{var Js=gr||{},qs={};qs[_4]=!!Js[_4];var $s=Js[Yc]||{};Hr=($s==null?void 0:$s.daysOfMonth)&&($s==null?void 0:$s.daysOfMonth[zr])>0,qs[Yc]=Oi($s);var tu={samplingRate:((en=Js.limit)===null||en===void 0?void 0:en.samplingRate)||100,maxSendNumber:((hs=Js.limit)===null||hs===void 0?void 0:hs.maxSendNumber)||1};qs.limit=tu,i0[j0]=qs}catch{}}o(Er,"_setCfgByKey");function Oi(j0){j0=j0||{};var gr=j0==null?void 0:j0.monthInterval,en=j0==null?void 0:j0.dayInterval;return l0(gr)&&l0(en)&&(j0.monthInterval=3,Hr||(j0[p5]=[28],Hr=!0)),j0={monthInterval:j0==null?void 0:j0.monthInterval,dayInterval:j0==null?void 0:j0.dayInterval,daysOfMonth:j0==null?void 0:j0.daysOfMonth},j0}o(Oi,"_getIntervalConfig");function ln(j0,gr,en){if(j0&&!j0[_4]&&gr&&n4(en)){var hs=ic(),Js=en[ph],qs=j0[Yc],$s=1;if(qs!=null&&qs.monthInterval){var tu=(hs.getUTCFullYear()-Js.getUTCFullYear())*12+hs.getUTCMonth()-Js.getUTCMonth();$s=Hh(qs.monthInterval,0,tu)}var m1=1;if(Hr)m1=L1(qs[p5],hs[yh]());else if(qs!=null&&qs.dayInterval){var p1=Math.floor((hs.getTime()-Js.getTime())/864e5);m1=Hh(qs.dayInterval,0,p1)}return $s>=0&&m1>=0}return!1}o(ln,"_canThrottle");function Lr(j0,gr){var en=n4(gr)?gr:"";return j0?Tg+en+"-"+j0:null}o(Lr,"_getLocalStorageName");function ws(j0){try{if(j0){var gr=new Date;return j0.getUTCFullYear()===gr.getUTCFullYear()&&j0.getUTCMonth()===gr.getUTCMonth()&&j0[yh]()===gr[yh]()}}catch{}return!1}o(ws,"_isTriggeredOnCurDate");function N5(j0,gr,en){try{var hs={date:ic(),count:0};if(j0){var Js=JSON.parse(j0),qs={date:ic(Js[ph])||hs[ph],count:Js[Wc]||hs[Wc],preTriggerDate:Js.preTriggerDate?ic(Js[x4]):void 0};return qs}else return Bg(gr,en,hs),hs}catch{}return null}o(N5,"_getLocalStorageObj");function ic(j0){try{if(j0){var gr=new Date(j0);if(!isNaN(gr.getDate()))return gr}else return new Date}catch{}return null}o(ic,"_getThrottleDate");function Bg(j0,gr,en){try{return Q1(j0,gr,Ql(JSON[d2](en)))}catch{}return!1}o(Bg,"_resetLocalStorage");function Hh(j0,gr,en){return j0<=0?1:en>=gr&&(en-gr)%j0==0?Math.floor((en-gr)/j0)+1:-1}o(Hh,"_checkInterval");function jh(j0,gr,en,hs){Oa(gr,hs||1,j0,en)}o(jh,"_sendMessage");function Lg(j0){try{var gr=mn(j0);return J7(1e6)<=gr.limit.samplingRate}catch{}return!1}o(Lg,"_canSampledIn");function k4(j0){try{var gr=c0[j0];if(!gr){var en=Lr(j0,k0);gr=N5(A4(qe,en),qe,en),c0[j0]=gr}return c0[j0]}catch{}return null}o(k4,"_getLocalStorageObjByKey");function Fg(j0){var gr=b0[j0];if(l0(gr)){gr=!1;var en=k4(j0);en&&(gr=ws(en[x4])),b0[j0]=gr}return b0[j0]}o(Fg,"_isTrigger");function Vh(j0){return X0=X0||{},l0(X0[j0])&&(X0[j0]=[]),X0[j0]}o(Vh,"_getQueueByKey")}return o(_,"ThrottleMgr"),_}(),wh=";",Sg="=";function lf(_){if(!_)return{};var w=_[g5](wh),R=R6(w,function(ae,qe){var i0=qe[g5](Sg);if(i0[zr]===2){var c0=i0[0][m5](),b0=i0[1];ae[c0]=b0}return ae},{});if(Cr(R)[zr]>0){if(R.endpointsuffix){var O=R.location?R.location+".":"";R[Af]=R[Af]||"https://"+O+"dc."+R.endpointsuffix}R[Af]=R[Af]||mh,vx(R[Af],"/")&&(R[Af]=R[Af].slice(0,-1))}return R}o(lf,"parseConnectionString");var Ig={parse:lf},wg=function(){function _(w,R,O){var ae=this,qe=this;qe.ver=1,qe.sampleRate=100,qe.tags={},qe[Fl]=_a(w,O)||vl,qe.data=R,qe.time=K3(new Date),qe.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ae.sampleRate===100?4:1},tags:1,data:1}}return o(_,"Envelope"),_}(),$x=function(){function _(w,R,O,ae){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var qe=this;qe.ver=2,qe[Fl]=_a(w,R)||vl,qe[of]=Rf(w,O),qe[u1]=af(w,ae)}return o(_,"Event"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Event",_.dataType="EventData",_}(),Ah="<no_method>",d1="error",$a="stack",Ph="stackDetails",Rh="errorSrc",Nh="message",kh="description";function R4(_,w){var R=_;return R&&!t0(R)&&(JSON&&JSON[d2]?(R=JSON[d2](_),w&&(!R||R==="{}")&&(f0(_[Kc])?R=_[Kc]():R=""+_)):R=""+_+" - (Missing JSON.stringify)"),R||""}o(R4,"_stringify");function Dh(_,w){var R=_;return _&&(R&&!t0(R)&&(R=_[Nh]||_[kh]||R),R&&!t0(R)&&(R=R4(R,!0)),_.filename&&(R=R+" @"+(_.filename||"")+":"+(_.lineno||"?")+":"+(_.colno||"?"))),w&&w!=="String"&&w!=="Object"&&w!=="Error"&&w3(R||"",w)===-1&&(R=w+": "+R),R||""}o(Dh,"_formatMessage");function Ag(_){try{if(ce(_))return"hasFullStack"in _&&"typeName"in _}catch{}return!1}o(Ag,"_isExceptionDetailsInternal");function Hx(_){try{if(ce(_))return"ver"in _&&"exceptions"in _&&"properties"in _}catch{}return!1}o(Hx,"_isExceptionInternal");function Bh(_){return _&&_.src&&t0(_.src)&&_.obj&&Se(_.obj)}o(Bh,"_isStackDetails");function Zc(_){var w=_||"";t0(w)||(t0(w[$a])?w=w[$a]:w=""+w);var R=w[g5](`
`);return{src:w,obj:R}}o(Zc,"_convertStackObj");function jx(_){for(var w=[],R=_[g5](`
`),O=0;O<R[zr];O++){var ae=R[O];R[O+1]&&(ae+="@"+R[O+1],O++),w[u2](ae)}return{src:_,obj:w}}o(jx,"_getOperaStack");function w5(_){var w=null;if(_)try{if(_[$a])w=Zc(_[$a]);else if(_[d1]&&_[d1][$a])w=Zc(_[d1][$a]);else if(_.exception&&_.exception[$a])w=Zc(_.exception[$a]);else if(Bh(_))w=_;else if(Bh(_[Ph]))w=_[Ph];else if(Is()&&Is().opera&&_[Nh])w=jx(_[ol]);else if(_.reason&&_.reason[$a])w=Zc(_.reason[$a]);else if(t0(_))w=Zc(_);else{var R=_[Nh]||_[kh]||"";t0(_[Rh])&&(R&&(R+=`
`),R+=" from "+_[Rh]),R&&(w=Zc(R))}}catch(O){w=Zc(O)}return w||{src:"",obj:null}}o(w5,"_getStackFromErrorObj");function Vx(_){var w="";return _&&(_.obj?tl(_.obj,function(R){w+=R+`
`}):w=_.src||""),w}o(Vx,"_formatStackTrace");function A5(_){var w,R=_.obj;if(R&&R[zr]>0){w=[];var O=0,ae=0;tl(R,function(fr){var mn=fr[Kc]();if(Lh.regex.test(mn)){var Er=new Lh(mn,O++);ae+=Er[Ol],w[u2](Er)}});var qe=32*1024;if(ae>qe)for(var i0=0,c0=w[zr]-1,b0=0,k0=i0,X0=c0;i0<c0;){var Wr=w[i0][Ol],Hr=w[c0][Ol];if(b0+=Wr+Hr,b0>qe){var Br=X0-k0+1;w.splice(k0,Br);break}k0=i0,X0=c0,i0++,c0--}}return w}o(A5,"_parseStack");function P5(_){var w="";if(_&&(w=_.typeName||_[Fl]||"",!w))try{var R=/function (.{1,200})\(/,O=R.exec(_.constructor[Kc]());w=O&&O[zr]>1?O[1]:""}catch{}return w}o(P5,"_getErrorType");function Qc(_){if(_)try{if(!t0(_)){var w=P5(_),R=R4(_,!1);return(!R||R==="{}")&&(_[d1]&&(_=_[d1],w=P5(_)),R=R4(_,!0)),w3(R,w)!==0&&w!=="String"?w+":"+R:R}}catch{}return""+(_||"")}o(Qc,"_formatErrorCode");var zx=function(){function _(w,R,O,ae,qe,i0){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var c0=this;c0.ver=2,Hx(R)?(c0[y5]=R[y5]||[],c0[of]=R[of],c0[u1]=R[u1],R[Y1]&&(c0[Y1]=R[Y1]),R.id&&(c0.id=R.id,R[of].id=R.id),R[C4]&&(c0[C4]=R[C4]),l0(R[g2])||(c0[g2]=R[g2])):(O||(O={}),i0&&(O.id=i0),c0[y5]=[new E2(w,R,O)],c0[of]=Rf(w,O),c0[u1]=af(w,ae),qe&&(c0[Y1]=qe),i0&&(c0.id=i0))}return o(_,"Exception"),_.CreateAutoException=function(w,R,O,ae,qe,i0,c0,b0){var k0,X0=P5(qe||i0||w);return k0={},k0[ol]=Dh(w,X0),k0.url=R,k0.lineNumber=O,k0.columnNumber=ae,k0.error=Qc(qe||i0||w),k0.evt=Qc(i0||w),k0[Pf]=X0,k0.stackDetails=w5(c0||qe||i0),k0.errorSrc=b0,k0},_.CreateFromInterface=function(w,R,O,ae){var qe=R[y5]&&Dc(R[y5],function(c0){return E2[E4](w,c0)}),i0=new _(w,Fc(Fc({},R),{exceptions:qe}),O,ae);return i0},_.prototype.toInterface=function(){var w,R=this,O=R.exceptions,ae=R.properties,qe=R.measurements,i0=R.severityLevel,c0=R.problemGroup,b0=R.id,k0=R.isManual,X0=O instanceof Array&&Dc(O,function(Wr){return Wr.toInterface()})||void 0;return w={ver:"4.0"},w[y5]=X0,w.severityLevel=i0,w.properties=ae,w.measurements=qe,w.problemGroup=c0,w.id=b0,w.isManual=k0,w},_.CreateSimpleException=function(w,R,O,ae,qe,i0){var c0;return{exceptions:[(c0={},c0[T4]=!0,c0.message=w,c0.stack=qe,c0.typeName=R,c0)]}},_.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",_.dataType="ExceptionData",_.formatError=Qc,_}(),E2=function(){function _(w,R,O){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ae=this;if(Ag(R))ae[Pf]=R[Pf],ae[ol]=R[ol],ae[$a]=R[$a],ae[sf]=R[sf]||[],ae[T4]=R[T4];else{var qe=R,i0=qe&&qe.evt;C0(qe)||(qe=qe[d1]||i0||qe),ae[Pf]=_a(w,P5(qe))||vl,ae[ol]=_h(w,Dh(R||qe,ae[Pf]))||vl;var c0=R[Ph]||w5(R);ae[sf]=A5(c0),Se(ae[sf])&&Dc(ae[sf],function(b0){b0[xl]=_a(w,b0[xl]),b0[J1]=_a(w,b0[J1])}),ae[$a]=y2(w,Vx(c0)),ae.hasFullStack=Se(ae.parsedStack)&&ae.parsedStack[zr]>0,O&&(O[Pf]=O[Pf]||ae[Pf])}}return o(_,"_ExceptionDetails"),_.prototype.toInterface=function(){var w,R=this,O=R[sf]instanceof Array&&Dc(R[sf],function(qe){return qe.toInterface()}),ae=(w={id:R.id,outerId:R.outerId,typeName:R[Pf],message:R[ol],hasFullStack:R[T4],stack:R[$a]},w[sf]=O||void 0,w);return ae},_.CreateFromInterface=function(w,R){var O=R[sf]instanceof Array&&Dc(R[sf],function(qe){return Lh[E4](qe)})||R[sf],ae=new _(w,Fc(Fc({},R),{parsedStack:O}));return ae},_}(),Lh=function(){function _(w,R){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var O=this;if(O[Ol]=0,typeof w=="string"){var ae=w;O[m2]=R,O[v5]=Ah,O[xl]=Ql(ae),O[J1]="",O[p2]=0;var qe=ae.match(_.regex);qe&&qe[zr]>=5&&(O[v5]=Ql(qe[2])||O[v5],O[J1]=Ql(qe[4]),O[p2]=parseInt(qe[5])||0)}else O[m2]=w[m2],O[v5]=w[v5],O[xl]=w[xl],O[J1]=w[J1],O[p2]=w[p2],O[Ol]=0;O.sizeInBytes+=O.method[zr],O.sizeInBytes+=O.fileName[zr],O.sizeInBytes+=O.assembly[zr],O[Ol]+=_.baseSize,O.sizeInBytes+=O.level.toString()[zr],O.sizeInBytes+=O.line.toString()[zr]}return o(_,"_StackFrame"),_.CreateFromInterface=function(w){return new _(w,null)},_.prototype.toInterface=function(){var w=this;return{level:w[m2],method:w[v5],assembly:w[xl],fileName:w[J1],line:w[p2]}},_.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,_.baseSize=58,_}(),Fh=function(){function _(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(_,"DataPoint"),_}(),Pg=function(){function _(w,R,O,ae,qe,i0,c0,b0,k0){this.aiDataContract={ver:1,metrics:1,properties:0};var X0=this;X0.ver=2;var Wr=new Fh;Wr[Wc]=ae>0?ae:void 0,Wr.max=isNaN(i0)||i0===null?void 0:i0,Wr.min=isNaN(qe)||qe===null?void 0:qe,Wr[Fl]=_a(w,R)||vl,Wr.value=O,Wr.stdDev=isNaN(c0)||c0===null?void 0:c0,X0.metrics=[Wr],X0[of]=Rf(w,b0),X0[u1]=af(w,k0)}return o(_,"Metric"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",_.dataType="MetricData",_}(),T2="";function Gx(_,w){return w===void 0&&(w=!1),_==null?w:_.toString()[m5]()==="true"}o(Gx,"stringToBoolOrDefault");function Oh(_){(isNaN(_)||_<0)&&(_=0),_=Math.round(_);var w=T2+_%1e3,R=T2+Math.floor(_/1e3)%60,O=T2+Math.floor(_/(1e3*60))%60,ae=T2+Math.floor(_/(1e3*60*60))%24,qe=Math.floor(_/(1e3*60*60*24));return w=w[zr]===1?"00"+w:w[zr]===2?"0"+w:w,R=R[zr]<2?"0"+R:R,O=O[zr]<2?"0"+O:O,ae=ae[zr]<2?"0"+ae:ae,(qe>0?qe+".":T2)+ae+":"+O+":"+R+"."+w}o(Oh,"msToTimeSpan");function Rg(_,w){var R=null;return tl(_,function(O){if(O.identifier===w)return R=O,-1}),R}o(Rg,"getExtensionByName");function Kx(_,w,R,O,ae){return!ae&&t0(_)&&(_==="Script error."||_==="Script error")}o(Kx,"isCrossOriginError");var Wx=function(){function _(w,R,O,ae,qe,i0,c0){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var b0=this;b0.ver=2,b0.id=b5(w,c0),b0.url=Jc(w,O),b0[Fl]=_a(w,R)||vl,isNaN(ae)||(b0[x5]=Oh(ae)),b0[of]=Rf(w,qe),b0[u1]=af(w,i0)}return o(_,"PageView"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",_.dataType="PageviewData",_}(),Yx=function(){function _(w,R,O,ae,qe,i0,c0,b0,k0,X0,Wr,Hr){k0===void 0&&(k0="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Br=this;Br.ver=2,Br.id=R,Br[x5]=Oh(qe),Br.success=i0,Br.resultCode=c0+"",Br.type=_a(w,k0);var fr=xg(w,O,b0,ae);Br.data=Jc(w,ae)||fr.data,Br.target=_a(w,fr.target),X0&&(Br.target="".concat(Br.target," | ").concat(X0)),Br[Fl]=_a(w,fr[Fl]),Br[of]=Rf(w,Wr),Br[u1]=af(w,Hr)}return o(_,"RemoteDependencyData"),_.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",_.dataType="RemoteDependencyData",_}(),eu=function(){function _(w,R,O,ae,qe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var i0=this;i0.ver=2,R=R||vl,i0[ol]=_h(w,R),i0[of]=Rf(w,ae),i0[u1]=af(w,qe),O&&(i0[Y1]=O)}return o(_,"Trace"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Message",_.dataType="MessageData",_}(),Ng=function(){function _(w,R,O,ae,qe,i0,c0){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var b0=this;b0.ver=2,b0.url=Jc(w,O),b0[Fl]=_a(w,R)||vl,b0[of]=Rf(w,qe),b0[u1]=af(w,i0),c0&&(b0.domProcessing=c0.domProcessing,b0[x5]=c0[x5],b0.networkConnect=c0.networkConnect,b0.perfTotal=c0.perfTotal,b0[vh]=c0[vh],b0.sentRequest=c0.sentRequest)}return o(_,"PageViewPerformance"),_.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",_.dataType="PageviewPerformanceData",_}(),Mh=function(){function _(w,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=w,this.baseData=R}return o(_,"Data"),_}(),Jx=ef({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Xx=function(){function _(){}return o(_,"ConfigurationManager"),_.getConfig=function(w,R,O,ae){ae===void 0&&(ae=!1);var qe;return O&&w[h2]&&w[h2][O]&&!l0(w[h2][O][R])?qe=w[h2][O][R]:qe=w[R],l0(qe)?ae:qe},_}();function h1(_){var w="ai."+_+".";return function(R){return w+R}}o(h1,"_aiNameFunc");var R5=h1("application"),Us=h1("device"),N4=h1("location"),ec=h1("operation"),tc=h1("session"),ff=h1("user"),g1=h1("cloud"),cf=h1("internal"),kg=function(_){j6(w,_);function w(){return _.call(this)||this}return o(w,"ContextTagKeys"),w}(i4({applicationVersion:R5("ver"),applicationBuild:R5("build"),applicationTypeId:R5("typeId"),applicationId:R5("applicationId"),applicationLayer:R5("layer"),deviceId:Us("id"),deviceIp:Us("ip"),deviceLanguage:Us("language"),deviceLocale:Us("locale"),deviceModel:Us("model"),deviceFriendlyName:Us("friendlyName"),deviceNetwork:Us("network"),deviceNetworkName:Us("networkName"),deviceOEMName:Us("oemName"),deviceOS:Us("os"),deviceOSVersion:Us("osVersion"),deviceRoleInstance:Us("roleInstance"),deviceRoleName:Us("roleName"),deviceScreenResolution:Us("screenResolution"),deviceType:Us("type"),deviceMachineName:Us("machineName"),deviceVMName:Us("vmName"),deviceBrowser:Us("browser"),deviceBrowserVersion:Us("browserVersion"),locationIp:N4("ip"),locationCountry:N4("country"),locationProvince:N4("province"),locationCity:N4("city"),operationId:ec("id"),operationName:ec("name"),operationParentId:ec("parentId"),operationRootId:ec("rootId"),operationSyntheticSource:ec("syntheticSource"),operationCorrelationVector:ec("correlationVector"),sessionId:tc("id"),sessionIsFirst:tc("isFirst"),sessionIsNew:tc("isNew"),userAccountAcquisitionDate:ff("accountAcquisitionDate"),userAccountId:ff("accountId"),userAgent:ff("userAgent"),userId:ff("id"),userStoreRegion:ff("storeRegion"),userAuthUserId:ff("authUserId"),userAnonymousUserAcquisitionDate:ff("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ff("authUserAcquisitionDate"),cloudName:g1("name"),cloudRole:g1("role"),cloudRoleVer:g1("roleVer"),cloudRoleInstance:g1("roleInstance"),cloudEnvironment:g1("environment"),cloudLocation:g1("location"),cloudDeploymentUnit:g1("deploymentUnit"),internalNodeName:cf("nodeName"),internalSdkVersion:cf("sdkVersion"),internalAgentVersion:cf("agentVersion"),internalSnippet:cf("snippet"),internalSdkSrc:cf("sdkSrc")}));function Uh(_,w,R,O,ae,qe){var i0;R=_a(O,R)||vl,(l0(_)||l0(w)||l0(R))&&Ve("Input doesn't contain all required fields");var c0="";_[wf]&&(c0=_[wf],delete _[wf]);var b0=(i0={},i0[Fl]=R,i0.time=K3(new Date),i0.iKey=c0,i0.ext=qe||{},i0.tags=[],i0.data={},i0.baseType=w,i0.baseData=_,i0);return l0(ae)||ue(ae,function(k0,X0){b0.data[k0]=X0}),b0}o(Uh,"createTelemetryItem");var Dg=function(){function _(){}return o(_,"TelemetryItemCreator"),_.create=Uh,_}(),qh={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},rc=new kg;function Zx(_){var w=null;if(f0(Event))w=new Event(_);else{var R=Md();R&&R.createEvent&&(w=R.createEvent("Event"),w.initEvent(_,!0,!0))}return w}o(Zx,"createDomEvent");function $h(_,w){hh(_,null,null,w)}o($h,"_disableEvents");function Qx(_){var w=Md(),R=Rl(),O=!1,ae=[],qe=1;R&&!l0(R.onLine)&&!R.onLine&&(qe=2);var i0=0,c0=Hr(),b0=fg(sl("OfflineListener"),_);try{if(X0(Is())&&(O=!0),w){var k0=w.body||w;k0.ononline&&X0(k0)&&(O=!0)}}catch{O=!1}function X0(Lr){var ws=!1;return Lr&&(ws=p4(Lr,"online",mn,b0),ws&&p4(Lr,"offline",Er,b0)),ws}o(X0,"_enableEvents");function Wr(){return c0}o(Wr,"_isOnline");function Hr(){return!(i0===2||qe===2)}o(Hr,"calCurrentState");function Br(){var Lr=Hr();c0!==Lr&&(c0=Lr,tl(ae,function(ws){var N5={isOnline:c0,rState:qe,uState:i0};try{ws(N5)}catch{}}))}o(Br,"listnerNoticeCheck");function fr(Lr){i0=Lr,Br()}o(fr,"setOnlineState");function mn(){qe=1,Br()}o(mn,"_setOnline");function Er(){qe=2,Br()}o(Er,"_setOffline");function Oi(){var Lr=Is();if(Lr&&O){if($h(Lr,b0),w){var ws=w.body||w;u0(ws.ononline)||$h(ws,b0)}O=!1}}o(Oi,"_unload");function ln(Lr){return ae[u2](Lr),{rm:function(){var ws=ae.indexOf(Lr);if(ws>-1)return ae.splice(ws,1)}}}return o(ln,"addListener"),{isOnline:Wr,isListening:function(){return O},unload:Oi,addListener:ln,setOnlineState:fr}}o(Qx,"createOfflineListener");var e_="AppInsightsPropertiesPlugin",t_="AppInsightsChannelPlugin",nc="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=nc,e.BreezeChannelIdentifier=t_,e.ConfigurationManager=Xx,e.ConnectionStringParser=Ig,e.ContextTagKeys=kg,e.CtxTagKeys=rc,e.DEFAULT_BREEZE_ENDPOINT=mh,e.DEFAULT_BREEZE_PATH=y4,e.Data=Mh,e.DisabledPropertyName=Bx,e.DistributedTracingModes=Ux,e.Envelope=wg,e.Event=$x,e.EventPersistence=qx,e.Exception=zx,e.Extensions=qh,e.HttpMethod=cg,e.Metric=Pg,e.PageView=Wx,e.PageViewPerformance=Ng,e.ProcessLegacy=gh,e.PropertiesPluginIdentifier=e_,e.RemoteDependencyData=Yx,e.RequestHeaders=ug,e.SampleRate=h5,e.SeverityLevel=Jx,e.TelemetryItemCreator=Dg,e.ThrottleMgr=P4,e.Trace=eu,e.correlationIdCanIncludeCorrelationHeader=I4,e.correlationIdGetCorrelationContext=Ox,e.correlationIdGetCorrelationContextValue=vg,e.correlationIdGetPrefix=S4,e.correlationIdSetPrefix=Ch,e.createDistributedTraceContextFromTrace=_g,e.createDomEvent=Zx,e.createOfflineListener=Qx,e.createTelemetryItem=Uh,e.createTraceParent=nh,e.dataSanitizeException=y2,e.dataSanitizeId=b5,e.dataSanitizeInput=Xc,e.dataSanitizeKey=_5,e.dataSanitizeKeyAndAddUniqueness=xh,e.dataSanitizeMeasurements=af,e.dataSanitizeMessage=_h,e.dataSanitizeProperties=Rf,e.dataSanitizeString=_a,e.dataSanitizeUrl=Jc,e.dateTimeUtilsDuration=T5,e.dateTimeUtilsNow=Mx,e.dsPadNumber=hg,e.findW3cTraceParent=xa,e.formatTraceParent=lh,e.getExtensionByName=Rg,e.isBeaconApiSupported=W7,e.isCrossOriginError=Kx,e.isInternalApplicationInsightsEndpoint=Nf,e.isSampledFlag=ah,e.isValidSpanId=oh,e.isValidTraceId=sh,e.isValidTraceParent=ng,e.msToTimeSpan=Oh,e.parseConnectionString=lf,e.parseTraceParent=ih,e.strNotSpecified=vl,e.stringToBoolOrDefault=Gx,e.urlGetAbsoluteUrl=C5,e.urlGetCompleteUrl=pg,e.urlGetPathName=E5,e.urlParseFullHost=bh,e.urlParseHost=yg,e.urlParseUrl=ba,e.utlCanUseLocalStorage=I5,e.utlCanUseSessionStorage=C2,e.utlDisableStorage=w4,e.utlEnableStorage=pr,e.utlGetLocalStorage=A4,e.utlGetSessionStorage=Sh,e.utlGetSessionStorageKeys=Th,e.utlRemoveSessionStorage=Ih,e.utlRemoveStorage=Cg,e.utlSetLocalStorage=Q1,e.utlSetSessionStorage=Eg,e.utlSetStoragePrefix=bg})});var tk=y0((iy,ek)=>{(function(e,t){typeof iy=="object"&&typeof ek<"u"?t(iy):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(iy,function(e){"use strict";var t=void 0,r=null,n="",s="boolean",l="function",a="number",f="object",c="prototype",u="__proto__",d="string",h="undefined",m="constructor",p="Symbol",v="_polyfill",x="indexOf",E="length",I="done",P="value",L="name",F="slice",B="call",V="toString",de=Object,ve=de[c],n0=String,d0=n0[c],r0=Math,m0=Array,$e=m0[c];function we(g,y){try{return{v:g.apply(this,y)}}catch(b){return{e:b}}}o(we,"safe");function o0(g,y){var b=we(g);return b.e?y:b.v}o(o0,"safeGet");var u0=[d,a,s,h,"symbol","bigint"];function l0(g){return function(y){return typeof y===g}}o(l0,"_createIs");function N0(g){var y="[object "+g+"]";return function(b){return!!(b&&t0(b)===y)}}o(N0,"_createObjIs");function t0(g){return ve.toString.call(g)}o(t0,"objToString");function f0(g){return typeof g===h||g===h}o(f0,"isUndefined");function ce(g){return g===r||f0(g)}o(ce,"isNullOrUndefined");function Se(g){return g===r||!C0(g)}o(Se,"isStrictNullOrUndefined");function C0(g){return!!g||g!==t}o(C0,"isDefined");function z0(g){return g!==f&&u0.indexOf(g)!==-1}o(z0,"isPrimitiveType");var O0=l0(d),v0=l0(l);function Jt(g){return!g&&ce(g)?!1:!!g&&typeof g===f}o(Jt,"isObject");var ue=m0.isArray,B0=N0("Date"),Ve=l0(a),L0=l0(s),D0=N0("Error");function G0(g){return!!(g&&g.then&&v0(g.then))}o(G0,"isPromiseLike");function hr(g){return!(!g||o0(function(){return!(g&&0+g)},!g))}o(hr,"isTruthy");var Vr=de.getOwnPropertyDescriptor;function Cr(g,y){return!!g&&ve.hasOwnProperty[B](g,y)}o(Cr,"objHasOwnProperty");var le=de.hasOwn||Dr;function Dr(g,y){return Cr(g,y)||!!Vr(g,y)}o(Dr,"polyObjHasOwn");function Qt(g,y,b){if(g&&Jt(g)){for(var S in g)if(le(g,S)&&y[B](b||g,S,g[S])===-1)break}}o(Qt,"objForEachKey");function zs(g,y,b,S){var N={};return Qt(g,function($,K){N[$]=y?K:$,N[K]=b?K:$}),S(N)}o(zs,"_createKeyValueMap");function ms(g){throw new Error(g)}o(ms,"throwError");function Gs(g){throw new TypeError(g)}o(Gs,"throwTypeError");var Ks=de.freeze;function wl(g){return g}o(wl,"_doNothing");function Jl(g){return g[u]||r}o(Jl,"_getProto");var D1=de.assign,Xl=de.keys;function hn(g){return Ks&&Qt(g,function(y,b){(ue(b)||Jt(b))&&Ks(b)}),Yi(g)}o(hn,"objDeepFreeze");var Yi=Ks||wl,Q=de.getPrototypeOf||Jl;function se(g){return zs(g,1,0,hn)}o(se,"createEnum");function tn(g){return zs(g,0,0,hn)}o(tn,"createEnumKeyMap");function Fs(g){var y={};return Qt(g,function(b,S){y[b]=S[1],y[S[0]]=S[1]}),hn(y)}o(Fs,"createSimpleMap");function b3(g){return Fs(g)}o(b3,"createTypeMap");var C3=tn({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),bs=n0,e1="__tsUtils$gblCfg",Uu;function Ld(){var g;return typeof globalThis!==h&&(g=globalThis),!g&&typeof self!==h&&(g=self),!g&&typeof window!==h&&(g=window),!g&&typeof global!==h&&(g=global),g}o(Ld,"_getGlobalValue");function qu(){if(!Uu){var g=we(Ld).v||{};Uu=g[e1]=g[e1]||{}}return Uu}o(qu,"_getGlobalConfig");var E3="[object Error]";function Ci(g,y){var b=n,S=ve[V][B](g);S===E3&&(g={stack:bs(g.stack),message:bs(g.message),name:bs(g.name)});try{b=JSON.stringify(g,r,y?typeof y===a?y:4:t),b=b&&b.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||bs(g)}catch(N){b=" - "+Ci(N,y)}return S+": "+b}o(Ci,"dumpObj");var $u,Fd=wc,Al=wc;function wc(g,y,b){$u=$u||$e[F];var S=y&&y[g];return function(N){var $=N&&N[g]||S;if($||b){var K=arguments;return($||b).apply(N,$?$u[B](K,1):K)}Gs('"'+bs(g)+'" not defined for '+Ci(N))}}o(wc,"_unwrapFunctionWithPoly");function t1(g){return function(y){return y[g]}}o(t1,"_unwrapProp");var Ac=r0.max,Cs=Al(F,d0),Gi=Al("substring",d0),Pl=wc("substr",d0,Od);function Od(g,y,b){return ce(g)&&Gs("'polyStrSubstr called with invalid "+Ci(g)),b<0?n:(y=y||0,y<0&&(y=Ac(y+g[E],0)),f0(b)?Cs(g,y):Cs(g,y,y+b))}o(Od,"polyStrSubstr");function Pc(g,y){return Gi(g,0,y)}o(Pc,"strLeft");var A6="_urid",Rc;function T3(){if(!Rc){var g=qu();Rc=g.gblSym=g.gblSym||{k:{},s:{}}}return Rc}o(T3,"_globalSymbolRegistry");var Hu;function S3(g){var y={description:bs(g),toString:function(){return p+"("+g+")"}};return y[v]=!0,y}o(S3,"polyNewSymbol");function B7(g){var y=T3();if(!le(y.k,g)){var b=S3(g),S=Xl(y.s).length;b[A6]=function(){return S+"_"+b[V]()},y.k[g]=b,y.s[b[A6]()]=bs(g)}return y.k[g]}o(B7,"polySymbolFor");function P6(g){!Hu&&(Hu={});var y,b=C3[g];return b&&(y=Hu[b]=Hu[b]||S3(p+"."+b)),y}o(P6,"polyGetKnownSymbol");var La={e:"enumerable",c:"configurable",v:P,w:"writable",g:"get",s:"set"};function Md(g){var y={};if(y[La.c]=!0,y[La.e]=!0,g.l){y.get=function(){return g.l.v};var b=Vr(g.l,"v");b&&b.set&&(y.set=function(S){g.l.v=S})}return Qt(g,function(S,N){y[La[S]]=f0(N)?y[La[S]]:N}),y}o(Md,"_createProp");var B1=de.defineProperty;function Is(g,y,b){return B1(g,y,Md(b))}o(Is,"objDefine");var Ds;function Rl(){Ds=qu()}o(Rl,"_initTestHooks");function yl(g){var y={};return!Ds&&Rl(),y.b=Ds.lzy,B1(y,"v",{configurable:!0,get:function(){var b=g();return Ds.lzy||B1(y,"v",{value:b}),y.b=Ds.lzy,b}}),y}o(yl,"getLazy");function Ud(g,y){return yl(function(){var b=we(g);return b.e?y:b.v})}o(Ud,"safeGetLazy");function Nc(g){return B1({toJSON:function(){return g}},"v",{value:g})}o(Nc,"createCachedValue");var ju="window",kc,r1,tl,L1,Dc;function R6(g){return yl(function(){return we(Qs,[g]).v||t})}o(R6,"lazySafeGetInst");function Zl(g){return!Ds&&Rl(),(!kc||g===!1||Ds.lzy)&&(kc=Nc(we(Ld).v||r)),kc.v}o(Zl,"getGlobal");function Qs(g,y){var b=!kc||y===!1?Zl(y):kc.v;return b&&b[g]?b[g]:g===ju&&r1?r1.v:r}o(Qs,"getInst");function N6(){return!!Bc()}o(N6,"hasDocument");function Bc(){return!Ds&&Rl(),(!tl||Ds.lzy)&&(tl=Nc(we(Qs,["document"]).v)),tl.v}o(Bc,"getDocument");function mx(){return!!n1()}o(mx,"hasWindow");function n1(){return!Ds&&Rl(),(!r1||Ds.lzy)&&(r1=Nc(we(Qs,[ju]).v)),r1.v}o(n1,"getWindow");function px(){return!!F1()}o(px,"hasNavigator");function F1(){return!Ds&&Rl(),(!L1||Ds.lzy)&&(L1=Nc(we(Qs,["navigator"]).v)),L1.v}o(F1,"getNavigator");function yx(){return!Dc&&(Dc=Nc(!!we(function(){return process&&(process.versions||{}).node}).v)),Dc.v}o(yx,"isNode");var rl,k6;function Ql(){(!rl||!rl.b)&&(rl=R6(p),k6=Ud(function(){return rl.v?rl.v.for:t},t))}o(Ql,"_initSymbol");function D6(){return!!B6()}o(D6,"hasSymbol");function B6(){return!Ds&&Rl(),(!rl||Ds.lzy)&&Ql(),rl.v}o(B6,"getSymbol");function I3(g,y){var b=C3[g];return!Ds&&Rl(),(!rl||Ds.lzy)&&Ql(),rl.v?rl.v[b||g]:y?t:P6(g)}o(I3,"getKnownSymbol");function bf(g,y){return!Ds&&Rl(),(!rl||Ds.lzy)&&Ql(),rl.v?rl.v(g):y?r:S3(g)}o(bf,"newSymbol");function Vu(g){return!Ds&&Rl(),(!k6||!rl||Ds.lzy)&&Ql(),(k6.v||B7)(g)}o(Vu,"symbolFor");function qd(g){return!!g&&v0(g.next)}o(qd,"isIterator");function vx(g){return!Se(g)&&v0(g[I3(3)])}o(vx,"isIterable");var $d;function w3(g,y,b){if(g&&(qd(g)||(!$d&&($d=Nc(I3(3))),g=g[$d.v]?g[$d.v]():null),qd(g))){var S=void 0,N=void 0;try{for(var $=0;!(N=g.next())[I]&&y[B](b||g,N[P],$,g)!==-1;)$++}catch(K){S={e:K},g.throw&&(N=null,g.throw(S))}finally{try{N&&!N[I]&&g.return&&g.return(N)}finally{if(S)throw S.e}}}}o(w3,"iterForOf");var i1=Fd("apply");function O1(g,y){return!f0(y)&&g&&(ue(y)?i1(g.push,g,y):qd(y)||vx(y)?w3(y,function(b){g.push(b)}):g.push(y)),g}o(O1,"arrAppend");function kr(g,y,b){if(g)for(var S=g[E]>>>0,N=0;N<S&&!(N in g&&y[B](b||g,g[N],N,g)===-1);N++);}o(kr,"arrForEach");var Nl=Al(x,$e),A3=Al("map",$e),L6=Al(F,$e),xx=Al("reduce",$e),ef=de.create||_x;function _x(g){if(!g)return{};var y=typeof g;y!==f&&y!==l&&Gs("Prototype must be an Object or function: "+Ci(g));function b(){}return o(b,"tempFunc"),b[c]=g,new b}o(_x,"polyObjCreate");var zu;function P3(g,y){var b=de.setPrototypeOf||function(S,N){!zu&&(zu=yl(function(){var $;return $={},$[u]=[],$ instanceof Array})),zu.v?S[u]=N:Qt(N,function($,K){return S[$]=K})};return b(g,y)}o(P3,"objSetPrototypeOf");function qo(g,y,b){we(Is,[y,L,{v:g,c:!0,e:!1}]),y=P3(y,b);function S(){this.constructor=y,we(Is,[this,L,{v:g,c:!0,e:!1}])}return o(S,"__"),y[c]=b===r?ef(b):(S[c]=b[c],new S),y}o(qo,"_createCustomError");function R3(g,y){y&&(g[L]=y)}o(R3,"_setName");function F6(g,y,b){var S=b||Error,N=S[c][L],$=Error.captureStackTrace;return qo(g,function(){var K=this,oe=arguments;try{we(R3,[S,g]);var _e=i1(S,K,$e[F][B](oe))||K;if(_e!==K){var Ie=Q(K);Ie!==Q(_e)&&P3(_e,Ie)}return $&&$(_e,K[m]),y&&y(_e,oe),_e}finally{we(R3,[S,N])}},S)}o(F6,"createCustomError");function M1(){return(Date.now||N3)()}o(M1,"utcNow");function N3(){return new Date().getTime()}o(N3,"polyUtcNow");function O6(g){return o(function(b){return ce(b)&&Gs("strTrim called ["+Ci(b)+"]"),b&&b.replace&&(b=b.replace(g,n)),b},"_doTrim")}o(O6,"_createTrimFn");var M6=O6(/^\s+|(?=\s)\s+$/g),Ws=wc("trim",d0,M6),U6,Cf,Hd;function nl(g){if(!g||typeof g!==f)return!1;Hd||(Hd=mx()?n1():!0);var y=!1;if(g!==Hd){Cf||(U6=Function[c][V],Cf=U6[B](de));try{var b=Q(g);y=!b,y||(Cr(b,m)&&(b=b[m]),y=b&&typeof b===l&&U6[B](b)===Cf)}catch{}}return y}o(nl,"isPlainObject");var bx=o(function(g){return g.value&&Vd(g),!0},"_defaultDeepCopyHandler"),jd=[F7,Vd,$6,O7];function Cx(g,y,b,S){var N;return kr(g,function($){if($.k===y)return N=$,-1}),N||(N={k:y,v:y},g.push(N),S(N)),N.v}o(Cx,"_getSetVisited");function k3(g,y,b,S){var N=b.handler,$=b.path?S?b.path.concat(S):b.path:[],K={handler:b.handler,src:b.src,path:$},oe=typeof y,_e=!1,Ie=!1;y&&oe===f?_e=nl(y):Ie=y===r||z0(oe);var ze={type:oe,isPrim:Ie,isPlain:_e,value:y,result:y,path:$,origin:b.src,copy:function(x0,S0){return k3(g,x0,S0?K:b,S0)},copyTo:function(x0,S0){return L7(g,x0,S0,K)}};return ze.isPrim?N&&N[B](b,ze)?ze.result:y:Cx(g,y,$,function(x0){Is(ze,"result",{g:function(){return x0.v},s:function(h0){x0.v=h0}});for(var S0=0,_0=N;!(_0||(S0<jd.length?jd[S0++]:bx))[B](b,ze);)_0=r})}o(k3,"_deepCopy");function L7(g,y,b,S){if(!ce(b))for(var N in b)y[N]=k3(g,b[N],S,N);return y}o(L7,"_copyProps");function q6(g,y,b){var S={handler:b,src:y,path:[]};return L7([],g,y,S)}o(q6,"objCopyProps");function D3(g,y){var b={handler:y,src:g};return k3([],g,b)}o(D3,"objDeepCopy");function F7(g){var y=g.value;if(ue(y)){var b=g.result=[];return b.length=y.length,g.copyTo(b,y),!0}return!1}o(F7,"arrayDeepCopyHandler");function O7(g){var y=g.value;return B0(y)?(g.result=new Date(y.getTime()),!0):!1}o(O7,"dateDeepCopyHandler");function $6(g){return g.type===l}o($6,"functionDeepCopyHandler");function Vd(g){var y=g.value;if(y&&g.isPlain){var b=g.result={};return g.copyTo(b,y),!0}return!1}o(Vd,"plainObjDeepCopyHandler");function Gu(g,y){return kr(y,function(b){q6(g,b)}),g}o(Gu,"_doExtend");function M7(g,y,b,S,N,$,K){return Gu(D3(g)||{},$e[F][B](arguments))}o(M7,"deepExtend");var s1=t1(E),zd=wc("endsWith",d0,U7);function U7(g,y,b){O0(g)||Gs("'"+Ci(g)+"' is not a string");var S=O0(y)?y:bs(y),N=!f0(b)&&b<g[E]?b:g[E];return Gi(g,N-S[E],N)===S}o(U7,"polyStrEndsWith");var Ku=Al(x,d0),Lc="ref",B3="un"+Lc,H6="hasRef",q7="enabled";function Ex(g,y,b){var S,N=!0,$=g?y(r):r,K,oe=o(function(){return N=!1,$&&$[B3]&&$[B3](),K},"_unref"),_e=o(function(){return N=!0,$&&$[Lc]&&$[Lc](),K},"_ref"),Ie=o(function(){return $&&$[H6]?$[H6]():N},"_hasRef"),ze=o(function(){return $=y($),N||oe(),K},"_refresh"),x0=o(function(){$&&b($),$=r},"_cancel"),S0=o(function(_0){!_0&&$&&x0(),_0&&!$&&ze()},"_setEnabled");return K=(S={cancel:x0,refresh:ze},S[H6]=Ie,S[Lc]=_e,S[B3]=oe,S[q7]=!1,S),B1(K,q7,{get:function(){return!!$},set:S0}),{h:K,dn:function(){$=r}}}o(Ex,"_createTimerHandler");function $7(g,y,b,S){var N=ue(b),$=N?b.length:0,K=($>0?b[0]:N?t:b)||setTimeout,oe=($>1?b[1]:t)||clearTimeout,_e=S[0];S[0]=function(){Ie.dn(),i1(_e,g,$e[F][B](arguments))};var Ie=Ex(y,function(ze){if(ze){if(ze.refresh)return ze.refresh(),ze;i1(oe,g,[ze])}return i1(K,g,S)},function(ze){i1(oe,g,[ze])});return Ie.h}o($7,"_createTimeoutWith");function Ef(g,y){return $7(this,!0,t,$e[F][B](arguments))}o(Ef,"scheduleTimeout");function H7(g,y){return $7(this,!1,t,$e[F][B](arguments))}o(H7,"createTimeout");var Gd,L3="constructor",o1="prototype",Fc="function",Wu="_dynInstFuncs",j6="_isDynProxy",a1="_dynClass",Kd="_dynCls$",tf="_dynInstChk",U1=tf,F3="_dfOpts",Wd="_unknown_",q1="__proto__",Yd="_dyn"+q1,Jd="__dynProto$Gbl",Oc="_dynInstProto",O3="useBaseInst",Xd="setInstFuncs",M3=Object,$1=M3.getPrototypeOf,V6=M3.getOwnPropertyNames,Zd=Zl(),Yu=Zd[Jd]||(Zd[Jd]={o:(Gd={},Gd[Xd]=!0,Gd[O3]=!0,Gd),n:1e3});function Ju(g){return g&&(g===M3[o1]||g===Array[o1])}o(Ju,"_isObjectOrArrayPrototype");function U3(g){return Ju(g)||g===Function[o1]}o(U3,"_isObjectArrayOrFunctionPrototype");function rf(g){var y;if(g){if($1)return $1(g);var b=g[q1]||g[o1]||(g[L3]?g[L3][o1]:null);y=g[Yd]||b,Cr(g,Yd)||(delete g[Oc],y=g[Yd]=g[Oc]||g[Yd],g[Oc]=b)}return y}o(rf,"_getObjProto");function q3(g,y){var b=[];if(V6)b=V6(g);else for(var S in g)typeof S=="string"&&Cr(g,S)&&b.push(S);if(b&&b.length>0)for(var N=0;N<b.length;N++)y(b[N])}o(q3,"_forEachProp");function Qd(g,y,b){return y!==L3&&typeof g[y]===Fc&&(b||Cr(g,y))&&y!==q1&&y!==o1}o(Qd,"_isDynamicCandidate");function Xu(g){Gs("DynamicProto: "+g)}o(Xu,"_throwTypeError");function e4(g){var y=ef(null);return q3(g,function(b){!y[b]&&Qd(g,b,!1)&&(y[b]=g[b])}),y}o(e4,"_getInstanceFuncs");function $3(g,y){for(var b=g.length-1;b>=0;b--)if(g[b]===y)return!0;return!1}o($3,"_hasVisited");function Mc(g,y,b,S){function N(_e,Ie,ze){var x0=Ie[ze];if(x0[j6]&&S){var S0=_e[Wu]||{};S0[U1]!==!1&&(x0=(S0[Ie[a1]]||{})[ze]||x0)}return function(){return x0.apply(_e,arguments)}}o(N,"_instFuncProxy");var $=ef(null);q3(b,function(_e){$[_e]=N(y,b,_e)});for(var K=rf(g),oe=[];K&&!U3(K)&&!$3(oe,K);)q3(K,function(_e){!$[_e]&&Qd(K,_e,!$1)&&($[_e]=N(y,K,_e))}),oe.push(K),K=rf(K);return $}o(Mc,"_getBaseFuncs");function t4(g,y,b,S){var N=null;if(g&&Cr(b,a1)){var $=g[Wu]||ef(null);if(N=($[b[a1]]||ef(null))[y],N||Xu("Missing ["+y+"] "+Fc),!N[tf]&&$[U1]!==!1){for(var K=!Cr(g,y),oe=rf(g),_e=[];K&&oe&&!U3(oe)&&!$3(_e,oe);){var Ie=oe[y];if(Ie){K=Ie===S;break}_e.push(oe),oe=rf(oe)}try{K&&(g[y]=N),N[tf]=1}catch{$[U1]=!1}}}return N}o(t4,"_getInstFunc");function z6(g,y,b){var S=y[g];return S===b&&(S=rf(y)[g]),typeof S!==Fc&&Xu("["+g+"] is not a "+Fc),S}o(z6,"_getProtoFunc");function r4(g,y,b,S,N){function $(_e,Ie){var ze=o(function(){var x0=t4(this,Ie,_e,ze)||z6(Ie,_e,ze);return x0.apply(this,arguments)},"dynProtoProxy");return ze[j6]=1,ze}if(o($,"_createDynamicPrototype"),!Ju(g)){var K=b[Wu]=b[Wu]||ef(null);if(!Ju(K)){var oe=K[y]=K[y]||ef(null);K[U1]!==!1&&(K[U1]=!!N),Ju(oe)||q3(b,function(_e){Qd(b,_e,!1)&&b[_e]!==S[_e]&&(oe[_e]=b[_e],delete b[_e],(!Cr(g,_e)||g[_e]&&!g[_e][j6])&&(g[_e]=$(g,_e)))})}}}o(r4,"_populatePrototype");function Tx(g,y){if($1){for(var b=[],S=rf(y);S&&!U3(S)&&!$3(b,S);){if(S===g)return!0;b.push(S),S=rf(S)}return!1}return!0}o(Tx,"_checkPrototype");function H3(g,y){return Cr(g,o1)?g.name||y||Wd:((g||{})[L3]||{}).name||y||Wd}o(H3,"_getObjName");function il(g,y,b,S){Cr(g,o1)||Xu("theClass is an invalid class definition.");var N=g[o1];Tx(N,y)||Xu("["+H3(g)+"] not in hierarchy of ["+H3(y)+"]");var $=null;Cr(N,a1)?$=N[a1]:($=Kd+H3(g,"_")+"$"+Yu.n,Yu.n++,N[a1]=$);var K=il[F3],oe=!!K[O3];oe&&S&&S[O3]!==void 0&&(oe=!!S[O3]);var _e=e4(y),Ie=Mc(N,y,_e,oe);b(y,Ie);var ze=!!$1&&!!K[Xd];ze&&S&&(ze=!!S[Xd]),r4(N,$,y,_e,ze!==!1)}o(il,"dynamicProto"),il[F3]=Yu.o;var Sx="function",j7="object",V7="undefined",j3="prototype",V3=Object,G6=V3[j3],z7="hasOwnProperty",Bs=o(function(g){for(var y,b=1,S=arguments.length;b<S;b++){y=arguments[b];for(var N in y)G6[z7].call(y,N)&&(g[N]=y[N])}return g},"__objAssignFnImpl"),H1=D1||Bs,K6=o(function(g,y){return K6=V3.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var N in S)S[z7](N)&&(b[N]=S[N])},K6(g,y)},"extendStaticsFn");function z3(g,y){typeof y!==Sx&&y!==null&&Gs("Class extends value "+String(y)+" is not a constructor or null"),K6(g,y);function b(){this.constructor=g}o(b,"__"),g[j3]=y===null?ef(y):(b[j3]=y[j3],new b)}o(z3,"__extendsFn");function G7(g,y){for(var b=0,S=y.length,N=g.length;b<S;b++,N++)g[N]=y[b];return g}o(G7,"__spreadArrayFn");var n4=se,W6=b3,G3="toLowerCase",K3="blkVal",gn="length",i4="rdOnly",s4="notify",W3="warnToConsole",Y3="throwInternal",Zu="setDf",l1="watch",Os="logger",Qu="apply",Xi="push",Uc="splice",K7="hdlr",qc="cancel",J3="initialize",j1="identifier",Tf="isInitialized",X3="getPlugin",W7="pollInternalLogs",V1="name",e5="time",Fa="processNext",Y6="getProcessTelContext",kl="getNotifyMgr",Z3="addNotificationListener",Q3="removeNotificationListener",$c="enabled",t5="stopPollingInternalLogs",Dl="unload",o4="onComplete",Y7="version",J7="loggingLevelConsole",nf="createNew",f1="teardown",a4="messageId",Hc="message",r5="isAsync",c1="diagLog",l4="_doTeardown",e2="update",sl="getNext",t2="setNextPlugin",n5="userAgent",i5="split",r2="nodeType",jc="replace",z1="logInternalMessage",Sf="type",J6="handler",f4="isChildEvt",s5="getCtx",If="setCtx",n2="complete",X6="traceId",X7="spanId",o5="traceFlags",Z6;function c4(g,y){Z6||(Z6=F6("AggregationError",function(S,N){N[gn]>1&&(S.errors=N[1])}));var b=g||"One or more errors occurred.";throw kr(y,function(S,N){b+=`
`.concat(N," > ").concat(Ci(S))}),new Z6(b,y||[])}o(c4,"throwAggregationError");function u4(g,y){return i2(g,function(b){return y?y({value:b,rejected:!1}):b},function(b){return y?y({rejected:!0,reason:b}):b})}o(u4,"doAwaitResponse");function i2(g,y,b,S){var N=g;return G0(g)?(y||b)&&(N=g.then(y,b)):y&&(N=y(g)),S&&Q6(N,S),N}o(i2,"doAwait");function Q6(g,y){var b=g;return y&&(G0(g)?g.finally?b=g.finally(y):b=g.then(function(S){return y(),S},function(S){throw y(),S}):y()),b}o(Q6,"doFinally");var s2=["pending","resolving","resolved","rejected"],a5="dispatchEvent",G1;function Ix(g,y,b,S){var N=Bc();!G1&&(G1=Ud(function(){var _e;return N&&N.createEvent&&(_e=N.createEvent("Event")),!!_e&&_e.initEvent},null));var $=G1.v?N.createEvent("Event"):S?new Event(y):{};if(b&&b($),G1.v&&$.initEvent(y,!1,!0),$&&g[a5])g[a5]($);else{var K=g["on"+y];if(K)K($);else{var oe=Qs("console");oe&&(oe.error||oe.log)(y,Ci($))}}}o(Ix,"emitEvent");var d4="Promise",Z7="unhandledRejection",wx=Z7.toLowerCase(),Q7=10,h4;function o2(g){return v0(g)?g.toString():Ci(g)}o(o2,"dumpFnObj");function Ax(g,y,b){var S=L6(arguments,3),N=0,$=!1,K,oe=[],_e=!1,Ie=null,ze;!h4&&(h4=R6(d4+"RejectionEvent"));var x0=o(function(R0,W0){try{_e=!0,Ie&&Ie.cancel(),Ie=null;var Mr=g(function(Ji,Ps){oe.push(function(){try{var gs=N===2?R0:W0,Sa=f0(gs)?K:v0(gs)?gs(K):gs;G0(Sa)?Sa.then(Ji,Ps):gs?Ji(Sa):N===3?Ps(Sa):Ji(Sa)}catch(ta){Ps(ta)}}),$&&M0()},S);return Mr}finally{}},"_then"),S0=o(function(R0){return x0(void 0,R0)},"_catch"),_0=o(function(R0){var W0=R0,Mr=R0;return v0(R0)&&(W0=o(function(Ji){return R0&&R0(),Ji},"thenFinally"),Mr=o(function(Ji){throw R0&&R0(),Ji},"catchFinally")),x0(W0,Mr)},"_finally"),h0=o(function(){return s2[N]},"_strState"),M0=o(function(){if(oe.length>0){var R0=oe.slice();oe=[],_e=!0,y(R0),Ie&&Ie.cancel(),Ie=null}},"_processQueue"),w0=o(function(R0,W0){return function(Mr){if(N===W0){if(R0===2&&G0(Mr)){N=1,Mr.then(w0(2,1),w0(3,1));return}N=R0,$=!0,K=Mr,M0(),!_e&&R0===3&&!Ie&&(Ie=Ef(H0,Q7))}}},"_createSettleIfFn"),H0=o(function(){if(!_e)if(yx())process.emit(Z7,K,ze);else{var R0=n1()||Zl();Ix(R0,wx,function(W0){return Is(W0,"promise",{g:function(){return ze}}),W0.reason=K,W0},!!h4.v)}},"_notifyUnhandledRejection");ze={then:x0,catch:S0,finally:_0},B1(ze,"state",{get:h0}),D6()&&(ze[I3(11)]="IPromise");var F0=o(function(){return"IPromise "+h0()+($?" - "+o2(K):"")},"_toString");return ze.toString=F0,o(function(){v0(b)||Gs(d4+": executor is not a function - "+o2(b));var W0=w0(3,0);try{b.call(ze,w0(2,0),W0)}catch(Mr){W0(Mr)}},"_initialize")(),ze}o(Ax,"_createPromise");function Px(g){return function(y){var b=L6(arguments,1);return g(function(S,N){try{var $=[],K=1;kr(y,function(oe,_e){oe&&(K++,i2(oe,function(Ie){$[_e]=Ie,--K===0&&S($)},N))}),K--,K===0&&S($)}catch(oe){N(oe)}},b)}}o(Px,"_createAllPromise");var l5=o(function(g){kr(g,function(y){try{y()}catch{}})},"_processPendingItems");function eg(g){var y=Ve(g)?g:0;return function(b){Ef(function(){l5(b)},y)}}o(eg,"timeoutItemProcessor");function tg(g,y){return Ax(tg,eg(y),g,y)}o(tg,"createAsyncPromise");var eh;function Rx(g,y){!eh&&(eh=R6(d4));var b=eh.v;if(!b)return tg(g);v0(g)||Gs(d4+": executor is not a function - "+Ci(g));var S=0;function N(){return s2[S]}o(N,"_strState");var $=new b(function(K,oe){function _e(ze){S=2,K(ze)}o(_e,"_resolve");function Ie(ze){S=3,oe(ze)}o(Ie,"_reject"),g(_e,Ie)});return B1($,"state",{get:N}),$}o(Rx,"createNativePromise");var th;function f5(g,y){return!th&&(th=yl(function(){return Rx})),th.v.call(this,g,y)}o(f5,"createPromise");var rg=Px(f5),Bl=void 0,Di="",Vc="channels",Ms="core",rh="createPerfMgr",Oa="disabled",zc="extensionConfig",c5="extensions",Ll="processTelemetry",u5="priority",Gc="eventsSent",K1="eventsDiscarded",a2="eventsSendRequest",Ma="perfEvent",l2="getPerfMgr",g4="domain",nh="path",ih="Not dynamic - ",sh=/-([a-z])/g,oh=/([^\w\d_$])/g,ng=/^(\d+[\w\d_$])/;function ah(g){return!ce(g)}o(ah,"isNotNullOrUndefined");function lh(g){var y=g;return y&&O0(y)&&(y=y[jc](sh,function(b,S){return S.toUpperCase()}),y=y[jc](oh,"_"),y=y[jc](ng,function(b,S){return"_"+S})),y}o(lh,"normalizeJsName");function xa(g,y){return g&&y?Ku(g,y)!==-1:!1}o(xa,"strContains");function f2(g){return g&&g.toISOString()||""}o(f2,"toISOString");function Ua(g){return D0(g)?g[V1]:Di}o(Ua,"getExceptionName");function W1(g,y,b,S,N){var $=b;return g&&($=g[y],$!==b&&(!N||N($))&&(!S||S(b))&&($=b,g[y]=$)),$}o(W1,"setValue");function ig(g,y,b){var S;return g?(S=g[y],!S&&ce(S)&&(S=f0(b)?{}:b,g[y]=S)):S=f0(b)?{}:b,S}o(ig,"getSetValue");function sg(g,y){var b=null,S=null;return v0(g)?b=g:S=g,function(){var N=arguments;if(b&&(S=b()),S)return S[y][Qu](S,N)}}o(sg,"_createProxyFunction");function d5(g,y,b,S,N){g&&y&&b&&(N!==!1||f0(g[y]))&&(g[y]=sg(b,S))}o(d5,"proxyFunctionAs");function fh(g,y,b,S){return g&&y&&Jt(g)&&ue(b)&&kr(b,function(N){O0(N)&&d5(g,N,y,N,S)}),g}o(fh,"proxyFunctions");function Nx(g){return function(){function y(){var b=this;g&&Qt(g,function(S,N){b[S]=N})}return o(y,"class_1"),y}()}o(Nx,"createClassFromInterface");function og(g){return g&&D1&&(g=V3(D1({},g))),g}o(og,"optimizeObject");function c2(g,y,b,S,N,$){var K=arguments,oe=K[0]||{},_e=K[gn],Ie=!1,ze=1;for(_e>0&&L0(oe)&&(Ie=oe,oe=K[ze]||{},ze++),Jt(oe)||(oe={});ze<_e;ze++){var x0=K[ze],S0=ue(x0),_0=Jt(x0);for(var h0 in x0){var M0=S0&&h0 in x0||_0&&le(x0,h0);if(M0){var w0=x0[h0],H0=void 0;if(Ie&&w0&&((H0=ue(w0))||nl(w0))){var F0=oe[h0];H0?ue(F0)||(F0=[]):nl(F0)||(F0={}),w0=c2(Ie,F0,w0)}w0!==void 0&&(oe[h0]=w0)}}}return oe}o(c2,"objExtend");var kx="documentMode",ag="location",ch="console",uh="JSON",lg="crypto",Dx="msCrypto",m4="msie",dh="trident/",fg="XMLHttpRequest",p4=null,hh=null,Bx=!1,h5=null,gh=null;function cg(g,y){var b=!1;if(g){try{if(b=y in g,!b){var S=g[j3];S&&(b=y in S)}}catch{}if(!b)try{var N=new g;b=!f0(N[y])}catch{}}return b}o(cg,"_hasProperty");function mh(g){if(g&&Bx){var y=Qs("__mockLocation");if(y)return y}return typeof location===j7&&location?location:Qs(ag)}o(mh,"getLocation");function y4(){return typeof console!==V7?console:Qs(ch)}o(y4,"getConsole");function vl(){return!!(typeof JSON===j7&&JSON||Qs(uh)!==null)}o(vl,"hasJSON");function wf(){return vl()?JSON||Qs(uh):null}o(wf,"getJSON");function ug(){return Qs(lg)}o(ug,"getCrypto");function g5(){return Qs(Dx)}o(g5,"getMsCrypto");function zr(){var g=F1();if(g&&(g[n5]!==hh||p4===null)){hh=g[n5];var y=(hh||Di)[G3]();p4=xa(y,m4)||xa(y,dh)}return p4}o(zr,"isIE");function m5(g){if(g===void 0&&(g=null),!g){var y=F1()||{};g=y?(y.userAgent||Di)[G3]():Di}var b=(g||Di)[G3]();if(xa(b,m4)){var S=Bc()||{};return Math.max(parseInt(b[i5](m4)[1]),S[kx]||0)}else if(xa(b,dh)){var N=parseInt(b[i5](dh)[1]);if(N)return N+4}return null}o(m5,"getIEVersion");function Af(g){return(gh===null||g===!1)&&(gh=px()&&!!F1().sendBeacon),gh}o(Af,"isBeaconsSupported");function Kc(g){var y=!1;try{y=!!Qs("fetch");var b=Qs("Request");y&&g&&b&&(y=cg(b,"keepalive"))}catch{}return y}o(Kc,"isFetchSupported");function u2(){return h5===null&&(h5=typeof XDomainRequest!==V7,h5&&v4()&&(h5=h5&&!cg(Qs(fg),"withCredentials"))),h5}o(u2,"useXDomainRequest");function v4(){var g=!1;try{var y=Qs(fg);g=!!y}catch{}return g}o(v4,"isXhrSupported");var Fl=4294967296,ol=4294967295,Wc=123456789,x4=987654321,_4=!1,Yc=Wc,p5=x4;function ph(g){g<0&&(g>>>=0),Yc=Wc+g&ol,p5=x4-g&ol,_4=!0}o(ph,"_mwcSeed");function yh(){try{var g=M1()&2147483647;ph((Math.random()*Fl^g)+g)}catch{}}o(yh,"_autoSeedMwc");function d2(g){var y=0,b=ug()||g5();return b&&b.getRandomValues&&(y=b.getRandomValues(new Uint32Array(1))[0]&ol),y===0&&zr()&&(_4||yh(),y=b4()&ol),y===0&&(y=Math.floor(Fl*Math.random()|0)),g||(y>>>=0),y}o(d2,"random32");function b4(g){p5=36969*(p5&65535)+(p5>>16)&ol,Yc=18e3*(Yc&65535)+(Yc>>16)&ol;var y=(p5<<16)+(Yc&65535)>>>0&ol|0;return g||(y>>>=0),y}o(b4,"mwcRandom32");function dg(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=d2()>>>0,S=0,N=Di;N[gn]<g;)S++,N+=y.charAt(b&63),b>>>=6,S===5&&(b=(d2()<<2&4294967295|b&3)>>>0,S=0);return N}o(dg,"newId");var h2="3.0.5",y5="."+dg(6),sf=0;function of(g){return g[r2]===1||g[r2]===9||!+g[r2]}o(of,"_canAcceptData");function u1(g,y){var b=y[g.id];if(!b){b={};try{of(y)&&Is(y,g.id,{e:!1,v:b})}catch{}}return b}o(u1,"_getCache");function Ol(g,y){return y===void 0&&(y=!1),lh(g+sf+++(y?"."+h2:Di)+y5)}o(Ol,"createUniqueNamespace");function Pf(g){var y={id:Ol("_aiData-"+(g||Di)+"."+h2),accept:function(b){return of(b)},get:function(b,S,N,$){var K=b[y.id];return K?K[lh(S)]:($&&(K=u1(y,b),K[lh(S)]=N),N)},kill:function(b,S){if(b&&b[S])try{delete b[S]}catch{}}};return y}o(Pf,"createElmNodeData");function Y1(g){return g&&Jt(g)&&(g.isVal||g.fb||le(g,"v")||le(g,"mrg")||le(g,"ref")||g.set)}o(Y1,"_isConfigDefaults");function C4(g,y,b){var S,N=b.dfVal||C0;if(y&&b.fb){var $=b.fb;ue($)||($=[$]);for(var K=0;K<$[gn];K++){var oe=$[K],_e=y[oe];if(N(_e)?S=_e:g&&(_e=g.cfg[oe],N(_e)&&(S=_e),g.set(g.cfg,bs(oe),_e)),N(S))break}}return!N(S)&&N(b.v)&&(S=b.v),S}o(C4,"_getDefault");function g2(g,y,b){var S=b;if(b&&Y1(b)&&(S=C4(g,y,b)),S){Y1(S)&&(S=g2(g,y,S));var N;ue(S)?(N=[],N[gn]=S[gn]):nl(S)&&(N={}),N&&(Qt(S,function($,K){K&&Y1(K)&&(K=g2(g,y,K)),N[$]=K}),S=N)}return S}o(g2,"_resolveDefaultValue");function E4(g,y,b,S){var N,$,K,oe=S,_e,Ie,ze,x0;Y1(oe)?(N=oe.isVal,$=oe.set,ze=oe[i4],x0=oe[K3],_e=oe.mrg,Ie=oe.ref,!Ie&&f0(Ie)&&(Ie=!!_e),K=C4(g,y,oe)):K=S,x0&&g[K3](y,b);var S0,_0=!0,h0=y[b];(h0||!ce(h0))&&(S0=h0,_0=!1,N&&S0!==K&&!N(S0)&&(S0=K,_0=!0),$&&(S0=$(S0,K,y),_0=S0===K)),_0?K?S0=g2(g,y,K):S0=K:(nl(S0)||ue(K))&&_e&&K&&(nl(K)||ue(K))&&Qt(K,function(M0,w0){E4(g,S0,M0,w0)}),g.set(y,b,S0),Ie&&g.ref(y,b),ze&&g[i4](y,b)}o(E4,"_applyDefaultValue");var xl=Vu("[[ai_dynCfg_1]]"),J1=Vu("[[ai_blkDynCfg_1]]"),T4=Vu("[[ai_frcDynCfg_1]]");function m2(g){if(g){var y;if(ue(g)?(y=[],y[gn]=g[gn]):nl(g)&&(y={}),y)return Qt(g,function(b,S){y[b]=m2(S)}),y}return g}o(m2,"_cfgDeepCopy");function v5(g){if(g){var y=g[xl]||g;if(y.cfg&&(y.cfg===g||y.cfg[xl]===y))return y}return null}o(v5,"getDynamicConfigHandler");function p2(g){if(g&&(nl(g)||ue(g)))try{g[J1]=!0}catch{}return g}o(p2,"blockDynamicConversion");function x5(g,y,b){var S=!1;return b&&!g[y.blkVal]&&(S=b[T4],!S&&!b[J1]&&(S=nl(b)||ue(b))),S}o(x5,"_canMakeDynamic");function vh(g){Gs("InvalidAccess:"+g)}o(vh,"throwInvalidAccess");var xh=["push","pop","shift","unshift","splice"],_5=o(function(g,y,b,S){g&&g[Y3](3,108,"".concat(b," [").concat(y,"] failed - ")+Ci(S))},"_throwDynamicError");function _a(g,y,b){ue(y)&&kr(xh,function(S){var N=y[S];y[S]=function(){for(var $=[],K=0;K<arguments.length;K++)$[K]=arguments[K];var oe=N[Qu](this,$);return af(g,y,b,"Patching"),oe}})}o(_a,"_patchArray");function Jc(g,y){var b=Vr(g,y);return b&&b.get}o(Jc,"_getOwnPropGetter");function _h(g,y,b,S){var N={n:b,h:[],trk:function(Ie){Ie&&Ie.fn&&(Nl(N.h,Ie)===-1&&N.h[Xi](Ie),g.trk(Ie,N))},clr:function(Ie){var ze=Nl(N.h,Ie);ze!==-1&&N.h[Uc](ze,1)}},$=!0,K=!1;function oe(){$&&(K=K||x5(oe,g,S),S&&!S[xl]&&K&&(S=af(g,S,b,"Converting")),$=!1);var Ie=g.act;return Ie&&N.trk(Ie),S}o(oe,"_getProperty"),oe[g.prop]={chng:function(){g.add(N)}};function _e(Ie){if(S!==Ie){oe[g.ro]&&!g.upd&&vh("["+b+"] is read-only:"+Ci(y)),$&&(K=K||x5(oe,g,S),$=!1);var ze=K&&oe[g.rf];if(K)if(ze){Qt(S,function(S0){S[S0]=Ie?Ie[S0]:Bl});try{Qt(Ie,function(S0,_0){y2(g,S,S0,_0)}),Ie=S}catch(S0){_5((g.hdlr||{})[Os],b,"Assigning",S0),K=!1}}else S&&S[xl]&&Qt(S,function(S0){var _0=Jc(S,S0);if(_0){var h0=_0[g.prop];h0&&h0.chng()}});if(Ie!==S){var x0=Ie&&x5(oe,g,Ie);!ze&&x0&&(Ie=af(g,Ie,b,"Converting")),S=Ie,K=x0}g.add(N)}}o(_e,"_setProperty"),Is(y,N.n,{g:oe,s:_e})}o(_h,"_createDynamicProperty");function y2(g,y,b,S){if(y){var N=Jc(y,b),$=N&&!!N[g.prop];$?y[b]=S:_h(g,y,b,S)}return y}o(y2,"_setDynamicProperty");function Rf(g,y,b,S){if(y){var N=Jc(y,b),$=N&&!!N[g.prop],K=S&&S[0],oe=S&&S[1],_e=S&&S[2];if(!$){if(_e)try{p2(y)}catch(Ie){_5((g.hdlr||{})[Os],b,"Blocking",Ie)}try{y2(g,y,b,y[b]),N=Jc(y,b)}catch(Ie){_5((g.hdlr||{})[Os],b,"State",Ie)}}K&&(N[g.rf]=K),oe&&(N[g.ro]=oe),_e&&(N[g.blkVal]=!0)}return y}o(Rf,"_setDynamicPropertyState");function af(g,y,b,S){try{Qt(y,function(N,$){y2(g,y,N,$)}),y[xl]||(B1(y,xl,{get:function(){return g[K7]}}),_a(g,y,b))}catch(N){_5((g.hdlr||{})[Os],b,S,N)}return y}o(af,"_makeDynamicObject");var b5="[[ai_",Xc="]]";function hg(g){var y,b=bf(b5+"get"+g.uid+Xc),S=bf(b5+"ro"+g.uid+Xc),N=bf(b5+"rf"+g.uid+Xc),$=bf(b5+"blkVal"+g.uid+Xc),K=bf(b5+"dtl"+g.uid+Xc),oe=null,_e=null,Ie;function ze(h0,M0){var w0=Ie.act;try{Ie.act=h0,h0&&h0[K]&&(kr(h0[K],function(F0){F0.clr(h0)}),h0[K]=[]),M0({cfg:g.cfg,set:g.set.bind(g),setDf:g[Zu].bind(g),ref:g.ref.bind(g),rdOnly:g[i4].bind(g)})}catch(F0){var H0=g[Os];throw H0&&H0[Y3](1,107,Ci(F0)),F0}finally{Ie.act=w0||null}}o(ze,"_useHandler");function x0(){if(oe){var h0=oe;oe=null,_e&&_e[qc](),_e=null;var M0=[];if(kr(h0,function(w0){if(w0&&(w0[K]&&(kr(w0[K],function(H0){H0.clr(w0)}),w0[K]=null),w0.fn))try{ze(w0,w0.fn)}catch(H0){M0[Xi](H0)}}),oe)try{x0()}catch(w0){M0[Xi](w0)}M0[gn]>0&&c4("Watcher error(s): ",M0)}}o(x0,"_notifyWatchers");function S0(h0){if(h0&&h0.h[gn]>0){oe||(oe=[]),_e||(_e=Ef(function(){_e=null,x0()},0));for(var M0=0;M0<h0.h[gn];M0++){var w0=h0.h[M0];w0&&Nl(oe,w0)===-1&&oe[Xi](w0)}}}o(S0,"_addWatcher");function _0(h0,M0){if(h0){var w0=h0[K]=h0[K]||[];Nl(w0,M0)===-1&&w0[Xi](M0)}}return o(_0,"_trackHandler"),Ie=(y={prop:b,ro:S,rf:N},y[K3]=$,y[K7]=g,y.add=S0,y[s4]=x0,y.use=ze,y.trk=_0,y),Ie}o(hg,"_createState");function gg(g,y){var b={fn:y,rm:function(){b.fn=null,g=null,y=null}};return g.use(b,y),b}o(gg,"_createAndUseHandler");function mg(g,y,b){var S,N=v5(y);if(N)return N;var $=Ol("dyncfg",!0),K=y&&b!==!1?y:m2(y),oe;function _e(){oe[s4]()}o(_e,"_notifyWatchers");function Ie(H0,F0,R0){try{H0=y2(oe,H0,F0,R0)}catch(W0){_5(g,F0,"Setting value",W0)}return H0[F0]}o(Ie,"_setValue");function ze(H0){return gg(oe,H0)}o(ze,"_watch");function x0(H0,F0){oe.use(null,function(R0){var W0=oe.upd;try{f0(F0)||(oe.upd=F0),H0(R0)}finally{oe.upd=W0}})}o(x0,"_block");function S0(H0,F0){var R0;return Rf(oe,H0,F0,(R0={},R0[0]=!0,R0))[F0]}o(S0,"_ref");function _0(H0,F0){var R0;return Rf(oe,H0,F0,(R0={},R0[1]=!0,R0))[F0]}o(_0,"_rdOnly");function h0(H0,F0){var R0;return Rf(oe,H0,F0,(R0={},R0[2]=!0,R0))[F0]}o(h0,"_blkPropValue");function M0(H0,F0){return F0&&Qt(F0,function(R0,W0){E4(w0,H0,R0,W0)}),H0}o(M0,"_applyDefaults");var w0=(S={uid:null,cfg:K},S[Os]=g,S[s4]=_e,S.set=Ie,S[Zu]=M0,S[l1]=ze,S.ref=S0,S[i4]=_0,S[K3]=h0,S._block=x0,S);return Is(w0,"uid",{c:!1,e:!1,w:!1,v:$}),oe=hg(w0),af(oe,K,"config","Creating"),w0}o(mg,"_createDynamicHandler");function Lx(g,y){g?(g[W3](y),g[Y3](2,108,y)):vh(y)}o(Lx,"_logInvalidAccess");function ba(g,y,b,S){var N=mg(b,g||{},S);return y&&N[Zu](N.cfg,y),N}o(ba,"createDynamicConfig");function C5(g,y,b){var S=g[xl]||g;return S.cfg&&(S.cfg===g||S.cfg[xl]===S)?S[l1](y):(Lx(b,ih+Ci(g)),ba(g,null,b)[l1](y))}o(C5,"onConfigChange");function E5(g,y){if(g&&g[Dl])return g[Dl](y)}o(E5,"runTargetUnload");function pg(g,y,b){var S;return b||(S=f5(function(N){b=N})),g&&s1(g)>0?u4(E5(g[0],y),function(){pg(L6(g,1),y,b)}):b(),S}o(pg,"doUnloadAll");var yg=500;function bh(g,y,b){return!g&&ce(g)?y:L0(g)?g:bs(g)[G3]()==="true"}o(bh,"_stringToBoolOrDefault");function Fx(g){return{mrg:!0,v:g}}o(Fx,"cfgDfMerge");function v2(g,y,b){return{fb:b,isVal:g,v:y}}o(v2,"cfgDfValidate");function Nf(g,y){return{fb:y,set:bh,v:!!g}}o(Nf,"cfgDfBoolean");var Ch=[Gc,K1,a2,Ma],S4=null,I4;function Ox(g,y){return function(){var b=arguments,S=xg(y);if(S){var N=S.listener;N&&N[g]&&N[g][Qu](N,b)}}}o(Ox,"_listenerProxyFunc");function vg(){var g=Qs("Microsoft");return g&&(S4=g.ApplicationInsights),S4}o(vg,"_getExtensionNamespace");function xg(g){var y=S4;return!y&&g.disableDbgExt!==!0&&(y=S4||vg()),y?y.ChromeDbgExt:null}o(xg,"getDebugExt");function Mx(g){if(!I4){I4={};for(var y=0;y<Ch[gn];y++)I4[Ch[y]]=Ox(Ch[y],g)}return I4}o(Mx,"getDebugListener");var T5,_g="warnToConsole",x2="AI (Internal): ",Ux="AI: ",qx="AITR_",X1={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Z1=(T5={},T5[0]=null,T5[1]="errorToConsole",T5[2]=_g,T5[3]="debugToConsole",T5);function Eh(g){return g?'"'+g[jc](/\"/g,Di)+'"':Di}o(Eh,"_sanitizeDiagnosticText");function _2(g,y){var b=y4();if(b){var S="log";b[g]&&(S=g),v0(b[S])&&b[S](y)}}o(_2,"_logToConsole");var S5=function(){function g(y,b,S,N){S===void 0&&(S=!1);var $=this;$[a4]=y,$[Hc]=(S?Ux:x2)+y;var K=Di;vl()&&(K=wf().stringify(N));var oe=(b?" message:"+Eh(b):Di)+(N?" props:"+Eh(K):Di);$[Hc]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function b2(g,y){return(g||{})[Os]||new w4(y)}o(b2,"safeGetLogger");var w4=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var b=0,S={},N,$,K,oe,_e;il(g,this,function(Ie){_e=x0(y||{}),Ie.consoleLoggingLevel=function(){return N},Ie[Y3]=function(h0,M0,w0,H0,F0){F0===void 0&&(F0=!1);var R0=new S5(M0,w0,F0,H0);if(oe)throw Ci(R0);var W0=Z1[h0]||_g;if(f0(R0[Hc]))_0("throw"+(h0===1?"Critical":"Warning"),R0);else{if(F0){var Mr=+R0[a4];!S[Mr]&&N>=h0&&(Ie[W0](R0[Hc]),S[Mr]=!0)}else N>=h0&&Ie[W0](R0[Hc]);ze(h0,R0)}},Ie.debugToConsole=function(h0){_2("debug",h0),_0("warning",h0)},Ie[W3]=function(h0){_2("warn",h0),_0("warning",h0)},Ie.errorToConsole=function(h0){_2("error",h0),_0("error",h0)},Ie.resetInternalMessageCount=function(){b=0,S={}},Ie[z1]=ze,Ie[Dl]=function(h0){_e&&_e.rm(),_e=null};function ze(h0,M0){if(!S0()){var w0=!0,H0=qx+M0[a4];if(S[H0]?w0=!1:S[H0]=!0,w0&&(h0<=$&&(Ie.queue[Xi](M0),b++,_0(h0===1?"error":"warn",M0)),b===K)){var F0="Internal events throttle limit per PageView reached for this app.",R0=new S5(23,F0,!1);Ie.queue[Xi](R0),h0===1?Ie.errorToConsole(F0):Ie[W3](F0)}}}o(ze,"_logInternalMessage");function x0(h0){return C5(ba(h0,X1,Ie).cfg,function(M0){var w0=M0.cfg;N=w0[J7],$=w0.loggingLevelTelemetry,K=w0.maxMessageLimit,oe=w0.enableDebug})}o(x0,"_setDefaultsFromConfig");function S0(){return b>=K}o(S0,"_areInternalMessagesThrottled");function _0(h0,M0){var w0=xg(y||{});w0&&w0[c1]&&w0[c1](h0,M0)}o(_0,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function bg(g){return g||new w4}o(bg,"_getLogger");function pr(g,y,b,S,N,$){$===void 0&&($=!1),bg(g)[Y3](y,b,S,N,$)}o(pr,"_throwInternal");function I5(g,y){bg(g)[W3](y)}o(I5,"_warnToConsole");var A4,Q1,Cg="toGMTString",C2="toUTCString",Th="cookie",Sh="expires",Eg="isCookieUseDisabled",Ih="disableCookiesUsage",Tg="_ckMgr",P4=null,wh=null,Sg=null,lf,Ig={},wg={},$x=(A4={cookieCfg:Fx((Q1={},Q1[g4]={fb:"cookieDomain",dfVal:ah},Q1.path={fb:"cookiePath",dfVal:ah},Q1.enabled=Bl,Q1.ignoreCookies=Bl,Q1.blockedCookies=Bl,Q1)),cookieDomain:Bl,cookiePath:Bl},A4[Ih]=Bl,A4);function Ah(){!lf&&(lf=yl(function(){return Bc()}))}o(Ah,"_getDoc");function d1(g){return g?g.isEnabled():!0}o(d1,"_isMgrEnabled");function $a(g,y){return y&&g&&ue(g.ignoreCookies)?Nl(g.ignoreCookies,y)!==-1:!1}o($a,"_isIgnoredCookie");function Ph(g,y){return y&&g&&ue(g.blockedCookies)&&Nl(g.blockedCookies,y)!==-1?!0:$a(g,y)}o(Ph,"_isBlockedCookie");function Rh(g,y){var b=y[$c];if(ce(b)){var S=void 0;f0(g[Eg])||(S=!g[Eg]),f0(g[Ih])||(S=!g[Ih]),b=S}return b}o(Rh,"_isCfgEnabled");function Nh(g,y){var b,S,N,$,K,oe,_e,Ie,ze;g=ba(g||wg,null,y).cfg,K=C5(g,function(S0){S0[Zu](S0.cfg,$x),S=S0.ref(S0.cfg,"cookieCfg"),N=S[nh]||"/",$=S[g4],oe=Rh(g,S)!==!1,_e=S.getCookie||Hx,Ie=S.setCookie||Bh,ze=S.delCookie||Bh},y);var x0=(b={isEnabled:function(){var S0=Rh(g,S)!==!1&&oe&&kh(y),_0=wg[Tg];return S0&&_0&&x0!==_0&&(S0=d1(_0)),S0},setEnabled:function(S0){oe=S0!==!1,S[$c]=S0},set:function(S0,_0,h0,M0,w0){var H0=!1;if(d1(x0)&&!Ph(S,S0)){var F0={},R0=Ws(_0||Di),W0=Ku(R0,";");if(W0!==-1&&(R0=Ws(Pc(_0,W0)),F0=R4(Gi(_0,W0+1))),W1(F0,g4,M0||$,hr,f0),!ce(h0)){var Mr=zr();if(f0(F0[Sh])){var Ji=M1(),Ps=Ji+h0*1e3;if(Ps>0){var gs=new Date;gs.setTime(Ps),W1(F0,Sh,Dh(gs,Mr?Cg:C2)||Dh(gs,Mr?Cg:C2)||Di,hr)}}Mr||W1(F0,"max-age",Di+h0,null,f0)}var Sa=mh();Sa&&Sa.protocol==="https:"&&(W1(F0,"secure",null,null,f0),wh===null&&(wh=!Zc((F1()||{})[n5])),wh&&W1(F0,"SameSite","None",null,f0)),W1(F0,nh,w0||N,null,f0),Ie(S0,Ag(R0,F0)),H0=!0}return H0},get:function(S0){var _0=Di;return d1(x0)&&!$a(S,S0)&&(_0=_e(S0)),_0},del:function(S0,_0){var h0=!1;return d1(x0)&&(h0=x0.purge(S0,_0)),h0},purge:function(S0,_0){var h0,M0=!1;if(kh(y)){var w0=(h0={},h0[nh]=_0||"/",h0[Sh]="Thu, 01 Jan 1970 00:00:01 GMT",h0);zr()||(w0["max-age"]="0"),ze(S0,Ag(Di,w0)),M0=!0}return M0}},b[Dl]=function(S0){K&&K.rm(),K=null},b);return x0[Tg]=x0,x0}o(Nh,"createCookieMgr");function kh(g){if(P4===null){P4=!1,!lf&&Ah();try{var y=lf.v||{};P4=y[Th]!==void 0}catch(b){pr(g,2,68,"Cannot access document.cookie - "+Ua(b),{exception:Ci(b)})}}return P4}o(kh,"areCookiesSupported");function R4(g){var y={};if(g&&g[gn]){var b=Ws(g)[i5](";");kr(b,function(S){if(S=Ws(S||Di),S){var N=Ku(S,"=");N===-1?y[S]=null:y[Ws(Pc(S,N))]=Ws(Gi(S,N+1))}})}return y}o(R4,"_extractParts");function Dh(g,y){return v0(g[y])?g[y]():null}o(Dh,"_formatDate");function Ag(g,y){var b=g||Di;return Qt(y,function(S,N){b+="; "+S+(ce(N)?Di:"="+N)}),b}o(Ag,"_formatCookieValue");function Hx(g){var y=Di;if(!lf&&Ah(),lf.v){var b=lf.v[Th]||Di;Sg!==b&&(Ig=R4(b),Sg=b),y=Ws(Ig[g]||Di)}return y}o(Hx,"_getCookieValue");function Bh(g,y){!lf&&Ah(),lf.v&&(lf.v[Th]=g+"="+y)}o(Bh,"_setCookieValue");function Zc(g){return O0(g)?!!(xa(g,"CPU iPhone OS 12")||xa(g,"iPad; CPU OS 12")||xa(g,"Macintosh; Intel Mac OS X 10_14")&&xa(g,"Version/")&&xa(g,"Safari")||xa(g,"Macintosh; Intel Mac OS X 10_14")&&zd(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xa(g,"Chrome/5")||xa(g,"Chrome/6")||xa(g,"UnrealEngine")&&!xa(g,"Chrome")||xa(g,"UCBrowser/12")||xa(g,"UCBrowser/11")):!1}o(Zc,"uaDisallowsSameSiteNone");var jx={perfEvtsSendAll:!1};function w5(g,y,b,S){kr(g,function(N){if(N&&N[y])if(b)Ef(function(){return S(N)},0);else try{S(N)}catch{}})}o(w5,"_runListeners");var Vx=function(){function g(y){this.listeners=[];var b,S,N=[],$=ba(y,jx);S=$[l1](function(K){b=!!K.cfg.perfEvtsSendAll}),il(g,this,function(K){Is(K,"listeners",{g:function(){return N}}),K[Z3]=function(oe){N[Xi](oe)},K[Q3]=function(oe){for(var _e=Nl(N,oe);_e>-1;)N[Uc](_e,1),_e=Nl(N,oe)},K[Gc]=function(oe){w5(N,Gc,!0,function(_e){_e[Gc](oe)})},K[K1]=function(oe,_e){w5(N,K1,!0,function(Ie){Ie[K1](oe,_e)})},K[a2]=function(oe,_e){w5(N,a2,_e,function(Ie){Ie[a2](oe,_e)})},K[Ma]=function(oe){oe&&(b||!oe[f4]())&&w5(N,Ma,!1,function(_e){oe[r5]?Ef(function(){return _e[Ma](oe)},0):_e[Ma](oe)})},K[Dl]=function(oe){var _e=o(function(){S&&S.rm(),S=null,N=[]},"_finishUnload"),Ie;if(w5(N,"unload",!1,function(ze){var x0=ze[Dl](oe);x0&&(Ie||(Ie=[]),Ie[Xi](x0))}),Ie)return f5(function(ze){return u4(rg(Ie),function(){_e(),ze()})});_e()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),A5="ctx",P5="ParentContextKey",Qc="ChildrenContextKey",zx=null,E2=function(){function g(y,b,S){var N=this;if(N.start=M1(),N[V1]=y,N[r5]=S,N[f4]=function(){return!1},v0(b)){var $;Is(N,"payload",{g:function(){return!$&&v0(b)&&($=b(),b=null),$}})}N[s5]=function(K){return K?K===g[P5]||K===g[Qc]?N[K]:(N[A5]||{})[K]:null},N[If]=function(K,oe){if(K)if(K===g[P5])N[K]||(N[f4]=function(){return!0}),N[K]=oe;else if(K===g[Qc])N[K]=oe;else{var _e=N[A5]=N[A5]||{};_e[K]=oe}},N[n2]=function(){var K=0,oe=N[s5](g[Qc]);if(ue(oe))for(var _e=0;_e<oe[gn];_e++){var Ie=oe[_e];Ie&&(K+=Ie[e5])}N[e5]=M1()-N.start,N.exTime=N[e5]-K,N[n2]=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),Lh=function(){function g(y){this.ctx={},il(g,this,function(b){b.create=function(S,N,$){return new E2(S,N,$)},b.fire=function(S){S&&(S[n2](),y&&v0(y[Ma])&&y[Ma](S))},b[If]=function(S,N){if(S){var $=b[A5]=b[A5]||{};$[S]=N}},b[s5]=function(S){return(b[A5]||{})[S]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),Fh="CoreUtils.doPerf";function Pg(g,y,b,S,N){if(g){var $=g;if($[l2]&&($=$[l2]()),$){var K=void 0,oe=$[s5](Fh);try{if(K=$.create(y(),S,N),K){if(oe&&K[If]&&(K[If](E2[P5],oe),oe[s5]&&oe[If])){var _e=oe[s5](E2[Qc]);_e||(_e=[],oe[If](E2[Qc],_e)),_e[Xi](K)}return $[If](Fh,K),b(K)}}catch(Ie){K&&K[If]&&K[If]("exception",Ie)}finally{K&&$.fire(K),$[If](Fh,oe)}}}return b()}o(Pg,"doPerf");function T2(){return zx}o(T2,"getGblPerfMgr");var Gx="00000000000000000000000000000000",Oh="0000000000000000";function Rg(g,y,b){return g&&g[gn]===y&&g!==b?!!g.match(/^[\da-f]*$/i):!1}o(Rg,"_isValid");function Kx(g){return Rg(g,32,Gx)}o(Kx,"isValidTraceId");function Wx(g){return Rg(g,16,Oh)}o(Wx,"isValidSpanId");var Yx=Pf("plugin");function eu(g){return Yx.get(g,"state",{},!0)}o(eu,"_getPluginState");function Ng(g,y){for(var b=[],S=null,N=g[sl](),$;N;){var K=N[X3]();if(K){S&&S[t2]&&K[Ll]&&S[t2](K),$=eu(K);var oe=!!$[Tf];K[Tf]&&(oe=K[Tf]()),oe||b[Xi](K),S=K,N=N[sl]()}}kr(b,function(_e){var Ie=g[Ms]();_e[J3](g.getCfg(),Ie,y,g[sl]()),$=eu(_e),!_e[Ms]&&!$[Ms]&&($[Ms]=Ie),$[Tf]=!0,delete $[f1]})}o(Ng,"initializePlugins");function Mh(g){return g.sort(function(y,b){var S=0;if(b){var N=b[Ll];y[Ll]?S=N?y[u5]-b[u5]:1:N&&(S=-1)}else S=y?1:-1;return S})}o(Mh,"sortPlugins");function Jx(g){var y={};return{getName:function(){return y[V1]},setName:function(b){g&&g.setName(b),y[V1]=b},getTraceId:function(){return y[X6]},setTraceId:function(b){g&&g.setTraceId(b),Kx(b)&&(y[X6]=b)},getSpanId:function(){return y[X7]},setSpanId:function(b){g&&g.setSpanId(b),Wx(b)&&(y[X7]=b)},getTraceFlags:function(){return y[o5]},setTraceFlags:function(b){g&&g.setTraceFlags(b),y[o5]=b}}}o(Jx,"createDistributedTraceContext");var Xx="TelemetryPluginChain",h1="_hasRun",R5="_getTelCtx",Us=0;function N4(g,y,b){for(;g;){if(g[X3]()===b)return g;g=g[sl]()}return cf([b],y.config||{},y)}o(N4,"_getNextProxyStart");function ec(g,y,b,S){var N=null,$=[];y||(y=ba({},null,b[Os])),S!==null&&(N=S?N4(g,b,S):g);var K={_next:_e,ctx:{core:function(){return b},diagLog:function(){return b2(b,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:ze,getConfig:x0,hasNext:function(){return!!N},getNext:function(){return N},setNext:function(_0){N=_0},iterate:S0,onComplete:oe}};function oe(_0,h0){for(var M0=[],w0=2;w0<arguments.length;w0++)M0[w0-2]=arguments[w0];_0&&$[Xi]({func:_0,self:f0(h0)?K.ctx:h0,args:M0})}o(oe,"_addOnComplete");function _e(){var _0=N;if(N=_0?_0[sl]():null,!_0){var h0=$;h0&&h0[gn]>0&&(kr(h0,function(M0){try{M0.func.call(M0.self,M0.args)}catch(w0){pr(b[Os],2,73,"Unexpected Exception during onComplete - "+Ci(w0))}}),$=[])}return _0}o(_e,"_moveNext");function Ie(_0,h0){var M0=null,w0=y.cfg;if(w0&&_0){var H0=w0[zc];!H0&&h0&&(H0={}),w0[zc]=H0,H0=y.ref(w0,zc),H0&&(M0=H0[_0],!M0&&h0&&(M0={}),H0[_0]=M0,M0=y.ref(H0,_0))}return M0}o(Ie,"_getExtCfg");function ze(_0,h0){var M0=Ie(_0,!0);return h0&&Qt(h0,function(w0,H0){if(ce(M0[w0])){var F0=y.cfg[w0];(F0||!ce(F0))&&(M0[w0]=F0)}E4(y,M0,w0,H0)}),y[Zu](M0,h0)}o(ze,"_resolveExtCfg");function x0(_0,h0,M0){M0===void 0&&(M0=!1);var w0,H0=Ie(_0,!1),F0=y.cfg;return H0&&(H0[h0]||!ce(H0[h0]))?w0=H0[h0]:(F0[h0]||!ce(F0[h0]))&&(w0=F0[h0]),w0||!ce(w0)?w0:M0}o(x0,"_getConfig");function S0(_0){for(var h0;h0=K._next();){var M0=h0[X3]();M0&&_0(M0)}}return o(S0,"_iterateChain"),K}o(ec,"_createInternalContext");function tc(g,y,b,S){var N=ba(y),$=ec(g,N,b,S),K=$.ctx;function oe(Ie){var ze=$._next();return ze&&ze[Ll](Ie,K),!ze}o(oe,"_processNext");function _e(Ie,ze){return Ie===void 0&&(Ie=null),ue(Ie)&&(Ie=cf(Ie,N.cfg,b,ze)),tc(Ie||K[sl](),N.cfg,b,ze)}return o(_e,"_createNew"),K[Fa]=oe,K[nf]=_e,K}o(tc,"createProcessTelemetryContext");function ff(g,y,b){var S=ba(y.config),N=ec(g,S,y,b),$=N.ctx;function K(_e){var Ie=N._next();return Ie&&Ie[Dl]($,_e),!Ie}o(K,"_processNext");function oe(_e,Ie){return _e===void 0&&(_e=null),ue(_e)&&(_e=cf(_e,S.cfg,y,Ie)),ff(_e||$[sl](),y,Ie)}return o(oe,"_createNew"),$[Fa]=K,$[nf]=oe,$}o(ff,"createProcessTelemetryUnloadContext");function g1(g,y,b){var S=ba(y.config),N=ec(g,S,y,b),$=N.ctx;function K(_e){return $.iterate(function(Ie){v0(Ie[e2])&&Ie[e2]($,_e)})}o(K,"_processNext");function oe(_e,Ie){return _e===void 0&&(_e=null),ue(_e)&&(_e=cf(_e,S.cfg,y,Ie)),g1(_e||$[sl](),y,Ie)}return o(oe,"_createNew"),$[Fa]=K,$[nf]=oe,$}o(g1,"createProcessTelemetryUpdateContext");function cf(g,y,b,S){var N=null,$=!S;if(ue(g)&&g[gn]>0){var K=null;kr(g,function(oe){if(!$&&S===oe&&($=!0),$&&oe&&v0(oe[Ll])){var _e=kg(oe,y,b);N||(N=_e),K&&K._setNext(_e),K=_e}})}return S&&!N?cf([S],y,b):N}o(cf,"createTelemetryProxyChain");function kg(g,y,b){var S=null,N=v0(g[Ll]),$=v0(g[t2]),K;g?K=g[j1]+"-"+g[u5]+"-"+Us++:K="Unknown-0-"+Us++;var oe={getPlugin:function(){return g},getNext:function(){return S},processTelemetry:ze,unload:x0,update:S0,_id:K,_setNext:function(_0){S=_0}};function _e(){var _0;return g&&v0(g[R5])&&(_0=g[R5]()),_0||(_0=tc(oe,y,b)),_0}o(_e,"_getTelCtx");function Ie(_0,h0,M0,w0,H0){var F0=!1,R0=g?g[j1]:Xx,W0=_0[h1];return W0||(W0=_0[h1]={}),_0.setNext(S),g&&Pg(_0[Ms](),function(){return R0+":"+M0},function(){W0[K]=!0;try{var Mr=S?S._id:Di;Mr&&(W0[Mr]=!1),F0=h0(_0)}catch(Ps){var Ji=S?W0[S._id]:!0;Ji&&(F0=!0),(!S||!Ji)&&pr(_0[c1](),1,73,"Plugin ["+R0+"] failed during "+M0+" - "+Ci(Ps)+", run flags: "+Ci(W0))}},w0,H0),F0}o(Ie,"_processChain");function ze(_0,h0){h0=h0||_e();function M0(w0){if(!g||!N)return!1;var H0=eu(g);return H0[f1]||H0[Oa]?!1:($&&g[t2](S),g[Ll](_0,w0),!0)}o(M0,"_callProcessTelemetry"),Ie(h0,M0,"processTelemetry",function(){return{item:_0}},!_0.sync)||h0[Fa](_0)}o(ze,"_processTelemetry");function x0(_0,h0){function M0(){var w0=!1;if(g){var H0=eu(g),F0=g[Ms]||H0[Ms];g&&(!F0||F0===_0.core())&&!H0[f1]&&(H0[Ms]=null,H0[f1]=!0,H0[Tf]=!1,g[f1]&&g[f1](_0,h0)===!0&&(w0=!0))}return w0}o(M0,"_callTeardown"),Ie(_0,M0,"unload",function(){},h0[r5])||_0[Fa](h0)}o(x0,"_unloadPlugin");function S0(_0,h0){function M0(){var w0=!1;if(g){var H0=eu(g),F0=g[Ms]||H0[Ms];g&&(!F0||F0===_0.core())&&!H0[f1]&&g[e2]&&g[e2](_0,h0)===!0&&(w0=!0)}return w0}o(M0,"_callUpdate"),Ie(_0,M0,"update",function(){},!1)||_0[Fa](h0)}return o(S0,"_updatePlugin"),Yi(oe)}o(kg,"createTelemetryPluginProxy");function Uh(){var g=[];function y(S){S&&g[Xi](S)}o(y,"_addHandler");function b(S,N){kr(g,function($){try{$(S,N)}catch(K){pr(S[c1](),2,73,"Unexpected error calling unload handler - "+Ci(K))}}),g=[]}return o(b,"_runHandlers"),{add:y,run:b}}o(Uh,"createUnloadHandlerContainer");function Dg(){var g=[];function y(S){var N=g;g=[],kr(N,function($){try{($.rm||$.remove).call($)}catch(K){pr(S,2,73,"Unloading:"+Ci(K))}})}o(y,"_doUnload");function b(S){S&&O1(g,S)}return o(b,"_addHook"),{run:y,add:b}}o(Dg,"createUnloadHookContainer");var qh,rc="getPlugin",Zx=(qh={},qh[zc]={isVal:ah,v:{}},qh),$h=function(){function g(){var y=this,b,S,N,$,K;Ie(),il(g,y,function(ze){ze[J3]=function(x0,S0,_0,h0){_e(x0,S0,h0),b=!0},ze[f1]=function(x0,S0){var _0,h0=ze[Ms];if(!h0||x0&&h0!==x0[Ms]())return;var M0,w0=!1,H0=x0||ff(null,h0,N&&N[rc]?N[rc]():N),F0=S0||(_0={reason:0},_0[r5]=!1,_0);function R0(){w0||(w0=!0,$.run(H0,S0),K.run(H0[c1]()),M0===!0&&H0[Fa](F0),Ie())}return o(R0,"_unloadCallback"),!ze[l4]||ze[l4](H0,F0,R0)!==!0?R0():M0=!0,M0},ze[e2]=function(x0,S0){var _0=ze[Ms];if(!_0||x0&&_0!==x0[Ms]())return;var h0,M0=!1,w0=x0||g1(null,_0,N&&N[rc]?N[rc]():N),H0=S0||{reason:0};function F0(){M0||(M0=!0,_e(w0.getCfg(),w0.core(),w0[sl]()))}return o(F0,"_updateCallback"),!ze._doUpdate||ze._doUpdate(w0,H0,F0)!==!0?F0():h0=!0,h0},d5(ze,"_addUnloadCb",function(){return $},"add"),d5(ze,"_addHook",function(){return K},"add"),Is(ze,"_unloadHooks",{g:function(){return K}})}),y[c1]=function(ze){return oe(ze)[c1]()},y[Tf]=function(){return b},y.setInitialized=function(ze){b=ze},y[t2]=function(ze){N=ze},y[Fa]=function(ze,x0){x0?x0[Fa](ze):N&&v0(N[Ll])&&N[Ll](ze,null)},y._getTelCtx=oe;function oe(ze){ze===void 0&&(ze=null);var x0=ze;if(!x0){var S0=S||tc(null,{},y[Ms]);N&&N[rc]?x0=S0[nf](null,N[rc]):x0=S0[nf](null,N)}return x0}o(oe,"_getTelCtx");function _e(ze,x0,S0){ba(ze,Zx,b2(x0)),!S0&&x0&&(S0=x0[Y6]()[sl]());var _0=N;N&&N[rc]&&(_0=N[rc]()),y[Ms]=x0,S=tc(S0,ze,x0,_0)}o(_e,"_setDefaults");function Ie(){b=!1,y[Ms]=null,S=null,N=null,K=Dg(),$=Uh()}o(Ie,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function Qx(g,y,b){var S={id:y,fn:b};O1(g,S);var N={remove:function(){kr(g,function($,K){if($.id===S.id)return g[Uc](K,1),-1})}};return N}o(Qx,"_addInitializer");function e_(g,y,b){for(var S=!1,N=g[gn],$=0;$<N;++$){var K=g[$];if(K)try{if(K.fn[Qu](null,[y])===!1){S=!0;break}}catch(oe){pr(b,2,64,"Telemetry initializer failed: "+Ua(oe),{exception:Ci(oe)},!0)}}return!S}o(e_,"_runInitializers");var t_=function(g){z3(y,g);function y(){var b=g.call(this)||this;b.identifier="TelemetryInitializerPlugin",b.priority=199;var S,N;$(),il(y,b,function(K,oe){K.addTelemetryInitializer=function(_e){return Qx(N,S++,_e)},K[Ll]=function(_e,Ie){e_(N,_e,Ie?Ie[c1]():K[c1]())&&K[Fa](_e,Ie)},K[l4]=function(){$()}});function $(){S=0,N=[]}return o($,"_initDefaults"),b}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}($h),nc,_="Plugins must provide initialize method",w="_notificationManager",R="SDK is still unloading...",O="SDK is not initialized",ae=hn((nc={cookieCfg:{}},nc[c5]={rdOnly:!0,ref:!0,v:[]},nc[Vc]={rdOnly:!0,ref:!0,v:[]},nc[zc]={ref:!0,v:{}},nc[rh]=Bl,nc.loggingLevelConsole=0,nc.diagnosticLogInterval=Bl,nc));function qe(g,y){return new Lh(y)}o(qe,"_createPerfManager");function i0(g,y,b){var S,N=[],$=[],K={};return kr(b,function(oe){(ce(oe)||ce(oe[J3]))&&ms(_);var _e=oe[u5],Ie=oe[j1];oe&&_e&&(ce(K[_e])?K[_e]=Ie:I5(g,"Two extensions have same priority #"+_e+" - "+K[_e]+", "+Ie)),!_e||_e<y?N[Xi](oe):$[Xi](oe)}),S={},S[Ms]=N,S[Vc]=$,S}o(i0,"_validateExtensions");function c0(g,y){var b=!1;return kr(y,function(S){if(S===g)return b=!0,-1}),b}o(c0,"_isPluginPresent");function b0(g,y,b,S){b&&Qt(b,function(N,$){S&&nl($)&&nl(y[N])&&b0(g,y[N],$,S),S&&nl($)&&nl(y[N])?b0(g,y[N],$,S):g.set(y,N,$)})}o(b0,"_deepMergeConfig");function k0(g,y){var b=null,S=-1;return kr(g,function(N,$){if(N.w===y)return b=N,S=$,-1}),{i:S,l:b}}o(k0,"_findWatcher");function X0(g,y){var b=k0(g,y).l;return b||(b={w:y,rm:function(){var S=k0(g,y);S.i!==-1&&g[Uc](S.i,1)}},g[Xi](b)),b}o(X0,"_addDelayedCfgListener");function Wr(g,y,b){kr(y,function(S){var N=C5(g,S.w,b);delete S.w,S.rm=function(){N.rm()}})}o(Wr,"_registerDelayedCfgListener");var Hr=function(){function g(){var y,b,S,N,$,K,oe,_e,Ie,ze,x0,S0,_0,h0,M0,w0,H0,F0,R0,W0,Mr,Ji,Ps,gs,Sa,ta,a9,U5;il(g,this,function(Q0){q5(),Q0._getDbgPlgTargets=function(){return[Ps]},Q0[Tf]=function(){return b},Q0[J3]=function(A0,St,Ur,Sr){_0&&ms(R),Q0[Tf]()&&ms("Core cannot be initialized more than once"),y=ba(A0,ae,Ur||Q0[Os],!1),A0=y.cfg,lu(y[l1](function(Ui){Mr=Ui.cfg.instrumentationKey;var ra=Ui.ref(Ui.cfg,zc);Qt(ra,function(ha){Ui.ref(ra,ha)}),ce(Mr)&&ms("Please provide instrumentation key")})),$=Sr,k_(),D_(),Q0[Os]=Ur;var wr=A0[c5];if(ze=[],ze[Xi].apply(ze,G7(G7([],St,!1),wr)),x0=A0[Vc],kf(null),(!S0||S0[gn]===0)&&ms("No "+Vc+" available"),x0&&x0[gn]>1){var Qi=Q0[X3]("TeeChannelController");(!Qi||!Qi.plugin)&&pr(S,1,28,"TeeChannel required")}Wr(A0,Ji,S),Ji=null,b=!0,Q0.releaseQueue(),Q0[W7]()},Q0.getChannels=function(){var A0=[];return S0&&kr(S0,function(St){A0[Xi](St)}),Yi(A0)},Q0.track=function(A0){Pg(Q0[l2](),function(){return"AppInsightsCore:track"},function(){A0===null&&(f9(A0),ms("Invalid telemetry item")),!A0[V1]&&ce(A0[V1])&&(f9(A0),ms("telemetry name required")),A0.iKey=A0.iKey||Mr,A0[e5]=A0[e5]||f2(new Date),A0.ver=A0.ver||"4.0",!_0&&Q0[Tf]()?au()[Fa](A0):N[Xi](A0)},function(){return{item:A0}},!A0.sync)},Q0[Y6]=au,Q0[kl]=function(){return $||($=new Vx(y.cfg),Q0[w]=$),$},Q0[Z3]=function(A0){Q0[kl]()[Z3](A0)},Q0[Q3]=function(A0){$&&$[Q3](A0)},Q0.getCookieMgr=function(){return _e||(_e=Nh(y.cfg,Q0[Os])),_e},Q0.setCookieMgr=function(A0){_e!==A0&&(E5(_e,!1),_e=A0)},Q0[l2]=function(){return!K&&!oe&&lu(y[l1](function(A0){if(A0.cfg.enablePerfMgr){var St=A0.cfg[rh];v0(St)&&(oe=St(Q0,Q0[kl]()))}})),K||oe||T2()},Q0.setPerfMgr=function(A0){K=A0},Q0.eventCnt=function(){return N[gn]},Q0.releaseQueue=function(){if(b&&N[gn]>0){var A0=N;N=[],kr(A0,function(St){au()[Fa](St)})}},Q0[W7]=function(A0){return M0=A0||null,U5=!1,ta&&ta[qc](),v1(!0)};function v1(A0){if((!ta||!ta[$c])&&!U5){var St=A0||S&&S.queue[gn]>0;St&&(a9||(a9=!0,lu(y[l1](function(Ur){var Sr=Ur.cfg.diagnosticLogInterval;(!Sr||!(Sr>0))&&(Sr=1e4);var wr=!1;ta&&(wr=ta[$c],ta[qc]()),ta=H7(G2,Sr),ta.unref(),ta[$c]=wr}))),ta[$c]=!0)}return ta}o(v1,"_startLogPoller"),Q0[t5]=function(){U5=!0,ta&&ta[qc](),G2()},fh(Q0,function(){return h0},["addTelemetryInitializer"]),Q0[Dl]=function(A0,St,Ur){var Sr;A0===void 0&&(A0=!0),b||ms(O),_0&&ms(R);var wr=(Sr={reason:50},Sr[r5]=A0,Sr.flushComplete=!1,Sr),Qi;A0&&!St&&(Qi=f5(function(ha){St=ha}));var Ui=ff($0(),Q0);Ui[o4](function(){F0.run(Q0[Os]),pg([_e,$,S],A0,function(){q5(),St&&St(wr)})},Q0);function ra(ha){wr.flushComplete=ha,_0=!0,H0.run(Ui,wr),Q0[t5](),Ui[Fa](wr)}return o(ra,"_doUnload"),G2(),l9(A0,ra,6,Ur),Qi},Q0[X3]=j4,Q0.addPlugin=function(A0,St,Ur,Sr){if(!A0){Sr&&Sr(!1),rm(_);return}var wr=j4(A0[j1]);if(wr&&!St){Sr&&Sr(!1),rm("Plugin ["+A0[j1]+"] is already loaded!");return}var Qi={reason:16};function Ui(Ul){ze[Xi](A0),Qi.added=[A0],kf(Qi),Sr&&Sr(!0)}if(o(Ui,"_addPlugin"),wr){var ra=[wr.plugin],ha={reason:2,isAsync:!!Ur};em(ra,ha,function(Ul){Ul?(Qi.removed=ra,Qi.reason|=32,Ui()):Sr&&Sr(!1)})}else Ui()},Q0.updateCfg=function(A0,St){St===void 0&&(St=!0);var Ur;if(Q0[Tf]()){Ur={reason:1,cfg:y.cfg,oldCfg:M7({},y.cfg),newConfig:M7({},A0),merge:St},A0=Ur.newConfig;var Sr=y.cfg;A0[c5]=Sr[c5],A0[Vc]=Sr[Vc]}y._block(function(wr){var Qi=wr.cfg;b0(wr,Qi,A0,St),St||Qt(Qi,function(Ui){le(A0,Ui)||wr.set(Qi,Ui,Bl)}),wr[Zu](Qi,ae)},!0),y[s4](),Ur&&tm(Ur)},Q0.evtNamespace=function(){return w0},Q0.flush=l9,Q0.getTraceCtx=function(A0){return W0||(W0=Jx()),W0},Q0.setTraceCtx=function(A0){W0=A0||null},Q0.addUnloadHook=lu,d5(Q0,"addUnloadCb",function(){return H0},"add"),Q0.onCfgChange=function(A0){var St;return b?St=C5(y.cfg,A0,Q0[Os]):St=X0(Ji,A0),{rm:function(){St.rm()}}},Q0.getWParam=function(){return N6()||y.cfg.enableWParam?0:-1};function z2(){var A0={};gs=[];var St=o(function(Ur){Ur&&kr(Ur,function(Sr){if(Sr[j1]&&Sr[Y7]&&!A0[Sr.identifier]){var wr=Sr[j1]+"="+Sr[Y7];gs[Xi](wr),A0[Sr.identifier]=Sr}})},"_addPluginVersions");St(S0),x0&&kr(x0,function(Ur){St(Ur)}),St(ze)}o(z2,"_setPluginVersions");function q5(){b=!1,y=ba({},ae,Q0[Os]),y.cfg[J7]=1,Is(Q0,"config",{g:function(){return y.cfg},s:function(St){Q0.updateCfg(St,!1)}}),Is(Q0,"pluginVersionStringArr",{g:function(){return gs||z2(),gs}}),Is(Q0,"pluginVersionString",{g:function(){return Sa||(gs||z2(),Sa=gs.join(";")),Sa||Di}}),Is(Q0,"logger",{g:function(){return S||(S=new w4(y.cfg),y[Os]=S),S},s:function(St){y[Os]=St,S!==St&&(E5(S,!1),S=St)}}),Q0[Os]=new w4(y.cfg),Ps=[];var A0=Q0.config[c5]||[];A0.splice(0,A0[gn]),O1(A0,Ps),h0=new t_,N=[],E5($,!1),$=null,K=null,oe=null,E5(_e,!1),_e=null,Ie=null,ze=[],x0=null,S0=null,_0=!1,M0=null,w0=Ol("AIBaseCore",!0),H0=Uh(),W0=null,Mr=null,F0=Dg(),Ji=[],Sa=null,gs=null,U5=!1}o(q5,"_initDefaults");function au(){var A0=tc($0(),y.cfg,Q0);return A0[o4](v1),A0}o(au,"_createTelCtx");function kf(A0){var St=i0(Q0[Os],yg,ze);Ie=null,Sa=null,gs=null,S0=(x0||[])[0]||[],S0=Mh(O1(S0,St[Vc]));var Ur=O1(Mh(St[Ms]),S0);Ps=Yi(Ur);var Sr=Q0.config[c5]||[];Sr.splice(0,Sr[gn]),O1(Sr,Ps);var wr=au();S0&&S0[gn]>0&&Ng(wr[nf](S0),Ur),Ng(wr,Ur),A0&&tm(A0)}o(kf,"_initPluginChain");function j4(A0){var St=null,Ur=null,Sr=[];return kr(Ps,function(wr){if(wr[j1]===A0&&wr!==h0)return Ur=wr,-1;wr.getChannel&&Sr[Xi](wr)}),!Ur&&Sr[gn]>0&&kr(Sr,function(wr){if(Ur=wr.getChannel(A0),!Ur)return-1}),Ur&&(St={plugin:Ur,setEnabled:function(wr){eu(Ur)[Oa]=!wr},isEnabled:function(){var wr=eu(Ur);return!wr[f1]&&!wr[Oa]},remove:function(wr,Qi){var Ui;wr===void 0&&(wr=!0);var ra=[Ur],ha=(Ui={reason:1},Ui[r5]=wr,Ui);em(ra,ha,function(Ul){Ul&&kf({reason:32,removed:ra}),Qi&&Qi(Ul)})}}),St}o(j4,"_getPlugin");function $0(){if(!Ie){var A0=(Ps||[]).slice();Nl(A0,h0)===-1&&A0[Xi](h0),Ie=cf(Mh(A0),y.cfg,Q0)}return Ie}o($0,"_getPluginChain");function em(A0,St,Ur){if(A0&&A0[gn]>0){var Sr=cf(A0,y.cfg,Q0),wr=ff(Sr,Q0);wr[o4](function(){var Qi=!1,Ui=[];kr(ze,function(ha,Ul){c0(ha,A0)?Qi=!0:Ui[Xi](ha)}),ze=Ui,Sa=null,gs=null;var ra=[];x0&&(kr(x0,function(ha,Ul){var $5=[];kr(ha,function(nm){c0(nm,A0)?Qi=!0:$5[Xi](nm)}),ra[Xi]($5)}),x0=ra),Ur&&Ur(Qi),v1()}),wr[Fa](St)}else Ur(!1)}o(em,"_removePlugins");function G2(){if(S&&S.queue){var A0=S.queue.slice(0);S.queue[gn]=0,kr(A0,function(St){var Ur,Sr=(Ur={},Ur[V1]=M0||"InternalMessageId: "+St[a4],Ur.iKey=Mr,Ur[e5]=f2(new Date),Ur.baseType=S5.dataType,Ur.baseData={message:St[Hc]},Ur);Q0.track(Sr)})}}o(G2,"_flushInternalLogs");function l9(A0,St,Ur,Sr){var wr=1,Qi=!1,Ui=null;Sr=Sr||5e3;function ra(){wr--,Qi&&wr===0&&(Ui&&Ui[qc](),Ui=null,St&&St(Qi),St=null)}if(o(ra,"doCallback"),S0&&S0[gn]>0){var ha=au()[nf](S0);ha.iterate(function(Ul){if(Ul.flush){wr++;var $5=!1;Ul.flush(A0,function(){$5=!0,ra()},Ur)||$5||(A0&&Ui==null?Ui=Ef(function(){Ui=null,ra()},Sr):ra())}})}return Qi=!0,ra(),!0}o(l9,"_flushChannels");function k_(){!$&&Q0[kl](),lu(y[l1](function(A0){var St=A0.cfg.disableDbgExt;St===!0&&R0&&($[Q3](R0),R0=null),$&&!R0&&St!==!0&&(R0=Mx(A0.cfg),$[Z3](R0))}))}o(k_,"_initDebugListener");function D_(){lu(y[l1](function(A0){var St=A0.cfg.enablePerfMgr;!St&&oe&&(oe=null),St&&ig(A0.cfg,rh,qe)}))}o(D_,"_initPerfManager");function tm(A0){var St=g1($0(),Q0);St[o4](v1),(!Q0._updateHook||Q0._updateHook(St,A0)!==!0)&&St[Fa](A0)}o(tm,"_doUpdate");function rm(A0){var St=Q0[Os];St?(pr(St,2,73,A0),v1()):ms(A0)}o(rm,"_logOrThrowError");function f9(A0){var St=Q0[kl]();St&&St[K1]([A0],2)}o(f9,"_notifyInvalidEvent");function lu(A0){F0.add(A0)}o(lu,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}(),Br="on",fr="attachEvent",mn="addEventListener",Er="detachEvent",Oi="removeEventListener",ln="events";Ol("aiEvtPageHide"),Ol("aiEvtPageShow");var Lr=/\.[\.]+/g,ws=/[\.]+$/,N5=1,ic=Pf("events"),Bg=/^([^.]*)(?:\.(.+)|)/;function Hh(g){return g&&g[jc]?g[jc](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Di):g}o(Hh,"_normalizeNamespace");function jh(g,y){var b;if(y){var S=Di;ue(y)?(S=Di,kr(y,function($){$=Hh($),$&&($[0]!=="."&&($="."+$),S+=$)})):S=Hh(y),S&&(S[0]!=="."&&(S="."+S),g=(g||Di)+S)}var N=Bg.exec(g||Di)||[];return b={},b[Sf]=N[1],b.ns=(N[2]||Di).replace(Lr,".").replace(ws,Di)[i5](".").sort().join("."),b}o(jh,"_getEvtNamespace");function Lg(g,y,b){b===void 0&&(b=!0);var S=ic.get(g,ln,{},b),N=S[y];return N||(N=S[y]=[]),N}o(Lg,"_getRegisteredEvents");function k4(g,y,b,S){g&&y&&y[Sf]&&(g[Oi]?g[Oi](y[Sf],b,S):g[Er]&&g[Er](Br+y[Sf],b))}o(k4,"_doDetach");function Fg(g,y,b,S){var N=!1;return g&&y&&y[Sf]&&b&&(g[mn]?(g[mn](y[Sf],b,S),N=!0):g[fr]&&(g[fr](Br+y[Sf],b),N=!0)),N}o(Fg,"_doAttach");function Vh(g,y,b,S){for(var N=y[gn];N--;){var $=y[N];$&&(!b.ns||b.ns===$.evtName.ns)&&(!S||S($))&&(k4(g,$.evtName,$[J6],$.capture),y[Uc](N,1))}}o(Vh,"_doUnregister");function j0(g,y,b){if(y[Sf])Vh(g,Lg(g,y[Sf]),y,b);else{var S=ic.get(g,ln,{});Qt(S,function(N,$){Vh(g,$,y,b)}),Xl(S)[gn]===0&&ic.kill(g,ln)}}o(j0,"_unregisterEvents");function gr(g,y){var b;return y?(ue(y)?b=[g].concat(y):b=[g,y],b=jh("xx",b).ns[i5](".")):b=g,b}o(gr,"mergeEvtNamespace");function en(g,y,b,S,N){var $;N===void 0&&(N=!1);var K=!1;if(g)try{var oe=jh(y,S);if(K=Fg(g,oe,b,N),K&&ic.accept(g)){var _e=($={guid:N5++,evtName:oe},$[J6]=b,$.capture=N,$);Lg(g,oe.type)[Xi](_e)}}catch{}return K}o(en,"eventOn");function hs(g,y,b,S,N){if(N===void 0&&(N=!1),g)try{var $=jh(y,S),K=!1;j0(g,$,function(oe){return $.ns&&!b||oe[J6]===b?(K=!0,!0):!1}),K||k4(g,$,b,N)}catch{}}o(hs,"eventOff");var Js="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",qs="sampleRate",$s="ProcessLegacy",tu="http.method",m1="https://dc.services.visualstudio.com",p1="/v2/track",sc="not_specified",k5=W6({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),S2="split",Bi="length",Og="toLowerCase",I2="ingestionendpoint",D4="toString",r_="push",YM="removeItem",D5="name",w2="message",JM="count",n_="stringify",i_="pathname",B4="exceptions",y1="parsedStack",oc="properties",ru="measurements",L4="sizeInBytes",nu="typeName",zh="severityLevel",s_="problemGroup",o_="isManual",Ww="CreateFromInterface",F4="assembly",A2="fileName",Mg="hasFullStack",Ug="level",O4="method",Gh="line",qg="duration",Yw="receivedResponse";function Jw(g,y,b){var S=y[Bi],N=XM(g,y);if(N[Bi]!==S){for(var $=0,K=N;b[K]!==void 0;)$++,K=Gi(N,0,147)+eU($);N=K}return N}o(Jw,"dataSanitizeKeyAndAddUniqueness");function XM(g,y){var b;return y&&(y=Ws(bs(y)),y[Bi]>150&&(b=Gi(y,0,150),pr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),b||y}o(XM,"dataSanitizeKey");function al(g,y,b){b===void 0&&(b=1024);var S;return y&&(b=b||1024,y=Ws(bs(y)),y[Bi]>b&&(S=Gi(y,0,b),pr(g,2,61,"string value is too long. It has been truncated to "+b+" characters.",{value:y},!0))),S||y}o(al,"dataSanitizeString");function a_(g,y){return Zw(g,y,2048,66)}o(a_,"dataSanitizeUrl");function Xw(g,y){var b;return y&&y[Bi]>32768&&(b=Gi(y,0,32768),pr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),b||y}o(Xw,"dataSanitizeMessage");function ZM(g,y){var b;if(y){var S=""+y;S[Bi]>32768&&(b=Gi(S,0,32768),pr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return b||y}o(ZM,"dataSanitizeException");function P2(g,y){if(y){var b={};Qt(y,function(S,N){if(Jt(N)&&vl())try{N=wf()[n_](N)}catch($){pr(g,2,49,"custom property is not valid",{exception:$},!0)}N=al(g,N,8192),S=Jw(g,S,b),b[S]=N}),y=b}return y}o(P2,"dataSanitizeProperties");function R2(g,y){if(y){var b={};Qt(y,function(S,N){S=Jw(g,S,b),b[S]=N}),y=b}return y}o(R2,"dataSanitizeMeasurements");function QM(g,y){return y&&Zw(g,y,128,69)[D4]()}o(QM,"dataSanitizeId");function Zw(g,y,b,S){var N;return y&&(y=Ws(bs(y)),y[Bi]>b&&(N=Gi(y,0,b),pr(g,2,S,"input is too long, it has been truncated to "+b+" characters.",{data:y},!0))),N||y}o(Zw,"dataSanitizeInput");function eU(g){var y="00"+g;return Pl(y,y[Bi]-3)}o(eU,"dsPadNumber");var Qw=Bc()||{},eA=0,tU=[null,null,null,null,null];function rU(g){var y=eA,b=tU,S=b[y];return Qw.createElement?b[y]||(S=b[y]=Qw.createElement("a")):S={host:nU(g,!0)},S.href=g,y++,y>=b[Bi]&&(y=0),eA=y,S}o(rU,"urlParseUrl");function nU(g,y){var b=iU(g,y)||"";if(b){var S=b.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[Bi]>3&&O0(S[2])&&S[2][Bi]>0)return S[2]+(S[3]||"")}return b}o(nU,"urlParseHost");function iU(g,y){var b=null;if(g){var S=g.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[Bi]>2&&O0(S[2])&&S[2][Bi]>0&&(b=S[2]||"",y&&S[Bi]>2)){var N=(S[1]||"")[Og](),$=S[3]||"";(N==="http"&&$===":80"||N==="https"&&$===":443")&&($=""),b+=$}}return b}o(iU,"urlParseFullHost");var sU=[m1+p1,"https://breeze.aimon.applicationinsights.io"+p1,"https://dc-int.services.visualstudio.com"+p1];function $g(g){return Nl(sU,g[Og]())!==-1}o($g,"isInternalApplicationInsightsEndpoint");function oU(g,y,b,S){var N,$=S,K=S;if(y&&y[Bi]>0){var oe=rU(y);if(N=oe.host,!$)if(oe[i_]!=null){var _e=oe.pathname[Bi]===0?"/":oe[i_];_e.charAt(0)!=="/"&&(_e="/"+_e),K=oe[i_],$=al(g,b?b+" "+_e:_e)}else $=al(g,y)}else N=S,$=S;return{target:N,name:$,data:K}}o(oU,"AjaxHelperParseDependencyPath");var l_=n4({LocalStorage:0,SessionStorage:1}),Kh=void 0,tA="";function rA(g){try{if(ce(Zl()))return null;var y=new Date()[D4](),b=Qs(g===l_.LocalStorage?"localStorage":"sessionStorage"),S=tA+y;b.setItem(S,y);var N=b.getItem(S)!==y;if(b[YM](S),!N)return b}catch{}return null}o(rA,"_getVerifiedStorageObject");function nA(){return iA()?rA(l_.SessionStorage):null}o(nA,"_getSessionStorageObject");function aU(g){tA=g||""}o(aU,"utlSetStoragePrefix");function iA(g){return(g||Kh===void 0)&&(Kh=!!rA(l_.SessionStorage)),Kh}o(iA,"utlCanUseSessionStorage");function lU(g,y){var b=nA();if(b!==null)try{return b.getItem(y)}catch(S){Kh=!1,pr(g,2,2,"Browser failed read of session storage. "+Ua(S),{exception:Ci(S)})}return null}o(lU,"utlGetSessionStorage");function fU(g,y,b){var S=nA();if(S!==null)try{return S.setItem(y,b),!0}catch(N){Kh=!1,pr(g,2,4,"Browser failed write to session storage. "+Ua(N),{exception:Ci(N)})}return!1}o(fU,"utlSetSessionStorage");var cU=";",uU="=";function dU(g){if(!g)return{};var y=g[S2](cU),b=xx(y,function(N,$){var K=$[S2](uU);if(K[Bi]===2){var oe=K[0][Og](),_e=K[1];N[oe]=_e}return N},{});if(Xl(b)[Bi]>0){if(b.endpointsuffix){var S=b.location?b.location+".":"";b[I2]=b[I2]||"https://"+S+"dc."+b.endpointsuffix}b[I2]=b[I2]||m1,zd(b[I2],"/")&&(b[I2]=b[I2].slice(0,-1))}return b}o(dU,"parseConnectionString");var hU=function(){function g(y,b,S){var N=this,$=this;$.ver=1,$.sampleRate=100,$.tags={},$[D5]=al(y,S)||sc,$.data=b,$.time=f2(new Date),$.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return N.sampleRate===100?4:1},tags:1,data:1}}return o(g,"Envelope"),g}(),M4=function(){function g(y,b,S,N){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var $=this;$.ver=2,$[D5]=al(y,b)||sc,$[oc]=P2(y,S),$[ru]=R2(y,N)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),gU="<no_method>",U4="error",Ml="stack",f_="stackDetails",sA="errorSrc",c_="message",oA="description";function u_(g,y){var b=g;return b&&!O0(b)&&(JSON&&JSON[n_]?(b=JSON[n_](g),y&&(!b||b==="{}")&&(v0(g[D4])?b=g[D4]():b=""+g)):b=""+g+" - (Missing JSON.stringify)"),b||""}o(u_,"_stringify");function aA(g,y){var b=g;return g&&(b&&!O0(b)&&(b=g[c_]||g[oA]||b),b&&!O0(b)&&(b=u_(b,!0)),g.filename&&(b=b+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Ku(b||"",y)===-1&&(b=y+": "+b),b||""}o(aA,"_formatMessage");function mU(g){try{if(Jt(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(mU,"_isExceptionDetailsInternal");function pU(g){try{if(Jt(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(pU,"_isExceptionInternal");function lA(g){return g&&g.src&&O0(g.src)&&g.obj&&ue(g.obj)}o(lA,"_isStackDetails");function N2(g){var y=g||"";O0(y)||(O0(y[Ml])?y=y[Ml]:y=""+y);var b=y[S2](`
`);return{src:y,obj:b}}o(N2,"_convertStackObj");function yU(g){for(var y=[],b=g[S2](`
`),S=0;S<b[Bi];S++){var N=b[S];b[S+1]&&(N+="@"+b[S+1],S++),y[r_](N)}return{src:g,obj:y}}o(yU,"_getOperaStack");function fA(g){var y=null;if(g)try{if(g[Ml])y=N2(g[Ml]);else if(g[U4]&&g[U4][Ml])y=N2(g[U4][Ml]);else if(g.exception&&g.exception[Ml])y=N2(g.exception[Ml]);else if(lA(g))y=g;else if(lA(g[f_]))y=g[f_];else if(n1()&&n1().opera&&g[c_])y=yU(g[w2]);else if(g.reason&&g.reason[Ml])y=N2(g.reason[Ml]);else if(O0(g))y=N2(g);else{var b=g[c_]||g[oA]||"";O0(g[sA])&&(b&&(b+=`
`),b+=" from "+g[sA]),b&&(y=N2(b))}}catch(S){y=N2(S)}return y||{src:"",obj:null}}o(fA,"_getStackFromErrorObj");function vU(g){var y="";return g&&(g.obj?kr(g.obj,function(b){y+=b+`
`}):y=g.src||""),y}o(vU,"_formatStackTrace");function xU(g){var y,b=g.obj;if(b&&b[Bi]>0){y=[];var S=0,N=0;kr(b,function(h0){var M0=h0[D4]();if(h_.regex.test(M0)){var w0=new h_(M0,S++);N+=w0[L4],y[r_](w0)}});var $=32*1024;if(N>$)for(var K=0,oe=y[Bi]-1,_e=0,Ie=K,ze=oe;K<oe;){var x0=y[K][L4],S0=y[oe][L4];if(_e+=x0+S0,_e>$){var _0=ze-Ie+1;y.splice(Ie,_0);break}Ie=K,ze=oe,K++,oe--}}return y}o(xU,"_parseStack");function Hg(g){var y="";if(g&&(y=g.typeName||g[D5]||"",!y))try{var b=/function (.{1,200})\(/,S=b.exec(g.constructor[D4]());y=S&&S[Bi]>1?S[1]:""}catch{}return y}o(Hg,"_getErrorType");function d_(g){if(g)try{if(!O0(g)){var y=Hg(g),b=u_(g,!1);return(!b||b==="{}")&&(g[U4]&&(g=g[U4],y=Hg(g)),b=u_(g,!0)),Ku(b,y)!==0&&y!=="String"?y+":"+b:b}}catch{}return""+(g||"")}o(d_,"_formatErrorCode");var jg=function(){function g(y,b,S,N,$,K){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,pU(b)?(oe[B4]=b[B4]||[],oe[oc]=b[oc],oe[ru]=b[ru],b[zh]&&(oe[zh]=b[zh]),b.id&&(oe.id=b.id,b[oc].id=b.id),b[s_]&&(oe[s_]=b[s_]),ce(b[o_])||(oe[o_]=b[o_])):(S||(S={}),K&&(S.id=K),oe[B4]=[new cA(y,b,S)],oe[oc]=P2(y,S),oe[ru]=R2(y,N),$&&(oe[zh]=$),K&&(oe.id=K))}return o(g,"Exception"),g.CreateAutoException=function(y,b,S,N,$,K,oe,_e){var Ie,ze=Hg($||K||y);return Ie={},Ie[w2]=aA(y,ze),Ie.url=b,Ie.lineNumber=S,Ie.columnNumber=N,Ie.error=d_($||K||y),Ie.evt=d_(K||y),Ie[nu]=ze,Ie.stackDetails=fA(oe||$||K),Ie.errorSrc=_e,Ie},g.CreateFromInterface=function(y,b,S,N){var $=b[B4]&&A3(b[B4],function(oe){return cA[Ww](y,oe)}),K=new g(y,H1(H1({},b),{exceptions:$}),S,N);return K},g.prototype.toInterface=function(){var y,b=this,S=b.exceptions,N=b.properties,$=b.measurements,K=b.severityLevel,oe=b.problemGroup,_e=b.id,Ie=b.isManual,ze=S instanceof Array&&A3(S,function(x0){return x0.toInterface()})||void 0;return y={ver:"4.0"},y[B4]=ze,y.severityLevel=K,y.properties=N,y.measurements=$,y.problemGroup=oe,y.id=_e,y.isManual=Ie,y},g.CreateSimpleException=function(y,b,S,N,$,K){var oe;return{exceptions:[(oe={},oe[Mg]=!0,oe.message=y,oe.stack=$,oe.typeName=b,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=d_,g}(),cA=function(){function g(y,b,S){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var N=this;if(mU(b))N[nu]=b[nu],N[w2]=b[w2],N[Ml]=b[Ml],N[y1]=b[y1]||[],N[Mg]=b[Mg];else{var $=b,K=$&&$.evt;D0($)||($=$[U4]||K||$),N[nu]=al(y,Hg($))||sc,N[w2]=Xw(y,aA(b||$,N[nu]))||sc;var oe=b[f_]||fA(b);N[y1]=xU(oe),ue(N[y1])&&A3(N[y1],function(_e){_e[F4]=al(y,_e[F4]),_e[A2]=al(y,_e[A2])}),N[Ml]=ZM(y,vU(oe)),N.hasFullStack=ue(N.parsedStack)&&N.parsedStack[Bi]>0,S&&(S[nu]=S[nu]||N[nu])}}return o(g,"_ExceptionDetails"),g.prototype.toInterface=function(){var y,b=this,S=b[y1]instanceof Array&&A3(b[y1],function($){return $.toInterface()}),N=(y={id:b.id,outerId:b.outerId,typeName:b[nu],message:b[w2],hasFullStack:b[Mg],stack:b[Ml]},y[y1]=S||void 0,y);return N},g.CreateFromInterface=function(y,b){var S=b[y1]instanceof Array&&A3(b[y1],function($){return h_[Ww]($)})||b[y1],N=new g(y,H1(H1({},b),{parsedStack:S}));return N},g}(),h_=function(){function g(y,b){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var S=this;if(S[L4]=0,typeof y=="string"){var N=y;S[Ug]=b,S[O4]=gU,S[F4]=Ws(N),S[A2]="",S[Gh]=0;var $=N.match(g.regex);$&&$[Bi]>=5&&(S[O4]=Ws($[2])||S[O4],S[A2]=Ws($[4]),S[Gh]=parseInt($[5])||0)}else S[Ug]=y[Ug],S[O4]=y[O4],S[F4]=y[F4],S[A2]=y[A2],S[Gh]=y[Gh],S[L4]=0;S.sizeInBytes+=S.method[Bi],S.sizeInBytes+=S.fileName[Bi],S.sizeInBytes+=S.assembly[Bi],S[L4]+=g.baseSize,S.sizeInBytes+=S.level.toString()[Bi],S.sizeInBytes+=S.line.toString()[Bi]}return o(g,"_StackFrame"),g.CreateFromInterface=function(y){return new g(y,null)},g.prototype.toInterface=function(){var y=this;return{level:y[Ug],method:y[O4],assembly:y[F4],fileName:y[A2],line:y[Gh]}},g.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,g.baseSize=58,g}(),_U=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),Wh=function(){function g(y,b,S,N,$,K,oe,_e,Ie){this.aiDataContract={ver:1,metrics:1,properties:0};var ze=this;ze.ver=2;var x0=new _U;x0[JM]=N>0?N:void 0,x0.max=isNaN(K)||K===null?void 0:K,x0.min=isNaN($)||$===null?void 0:$,x0[D5]=al(y,b)||sc,x0.value=S,x0.stdDev=isNaN(oe)||oe===null?void 0:oe,ze.metrics=[x0],ze[oc]=P2(y,_e),ze[ru]=R2(y,Ie)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),Yh="";function uA(g){(isNaN(g)||g<0)&&(g=0),g=Math.round(g);var y=Yh+g%1e3,b=Yh+Math.floor(g/1e3)%60,S=Yh+Math.floor(g/(1e3*60))%60,N=Yh+Math.floor(g/(1e3*60*60))%24,$=Math.floor(g/(1e3*60*60*24));return y=y[Bi]===1?"00"+y:y[Bi]===2?"0"+y:y,b=b[Bi]<2?"0"+b:b,S=S[Bi]<2?"0"+S:S,N=N[Bi]<2?"0"+N:N,($>0?$+".":Yh)+N+":"+S+":"+b+"."+y}o(uA,"msToTimeSpan");var Vg=function(){function g(y,b,S,N,$,K,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var _e=this;_e.ver=2,_e.id=QM(y,oe),_e.url=a_(y,S),_e[D5]=al(y,b)||sc,isNaN(N)||(_e[qg]=uA(N)),_e[oc]=P2(y,$),_e[ru]=R2(y,K)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),zg=function(){function g(y,b,S,N,$,K,oe,_e,Ie,ze,x0,S0){Ie===void 0&&(Ie="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var _0=this;_0.ver=2,_0.id=b,_0[qg]=uA($),_0.success=K,_0.resultCode=oe+"",_0.type=al(y,Ie);var h0=oU(y,S,_e,N);_0.data=a_(y,N)||h0.data,_0.target=al(y,h0.target),ze&&(_0.target="".concat(_0.target," | ").concat(ze)),_0[D5]=al(y,h0[D5]),_0[oc]=P2(y,x0),_0[ru]=R2(y,S0)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),Gg=function(){function g(y,b,S,N,$){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var K=this;K.ver=2,b=b||sc,K[w2]=Xw(y,b),K[oc]=P2(y,N),K[ru]=R2(y,$),S&&(K[zh]=S)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),Kg=function(){function g(y,b,S,N,$,K,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var _e=this;_e.ver=2,_e.url=a_(y,S),_e[D5]=al(y,b)||sc,_e[oc]=P2(y,$),_e[ru]=R2(y,K),oe&&(_e.domProcessing=oe.domProcessing,_e[qg]=oe[qg],_e.networkConnect=oe.networkConnect,_e.perfTotal=oe.perfTotal,_e[Yw]=oe[Yw],_e.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),k2=function(){function g(y,b){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=b}return o(g,"Data"),g}(),bU=n4({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function B5(g){var y="ai."+g+".";return function(b){return y+b}}o(B5,"_aiNameFunc");var Jh=B5("application"),da=B5("device"),Wg=B5("location"),q4=B5("operation"),g_=B5("session"),L5=B5("user"),D2=B5("cloud"),Xh=B5("internal"),dA=function(g){z3(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(Nx({applicationVersion:Jh("ver"),applicationBuild:Jh("build"),applicationTypeId:Jh("typeId"),applicationId:Jh("applicationId"),applicationLayer:Jh("layer"),deviceId:da("id"),deviceIp:da("ip"),deviceLanguage:da("language"),deviceLocale:da("locale"),deviceModel:da("model"),deviceFriendlyName:da("friendlyName"),deviceNetwork:da("network"),deviceNetworkName:da("networkName"),deviceOEMName:da("oemName"),deviceOS:da("os"),deviceOSVersion:da("osVersion"),deviceRoleInstance:da("roleInstance"),deviceRoleName:da("roleName"),deviceScreenResolution:da("screenResolution"),deviceType:da("type"),deviceMachineName:da("machineName"),deviceVMName:da("vmName"),deviceBrowser:da("browser"),deviceBrowserVersion:da("browserVersion"),locationIp:Wg("ip"),locationCountry:Wg("country"),locationProvince:Wg("province"),locationCity:Wg("city"),operationId:q4("id"),operationName:q4("name"),operationParentId:q4("parentId"),operationRootId:q4("rootId"),operationSyntheticSource:q4("syntheticSource"),operationCorrelationVector:q4("correlationVector"),sessionId:g_("id"),sessionIsFirst:g_("isFirst"),sessionIsNew:g_("isNew"),userAccountAcquisitionDate:L5("accountAcquisitionDate"),userAccountId:L5("accountId"),userAgent:L5("userAgent"),userId:L5("id"),userStoreRegion:L5("storeRegion"),userAuthUserId:L5("authUserId"),userAnonymousUserAcquisitionDate:L5("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:L5("authUserAcquisitionDate"),cloudName:D2("name"),cloudRole:D2("role"),cloudRoleVer:D2("roleVer"),cloudRoleInstance:D2("roleInstance"),cloudEnvironment:D2("environment"),cloudLocation:D2("location"),cloudDeploymentUnit:D2("deploymentUnit"),internalNodeName:Xh("nodeName"),internalSdkVersion:Xh("sdkVersion"),internalAgentVersion:Xh("agentVersion"),internalSnippet:Xh("snippet"),internalSdkSrc:Xh("sdkSrc")})),Ha=new dA;function hA(g,y){hs(g,null,null,y)}o(hA,"_disableEvents");function CU(g){var y=Bc(),b=F1(),S=!1,N=[],$=1;b&&!ce(b.onLine)&&!b.onLine&&($=2);var K=0,oe=S0(),_e=gr(Ol("OfflineListener"),g);try{if(ze(n1())&&(S=!0),y){var Ie=y.body||y;Ie.ononline&&ze(Ie)&&(S=!0)}}catch{S=!1}function ze(R0){var W0=!1;return R0&&(W0=en(R0,"online",M0,_e),W0&&en(R0,"offline",w0,_e)),W0}o(ze,"_enableEvents");function x0(){return oe}o(x0,"_isOnline");function S0(){return!(K===2||$===2)}o(S0,"calCurrentState");function _0(){var R0=S0();oe!==R0&&(oe=R0,kr(N,function(W0){var Mr={isOnline:oe,rState:$,uState:K};try{W0(Mr)}catch{}}))}o(_0,"listnerNoticeCheck");function h0(R0){K=R0,_0()}o(h0,"setOnlineState");function M0(){$=1,_0()}o(M0,"_setOnline");function w0(){$=2,_0()}o(w0,"_setOffline");function H0(){var R0=n1();if(R0&&S){if(hA(R0,_e),y){var W0=y.body||y;f0(W0.ononline)||hA(W0,_e)}S=!1}}o(H0,"_unload");function F0(R0){return N[r_](R0),{rm:function(){var W0=N.indexOf(R0);if(W0>-1)return N.splice(W0,1)}}}return o(F0,"addListener"),{isOnline:x0,isListening:function(){return S},unload:H0,addListener:F0,setOnlineState:h0}}o(CU,"createOfflineListener");var EU="AppInsightsChannelPlugin",B2="duration",ja="tags",m_="deviceType",Ca="data",iu="name",Zh="traceID",pn="length",Qh="stringify",L2="measurements",ac="dataType",F2="envelopeType",O2="toString",e9="_get",M2="enqueue",U2="count",gA="eventsLimitInMem",$4="push",p_="emitLineDelimitedJson",q2="clear",y_="batchPayloads",v_="createNew",H4="markAsSent",t9="clearSent",x_="bufferOverride",__="BUFFER_KEY",F5="SENT_BUFFER_KEY",r9="concat",n9="MAX_BUFFER_SIZE",b_="sendPOST",i9="triggerSend",Ea="diagLog",s9="_sender",C_="customHeaders",mA="maxBatchSizeInBytes",E_="onunloadDisableBeacon",T_="isBeaconApiDisabled",pA="alwaysUseXhrOverride",yA="enableSessionStorageBuffer",O5="_buffer",vA="onunloadDisableFetch",xA="disableSendBeaconSplit",_A="instrumentationKey",bA="unloadTransports",CA="convertUndefined",EA="maxBatchInterval",Yg="serialize",TU="_xhrReadyStateChange",$2="_onError",S_="_onPartialSuccess",Jg="_onSuccess",Xg="itemsAccepted",SU="itemsReceived",I_="baseType",Zg="sampleRate",o9="oriPayload",w_="setRequestHeader",TA="eventsSendRequest",SA="getSamplingScore",IU="getHashCodeScore",A_="baseType",As="baseData",Ta="properties",IA="true";function ea(g,y,b){return W1(g,y,b,hr)}o(ea,"_setValueIf");function wU(g,y,b){var S=b[ja]=b[ja]||{},N=y.ext=y.ext||{},$=y[ja]=y[ja]||[],K=N.user;K&&(ea(S,Ha.userAuthUserId,K.authId),ea(S,Ha.userId,K.id||K.localId));var oe=N.app;oe&&ea(S,Ha.sessionId,oe.sesId);var _e=N.device;_e&&(ea(S,Ha.deviceId,_e.id||_e.localId),ea(S,Ha[m_],_e.deviceClass),ea(S,Ha.deviceIp,_e.ip),ea(S,Ha.deviceModel,_e.model),ea(S,Ha[m_],_e[m_]));var Ie=y.ext.web;if(Ie){ea(S,Ha.deviceLanguage,Ie.browserLang),ea(S,Ha.deviceBrowserVersion,Ie.browserVer),ea(S,Ha.deviceBrowser,Ie.browser);var ze=b[Ca]=b[Ca]||{},x0=ze[As]=ze[As]||{},S0=x0[Ta]=x0[Ta]||{};ea(S0,"domain",Ie.domain),ea(S0,"isManual",Ie.isManual?IA:null),ea(S0,"screenRes",Ie.screenRes),ea(S0,"userConsent",Ie.userConsent?IA:null)}var _0=N.os;_0&&ea(S,Ha.deviceOS,_0[iu]);var h0=N.trace;h0&&(ea(S,Ha.operationParentId,h0.parentID),ea(S,Ha.operationName,al(g,h0[iu])),ea(S,Ha.operationId,h0[Zh]));for(var M0={},w0=$[pn]-1;w0>=0;w0--){var H0=$[w0];Qt(H0,function(R0,W0){M0[R0]=W0}),$.splice(w0,1)}Qt($,function(R0,W0){M0[R0]=W0});var F0=H1(H1({},S),M0);F0[Ha.internalSdkVersion]||(F0[Ha.internalSdkVersion]=al(g,"javascript:".concat(AU.Version),64)),b[ja]=og(F0)}o(wU,"_extractPartAExtensions");function M5(g,y,b){ce(g)||Qt(g,function(S,N){Ve(N)?b[S]=N:O0(N)?y[S]=N:vl()&&(y[S]=wf()[Qh](N))})}o(M5,"_extractPropsAndMeasurements");function H2(g,y){ce(g)||Qt(g,function(b,S){g[b]=S||y})}o(H2,"_convertPropsUndefinedToCustomDefinedValue");function j2(g,y,b,S){var N=new hU(g,S,y);ea(N,"sampleRate",b[qs]),(b[As]||{}).startTime&&(N.time=f2(b[As].startTime)),N.iKey=b.iKey;var $=b.iKey.replace(/-/g,"");return N[iu]=N[iu].replace("{0}",$),wU(g,b,N),b[ja]=b[ja]||[],og(N)}o(j2,"_createEnvelope");function V2(g,y){ce(y[As])&&pr(g,1,46,"telemetryItem.baseData cannot be null.")}o(V2,"EnvelopeCreatorInit");var AU={Version:"3.1.0"};function PU(g,y,b){V2(g,y);var S=y[As][L2]||{},N=y[As][Ta]||{};M5(y[Ca],N,S),ce(b)||H2(N,b);var $=y[As];if(ce($))return I5(g,"Invalid input for dependency data"),null;var K=$[Ta]&&$[Ta][tu]?$[Ta][tu]:"GET",oe=new zg(g,$.id,$.target,$[iu],$[B2],$.success,$.responseCode,K,$.type,$.correlationContext,N,S),_e=new k2(zg[ac],oe);return j2(g,zg[F2],y,_e)}o(PU,"DependencyEnvelopeCreator");function wA(g,y,b){V2(g,y);var S={},N={};y[A_]!==M4[ac]&&(S.baseTypeSource=y[A_]),y[A_]===M4[ac]?(S=y[As][Ta]||{},N=y[As][L2]||{}):y[As]&&M5(y[As],S,N),M5(y[Ca],S,N),ce(b)||H2(S,b);var $=y[As][iu],K=new M4(g,$,S,N),oe=new k2(M4[ac],K);return j2(g,M4[F2],y,oe)}o(wA,"EventEnvelopeCreator");function RU(g,y,b){V2(g,y);var S=y[As][L2]||{},N=y[As][Ta]||{};M5(y[Ca],N,S),ce(b)||H2(N,b);var $=y[As],K=jg.CreateFromInterface(g,$,N,S),oe=new k2(jg[ac],K);return j2(g,jg[F2],y,oe)}o(RU,"ExceptionEnvelopeCreator");function NU(g,y,b){V2(g,y);var S=y[As],N=S[Ta]||{},$=S[L2]||{};M5(y[Ca],N,$),ce(b)||H2(N,b);var K=new Wh(g,S[iu],S.average,S.sampleCount,S.min,S.max,S.stdDev,N,$),oe=new k2(Wh[ac],K);return j2(g,Wh[F2],y,oe)}o(NU,"MetricEnvelopeCreator");function kU(g,y,b){V2(g,y);var S,N=y[As];!ce(N)&&!ce(N[Ta])&&!ce(N[Ta][B2])?(S=N[Ta][B2],delete N[Ta][B2]):!ce(y[Ca])&&!ce(y[Ca][B2])&&(S=y[Ca][B2],delete y[Ca][B2]);var $=y[As],K;((y.ext||{}).trace||{})[Zh]&&(K=y.ext.trace[Zh]);var oe=$.id||K,_e=$[iu],Ie=$.uri,ze=$[Ta]||{},x0=$[L2]||{};if(ce($.refUri)||(ze.refUri=$.refUri),ce($.pageType)||(ze.pageType=$.pageType),ce($.isLoggedIn)||(ze.isLoggedIn=$.isLoggedIn[O2]()),!ce($[Ta])){var S0=$[Ta];Qt(S0,function(M0,w0){ze[M0]=w0})}M5(y[Ca],ze,x0),ce(b)||H2(ze,b);var _0=new Vg(g,_e,Ie,S,ze,x0,oe),h0=new k2(Vg[ac],_0);return j2(g,Vg[F2],y,h0)}o(kU,"PageViewEnvelopeCreator");function DU(g,y,b){V2(g,y);var S=y[As],N=S[iu],$=S.uri||S.url,K=S[Ta]||{},oe=S[L2]||{};M5(y[Ca],K,oe),ce(b)||H2(K,b);var _e=new Kg(g,N,$,void 0,K,oe,S),Ie=new k2(Kg[ac],_e);return j2(g,Kg[F2],y,Ie)}o(DU,"PageViewPerformanceEnvelopeCreator");function BU(g,y,b){V2(g,y);var S=y[As].message,N=y[As].severityLevel,$=y[As][Ta]||{},K=y[As][L2]||{};M5(y[Ca],$,K),ce(b)||H2($,b);var oe=new Gg(g,S,N,$,K),_e=new k2(Gg[ac],oe);return j2(g,Gg[F2],y,_e)}o(BU,"TraceEnvelopeCreator");var AA=function(){function g(y,b){var S=[],N=!1;this[e9]=function(){return S},this._set=function($){return S=$,S},il(g,this,function($){$[M2]=function(K){if($[U2]()>=b[gA]){N||(pr(y,2,105,"Maximum in-memory buffer size reached: "+$[U2](),!0),N=!0);return}S[$4](K)},$[U2]=function(){return S[pn]},$.size=function(){for(var K=S[pn],oe=0;oe<S[pn];oe++)K+=S[oe][pn];return b[p_]||(K+=2),K},$[q2]=function(){S=[],N=!1},$.getItems=function(){return S.slice(0)},$[y_]=function(K){if(K&&K[pn]>0){var oe=b[p_]?K.join(`
`):"["+K.join(",")+"]";return oe}return null},$[v_]=function(K,oe,_e){var Ie=S.slice(0);K=K||y,oe=oe||{};var ze=_e?new PA(K,oe):new P_(K,oe);return kr(Ie,function(x0){ze[M2](x0)}),ze}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),P_=function(g){z3(y,g);function y(b,S){var N=g.call(this,b,S)||this;return il(y,N,function($,K){$[H4]=function(oe){K[q2]()},$[t9]=function(oe){}}),N}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(AA),PA=function(g){z3(y,g);function y(b,S){var N=g.call(this,b,S)||this,$=!1,K=S==null?void 0:S.namePrefix,oe=S[x_]||{getItem:lU,setItem:fU},_e=oe.getItem,Ie=oe.setItem;return il(y,N,function(ze,x0){var S0=w0(y[__]),_0=w0(y[F5]),h0=ze._set(S0[r9](_0));h0[pn]>y[n9]&&(h0[pn]=y[n9]),H0(y[F5],[]),H0(y[__],h0),ze[M2]=function(F0){if(ze[U2]()>=y[n9]){$||(pr(b,2,67,"Maximum buffer size reached: "+ze[U2](),!0),$=!0);return}x0[M2](F0),H0(y.BUFFER_KEY,ze[e9]())},ze[q2]=function(){x0[q2](),H0(y.BUFFER_KEY,ze[e9]()),H0(y[F5],[]),$=!1},ze[H4]=function(F0){H0(y[__],ze._set(M0(F0,ze[e9]())));var R0=w0(y[F5]);R0 instanceof Array&&F0 instanceof Array&&(R0=R0[r9](F0),R0[pn]>y[n9]&&(pr(b,1,67,"Sent buffer reached its maximum size: "+R0[pn],!0),R0[pn]=y[n9]),H0(y[F5],R0))},ze[t9]=function(F0){var R0=w0(y[F5]);R0=M0(F0,R0),H0(y[F5],R0)},ze[v_]=function(F0,R0,W0){W0=!!W0;var Mr=ze[e9]().slice(0),Ji=w0(y[F5]).slice(0);F0=F0||b,R0=R0||{},ze[q2]();var Ps=W0?new y(F0,R0):new P_(F0,R0);return kr(Mr,function(gs){Ps[M2](gs)}),W0&&Ps[H4](Ji),Ps};function M0(F0,R0){var W0=[];return kr(R0,function(Mr){!v0(Mr)&&Nl(F0,Mr)===-1&&W0[$4](Mr)}),W0}o(M0,"_removePayloadsFromBuffer");function w0(F0){var R0=F0;try{R0=K?K+"_"+R0:R0;var W0=_e(b,R0);if(W0){var Mr=wf().parse(W0);if(O0(Mr)&&(Mr=wf().parse(Mr)),Mr&&ue(Mr))return Mr}}catch(Ji){pr(b,1,42," storage key: "+R0+", "+Ua(Ji),{exception:Ci(Ji)})}return[]}o(w0,"_getBuffer");function H0(F0,R0){var W0=F0;try{W0=K?K+"_"+W0:W0;var Mr=JSON[Qh](R0);Ie(b,W0,Mr)}catch(Ji){Ie(b,W0,JSON[Qh]([])),pr(b,2,41," storage key: "+W0+", "+Ua(Ji)+". Buffer cleared",{exception:Ci(Ji)})}}o(H0,"_setBuffer")}),N}return o(y,"SessionStorageSendBuffer"),y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(AA),LU=function(){function g(y){il(g,this,function(b){b[Yg]=function(K){var oe=S(K,"root");try{return wf()[Qh](oe)}catch(_e){pr(y,1,48,_e&&v0(_e[O2])?_e[O2]():"Error serializing object",null,!0)}};function S(K,oe){var _e="__aiCircularRefCheck",Ie={};if(!K)return pr(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ie;if(K[_e])return pr(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ie;if(!K.aiDataContract){if(oe==="measurements")Ie=$(K,"number",oe);else if(oe==="properties")Ie=$(K,"string",oe);else if(oe==="tags")Ie=$(K,"string",oe);else if(ue(K))Ie=N(K,oe);else{pr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{wf()[Qh](K),Ie=K}catch(ze){pr(y,1,48,ze&&v0(ze[O2])?ze[O2]():"Error serializing object",null,!0)}}return Ie}return K[_e]=!0,Qt(K.aiDataContract,function(ze,x0){var S0=v0(x0)?x0()&1:x0&1,_0=v0(x0)?x0()&4:x0&4,h0=x0&2,M0=K[ze]!==void 0,w0=Jt(K[ze])&&K[ze]!==null;if(S0&&!M0&&!h0)pr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:ze,name:oe});else if(!_0){var H0=void 0;w0?h0?H0=N(K[ze],ze):H0=S(K[ze],ze):H0=K[ze],H0!==void 0&&(Ie[ze]=H0)}}),delete K[_e],Ie}o(S,"_serializeObject");function N(K,oe){var _e;if(K)if(!ue(K))pr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{_e=[];for(var Ie=0;Ie<K[pn];Ie++){var ze=K[Ie],x0=S(ze,oe+"["+Ie+"]");_e[$4](x0)}}return _e}o(N,"_serializeArray");function $(K,oe,_e){var Ie;return K&&(Ie={},Qt(K,function(ze,x0){if(oe==="string")x0===void 0?Ie[ze]="undefined":x0===null?Ie[ze]="null":x0[O2]?Ie[ze]=x0[O2]():Ie[ze]="invalid field: toString() is not defined.";else if(oe==="number")if(x0===void 0)Ie[ze]="undefined";else if(x0===null)Ie[ze]="null";else{var S0=parseFloat(x0);Ie[ze]=S0}else Ie[ze]="invalid field: "+_e+" is of unknown type.",pr(y,1,Ie[ze],null,!0)})),Ie}o($,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),FU=8,OU=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var b=this.getHashCode(y)/g.INT_MAX_VALUE;return b*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[pn]<FU;)y=y[r9](y);for(var b=5381,S=0;S<y[pn];++S)b=(b<<5)+b+y.charCodeAt(S),b=b&b;return Math.abs(b)},g.INT_MAX_VALUE=2147483647,g}(),MU=function(){function g(){var y=this,b=new OU,S=new dA;y[SA]=function(N){var $=0;return N[ja]&&N[ja][S.userId]?$=b.getHashCodeScore(N[ja][S.userId]):N.ext&&N.ext.user&&N.ext.user.id?$=b[IU](N.ext.user.id):N[ja]&&N[ja][S.operationId]?$=b.getHashCodeScore(N[ja][S.operationId]):N.ext&&N.ext.telemetryTrace&&N.ext.telemetryTrace[Zh]?$=b.getHashCodeScore(N.ext.telemetryTrace[Zh]):$=Math.random()*100,$}}return o(g,"SamplingScoreGenerator"),g}(),UU=function(){function g(y,b){this.INT_MAX_VALUE=2147483647;var S=b||b2(null);(y>100||y<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Zg]=y,this.samplingScoreGenerator=new MU}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var b=this[Zg],S=!1;return b==null||b>=100||y.baseType===Wh[ac]?!0:(S=this.samplingScoreGenerator[SA](y)<b,S)},g}(),Ls,su,ou=void 0,RA="",qU=65e3;function Qg(g){try{return g.responseText}catch{}return null}o(Qg,"_getResponseText");function $U(g){return g&&g[b_]}o($U,"isOverrideFn");function NA(g,y){return y&&(Ve(y)?g=[y][r9](g):ue(y)&&(g=y[r9](g))),g}o(NA,"_prependTransports");var kA=hn((Ls={endpointUrl:v2(hr,m1+p1)},Ls[p_]=Nf(),Ls[EA]=15e3,Ls[mA]=102400,Ls.disableTelemetry=Nf(),Ls[yA]=Nf(!0),Ls.isRetryDisabled=Nf(),Ls[T_]=Nf(!0),Ls[xA]=Nf(!0),Ls.disableXhr=Nf(),Ls[vA]=Nf(),Ls[E_]=Nf(),Ls[_A]=ou,Ls.namePrefix=ou,Ls.samplingPercentage=v2(HU,100),Ls[C_]=ou,Ls[CA]=ou,Ls[gA]=1e4,Ls[x_]=!1,Ls.httpXHROverride={isVal:$U,v:ou},Ls[pA]=Nf(),Ls.transports=ou,Ls));function HU(g){return!isNaN(g)&&g>0&&g<=100}o(HU,"_chkSampling");var jU=(su={},su[M4.dataType]=wA,su[Gg.dataType]=BU,su[Vg.dataType]=kU,su[Kg.dataType]=DU,su[jg.dataType]=RU,su[Wh.dataType]=NU,su[zg.dataType]=PU,su),DA=function(g){z3(y,g);function y(){var b=g.call(this)||this;b.priority=1001,b.identifier=EU;var S,N,$,K,oe,_e,Ie,ze=0,x0,S0,_0,h0,M0,w0,H0,F0,R0,W0,Mr,Ji,Ps,gs,Sa,ta,a9,U5,Q0,v1,z2,q5,au,kf,j4;return il(y,b,function($0,em){OA(),$0.pause=function(){O_(),$=!0},$0.resume=function(){$&&($=!1,N=null,Sr(),F_())},$0.flush=function(a0,E0,Z0){if(a0===void 0&&(a0=!0),!$){O_();try{return $0[i9](a0,null,Z0||1)}catch(vt){pr($0[Ea](),1,22,"flush failed, telemetry will not be collected: "+Ua(vt),{exception:Ci(vt)})}}},$0.onunloadFlush=function(){if(!$)if(H0||v1)try{return $0[i9](!0,ra,2)}catch(a0){pr($0[Ea](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ua(a0),{exception:Ci(a0)})}else $0.flush(!1)},$0.addHeader=function(a0,E0){Ie[a0]=E0},$0.initialize=function(a0,E0,Z0,vt){$0.isInitialized()&&pr($0[Ea](),1,28,"Sender is already initialized"),em.initialize(a0,E0,Z0,vt);var Xt=$0.identifier;oe=new LU(E0.logger),S=0,N=null,$0[s9]=null,_e=0;var mr=$0[Ea]();_0=gr(Ol("Sender"),E0.evtNamespace&&E0.evtNamespace()),S0=CU(_0),$0._addHook(C5(a0,function(fn){var cn=fn.cfg;cn.storagePrefix&&aU(cn.storagePrefix);var ll=tc(null,cn,E0),vr=ll.getExtCfg(Xt,kA);Is($0,"_senderConfig",{g:function(){return vr}}),M0!==vr.endpointUrl&&(h0=M0=vr.endpointUrl),W0&&W0!==vr[C_]&&kr(W0,function(na){delete Ie[na.header]}),w0=vr[mA],H0=(vr[E_]===!1||vr[T_]===!1)&&Af(),F0=vr[E_]===!1&&Af(),R0=vr[T_]===!1&&Af(),v1=vr[pA],z2=!!vr.disableXhr;var x1=vr[x_],lc=!!vr[yA]&&(!!x1||iA()),V4=vr.namePrefix,im=lc!==ta||lc&&U5!==V4||lc&&a9!==x1;if($0[O5]){if(im)try{$0._buffer=$0._buffer[v_](mr,vr,lc)}catch(na){pr($0[Ea](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ua(na),{exception:Ci(na)})}Sr()}else $0[O5]=lc?new PA(mr,vr):new P_(mr,vr);U5=V4,ta=lc,a9=x1,q5=!vr[vA]&&Kc(!0),j4=!!vr[xA],$0._sample=new UU(vr.samplingPercentage,mr),Ji=vr[_A],XU(Ji,cn)||pr(mr,1,100,"Invalid Instrumentation key "+Ji),W0=vr[C_],!$g(h0)&&W0&&W0[pn]>0?kr(W0,function(na){b.addHeader(na.header,na.value)}):W0=null,Q0=vr.enableSendPromise;var fc=vr.httpXHROverride,K2=null,H5=null,fl=NA([3,1,2],vr.transports);K2=f9(fl,!1);var Df={sendPOST:$5};au=o(function(na,W2){return A0(Df,na,W2)},"_xhrSend"),kf=o(function(na,W2){return A0(Df,na,W2,!1)},"_fallbackSend"),K2=v1?fc:K2||fc||Df,$0[s9]=function(na,W2){return A0(K2,na,W2)},q5&&(x0=nm);var c9=NA([3,1],vr[bA]);q5||(c9=c9.filter(function(na){return na!==2})),H5=f9(c9,!0),H5=v1?fc:H5||fc,(v1||vr[bA]||!x0)&&H5&&(x0=o(function(na,W2){return A0(H5,na,W2)},"_syncUnloadSender")),x0||(x0=au),Mr=vr.disableTelemetry,Ps=vr[CA]||ou,gs=vr.isRetryDisabled,Sa=vr[EA]}))},$0.processTelemetry=function(a0,E0){E0=$0._getTelCtx(E0);var Z0=E0[Ea]();try{var vt=G2(a0,Z0);if(!vt)return;var Xt=l9(a0,Z0);if(!Xt)return;var mr=oe[Yg](Xt),fn=$0[O5];Sr(mr),fn[M2](mr),F_()}catch(cn){pr(Z0,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ua(cn),{exception:Ci(cn)})}$0.processNext(a0,E0)},$0.isCompletelyIdle=function(){return!$&&ze===0&&$0._buffer[U2]()===0},$0[TU]=function(a0,E0,Z0){a0.readyState===4&&wr(a0.status,E0,a0.responseURL,Z0,M_(a0),Qg(a0)||a0.response)},$0[i9]=function(a0,E0,Z0){a0===void 0&&(a0=!0);var vt;if(!$)try{var Xt=$0[O5];if(Mr)Xt[q2]();else if(Xt[U2]()>0){var mr=Xt.getItems();JU(Z0||0,a0),E0?vt=E0.call($0,mr,a0):vt=$0[s9](mr,a0)}O_()}catch(cn){var fn=m5();(!fn||fn>9)&&pr($0[Ea](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ua(cn),{exception:Ci(cn)})}return vt},$0.getOfflineSupport=function(){var a0;return a0={getUrl:function(){return h0},createPayload:tm},a0[Yg]=k_,a0.batch=D_,a0.shouldProcess=function(E0){return!!G2(E0)},a0},$0._doTeardown=function(a0,E0){$0.onunloadFlush(),E5(S0,!1),OA()},$0[$2]=function(a0,E0,Z0){pr($0[Ea](),2,26,"Failed to send telemetry.",{message:E0}),$0._buffer&&$0._buffer[t9](a0)},$0[S_]=function(a0,E0){for(var Z0=[],vt=[],Xt=E0.errors.reverse(),mr=0,fn=Xt;mr<fn.length;mr++){var cn=fn[mr],ll=a0.splice(cn.index,1)[0];LA(cn.statusCode)?vt[$4](ll):Z0[$4](ll)}a0[pn]>0&&$0[Jg](a0,E0[Xg]),Z0[pn]>0&&$0[$2](Z0,M_(null,["partial success",E0[Xg],"of",E0.itemsReceived].join(" "))),vt[pn]>0&&(L_(vt),pr($0[Ea](),2,40,"Partial success. Delivered: "+a0[pn]+", Failed: "+Z0[pn]+". Will retry to send "+vt[pn]+" our of "+E0[SU]+" items"))},$0[Jg]=function(a0,E0){$0._buffer&&$0._buffer[t9](a0)},$0._xdrOnLoad=function(a0,E0){var Z0=Qg(a0);if(a0&&(Z0+""=="200"||Z0===""))S=0,$0[Jg](E0,0);else{var vt=B_(Z0);vt&&vt.itemsReceived&&vt.itemsReceived>vt[Xg]&&!gs?$0[S_](E0,vt):$0[$2](E0,FA(a0))}};function G2(a0,E0){if(Mr)return!1;if(!a0)return E0&&pr(E0,1,7,"Cannot send empty telemetry"),!1;if(a0.baseData&&!a0[I_])return E0&&pr(E0,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(a0[I_]||(a0[I_]="EventData"),!$0[s9])return E0&&pr(E0,1,28,"Sender was not initialized"),!1;if(rm(a0))a0[qs]=$0._sample[Zg];else return E0&&pr(E0,2,33,"Telemetry item was sampled out and not sent",{SampleRate:$0._sample[Zg]}),!1;return!0}o(G2,"_validate");function l9(a0,E0){var Z0=a0.iKey||Ji,vt=y.constructEnvelope(a0,Z0,E0,Ps);if(!vt){pr(E0,1,47,"Unable to create an AppInsights envelope");return}var Xt=!1;if(a0[ja]&&a0[ja][$s]&&(kr(a0[ja][$s],function(mr){try{mr&&mr(vt)===!1&&(Xt=!0,I5(E0,"Telemetry processor check returns false"))}catch(fn){pr(E0,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ua(fn),{exception:Ci(fn)},!0)}}),delete a0[ja][$s]),!Xt)return vt}o(l9,"_getEnvelope");function k_(a0){var E0=RA,Z0=$0[Ea]();try{var vt=G2(a0,Z0),Xt=null;vt&&(Xt=l9(a0,Z0)),Xt&&(E0=oe[Yg](Xt))}catch{}return E0}o(k_,"_serialize");function D_(a0){var E0=RA;return a0&&a0[pn]&&(E0="["+a0.join(",")+"]"),E0}o(D_,"_batch");function tm(a0){var E0,Z0=Ie;return $g(h0)&&(Z0[k5[6]]=k5[7]),E0={urlString:h0},E0[Ca]=a0,E0.headers=Z0,E0}o(tm,"_createPayload");function rm(a0){return $0._sample.isSampledIn(a0)}o(rm,"_isSampledIn");function f9(a0,E0){for(var Z0,vt=null,Xt=null,mr=0;Xt==null&&mr<a0[pn];)vt=a0[mr],!z2&&vt===1?u2()?Xt=WU:v4()&&(Xt=$5):vt===2&&Kc(E0)?Xt=Ur:vt===3&&(E0?F0:R0)&&(Xt=Ul),mr++;return Xt?(Z0={},Z0[b_]=Xt,Z0):null}o(f9,"_getSenderInterface");function lu(a0,E0,Z0,vt){E0===200&&a0?$0._onSuccess(a0,a0[pn]):vt&&$0[$2](a0,vt)}o(lu,"_getOnComplete");function A0(a0,E0,Z0,vt){vt===void 0&&(vt=!0);var Xt=o(function(cn,ll,vr){return lu(E0,cn,ll,vr)},"onComplete"),mr=St(E0),fn=a0&&a0[b_];return fn&&mr?(vt&&$0._buffer[H4](E0),fn(mr,Xt,!Z0)):null}o(A0,"_doSend");function St(a0){var E0;if(ue(a0)&&a0[pn]>0){var Z0=$0._buffer[y_](a0),vt=(E0={},E0[Ca]=Z0,E0.urlString=h0,E0.headers=Ie,E0.disableXhrSync=z2,E0.disableFetchKeepAlive=!q5,E0[o9]=a0,E0);return vt}return null}o(St,"_getPayload");function Ur(a0,E0,Z0){return BA(a0,E0,!1)}o(Ur,"_fetchSender");function Sr(a0){var E0=a0?a0[pn]:0;return $0[O5].size()+E0>w0?((!S0||S0.isOnline())&&$0[i9](!0,null,10),!0):!1}o(Sr,"_checkMaxSize");function wr(a0,E0,Z0,vt,Xt,mr){var fn=null;if($0._appId||(fn=B_(mr),fn&&fn.appId&&($0._appId=fn.appId)),(a0<200||a0>=300)&&a0!==0){if((a0===301||a0===307||a0===308)&&!Qi(Z0)){$0[$2](E0,Xt);return}!gs&&LA(a0)?(L_(E0),pr($0[Ea](),2,40,". Response code "+a0+". Will retry to send "+E0[pn]+" items.")):$0[$2](E0,Xt)}else if(S0&&!S0.isOnline()){if(!gs){var cn=10;L_(E0,cn),pr($0[Ea](),2,40,". Offline - Response Code: ".concat(a0,". Offline status: ").concat(!S0.isOnline(),". Will retry to send ").concat(E0.length," items."))}}else Qi(Z0),a0===206?(fn||(fn=B_(mr)),fn&&!gs?$0[S_](E0,fn):$0[$2](E0,Xt)):(S=0,$0[Jg](E0,vt))}o(wr,"_checkResponsStatus");function Qi(a0){return _e>=10?!1:!ce(a0)&&a0!==""&&a0!==h0?(h0=a0,++_e,!0):!1}o(Qi,"_checkAndUpdateEndPointUrl");function Ui(a0,E0,Z0,vt){try{a0(E0,Z0,vt)}catch{}}o(Ui,"_doOnComplete");function ra(a0,E0){if(x0)x0(a0,!1);else{var Z0=St(a0);$0._buffer[H4](a0),Ul(Z0)}}o(ra,"_doUnloadSend");function ha(a0,E0){var Z0=F1(),vt=h0,Xt=$0[O5],mr=Xt[y_](a0),fn=new Blob([mr],{type:"text/plain;charset=UTF-8"}),cn=Z0.sendBeacon(vt,fn);return cn&&$0._onSuccess(a0,a0[pn]),cn}o(ha,"_doBeaconSend");function Ul(a0,E0,Z0){var vt=a0,Xt=vt&&vt[o9];if(ue(Xt)&&Xt[pn]>0&&!ha(Xt))if(j4)kf&&kf(Xt,!0),pr($0[Ea](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var mr=[],fn=0;fn<Xt[pn];fn++){var cn=Xt[fn];ha([cn])||mr[$4](cn)}mr[pn]>0&&(kf&&kf(mr,!0),pr($0[Ea](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Ul,"_beaconSender");function $5(a0,E0,Z0){var vt=a0,Xt,mr,fn,cn=new XMLHttpRequest,ll=h0;try{cn[Js]=!0}catch{}return cn.open("POST",ll,!Z0),cn[w_]("Content-type","application/json"),$g(ll)&&cn[w_](k5[6],k5[7]),kr(Xl(Ie),function(vr){cn[w_](vr,Ie[vr])}),cn.onreadystatechange=function(){var vr=vt[o9];$0._xhrReadyStateChange(cn,vr,vr[pn]),cn.readyState===4&&mr&&mr(!0)},cn.onerror=function(vr){Ui(E0,400,{},M_(cn)),fn&&fn(vr)},!Z0&&Q0&&(Xt=f5(function(vr,x1){mr=vr,fn=x1})),cn.send(a0[Ca]),Xt}o($5,"_xhrSender");function nm(a0,E0){var Z0=o(function(fn,cn,ll){return lu(a0,fn,cn,ll)},"onComplete");if(ue(a0)){for(var vt=a0[pn],Xt=0;Xt<a0[pn];Xt++)vt+=a0[Xt][pn];var mr=St(a0);$0._buffer[H4](a0),ze+vt<=qU?BA(mr,Z0,!0):Af()?Ul(mr):(kf&&kf(a0,!0),pr($0[Ea](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}o(nm,"_fetchKeepAliveSender");function BA(a0,E0,Z0){var vt,Xt=h0,mr=a0,fn=mr[Ca],cn=new Blob([fn],{type:"application/json"}),ll,vr,x1,lc=new Headers,V4=fn[pn],im=!1,fc=!1;$g(Xt)&&lc.append(k5[6],k5[7]),kr(Xl(Ie),function(fl){lc.append(fl,Ie[fl])});var K2=(vt={method:"POST",headers:lc,body:cn},vt[Js]=!0,vt);Z0&&(K2.keepalive=!0,im=!0,ze+=V4);var H5=new Request(Xt,K2);try{H5[Js]=!0}catch{}!Z0&&Q0&&(ll=f5(function(fl,Df){vr=fl,x1=Df}));try{u4(fetch(H5),function(fl){if(Z0&&(ze-=V4,V4=0),!fc)if(fc=!0,fl.rejected)Ui(E0,400,{},fl.reason&&fl.reason.message),x1&&x1(fl.reason);else{var Df=fl.value;Df.ok?u4(Df.text(),function(c9){var na=mr[o9];wr(Df.status,na,Df.url,na[pn],Df.statusText,c9.value||""),vr&&vr(!0)}):(Ui(E0,400,{},Df.statusText),vr&&vr(!1))}})}catch(fl){fc||(Ui(E0,400,{},Ci(fl)),x1&&x1(fl))}return im&&!fc&&(fc=!0,Ui(E0,200,{}),vr&&vr(!0)),ll}o(BA,"_doFetchSender");function B_(a0){try{if(a0&&a0!==""){var E0=wf().parse(a0);if(E0&&E0.itemsReceived&&E0.itemsReceived>=E0[Xg]&&E0.itemsReceived-E0.itemsAccepted===E0.errors[pn])return E0}}catch(Z0){pr($0[Ea](),1,43,"Cannot parse the response. "+Ua(Z0),{response:a0})}return null}o(B_,"_parseResponse");function L_(a0,E0){if(E0===void 0&&(E0=1),!(!a0||a0[pn]===0)){var Z0=$0[O5];Z0[t9](a0),S++;for(var vt=0,Xt=a0;vt<Xt.length;vt++){var mr=Xt[vt];Z0[M2](mr)}KU(E0),F_()}}o(L_,"_resendPayload");function KU(a0){var E0=10,Z0;if(S<=1)Z0=E0;else{var vt=(Math.pow(2,S)-1)/2,Xt=Math.floor(Math.random()*vt*E0)+1;Xt=a0*Xt,Z0=Math.max(Math.min(Xt,3600),E0)}var mr=M1()+Z0*1e3;N=mr}o(KU,"_setRetryTime");function F_(){if(!K&&!$){var a0=N?Math.max(0,N-M1()):0,E0=Math.max(Sa,a0);K=Ef(function(){K=null,$0[i9](!0,null,1)},E0)}}o(F_,"_setupTimer");function O_(){K&&K.cancel(),K=null,N=null}o(O_,"_clearScheduledTimer");function LA(a0){return a0===401||a0===403||a0===408||a0===429||a0===500||a0===502||a0===503||a0===504}o(LA,"_isRetriable");function M_(a0,E0){return a0?"XMLHttpRequest,Status:"+a0.status+",Response:"+Qg(a0)||a0.response||"":E0}o(M_,"_formatErrorMessageXhr");function WU(a0,E0,Z0){var vt=a0,Xt=n1(),mr=new XDomainRequest,fn=vt[Ca];mr.onload=function(){var vr=vt[o9];$0._xdrOnLoad(mr,vr)},mr.onerror=function(){Ui(E0,400,{},FA(mr))};var cn=Xt&&Xt.location&&Xt.location.protocol||"";if(h0.lastIndexOf(cn,0)!==0){pr($0[Ea](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),$0._buffer[q2]();return}var ll=h0.replace(/^(https?:)/,"");mr.open("POST",ll),mr.send(fn)}o(WU,"_xdrSender");function FA(a0,E0){return a0?"XDomainRequest,Response:"+Qg(a0)||"":E0}o(FA,"_formatErrorMessageXdr");function YU(){var a0="getNotifyMgr";return $0.core[a0]?$0.core[a0]():$0.core._notificationManager}o(YU,"_getNotifyMgr");function JU(a0,E0){var Z0=YU();if(Z0&&Z0[TA])try{Z0[TA](a0,E0)}catch(vt){pr($0[Ea](),1,74,"send request notification failed: "+Ua(vt),{exception:Ci(vt)})}}o(JU,"_notifySendRequest");function XU(a0,E0){var Z0=E0.disableInstrumentationKeyValidation,vt=ce(Z0)?!1:Z0;if(vt)return!0;var Xt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",mr=new RegExp(Xt);return mr.test(a0)}o(XU,"_validateInstrumentationKey");function OA(){$0[s9]=null,$0[O5]=null,$0._appId=null,$0._sample=null,Ie={},S0=null,S=0,N=null,$=!1,K=null,oe=null,_e=0,ze=0,x0=null,_0=null,h0=null,M0=null,w0=0,H0=!1,W0=null,Mr=!1,Ji=null,Ps=ou,gs=!1,ta=null,U5=ou,z2=!1,q5=!1,j4=!1,au=null,kf=null,Is($0,"_senderConfig",{g:function(){return c2({},kA)}})}o(OA,"_initDefaults")}),b}return o(y,"Sender"),y.constructEnvelope=function(b,S,N,$){var K;S!==b.iKey&&!ce(S)?K=H1(H1({},b),{iKey:S}):K=b;var oe=jU[K.baseType]||wA;return oe(N,K,$)},y}($h),R_="instrumentationKey",N_="connectionString",VU={diagnosticLogInterval:v2(zU,1e4)};function zU(g){return g&&g>0}o(zU,"_chkDiagLevel");var GU=function(){function g(y){var b=new Hr,S;(ce(y)||ce(y[R_])&&ce(y[N_]))&&ms("Invalid input configuration"),il(g,this,function($){Is($,"config",{g:function(){return S}}),K(),$.initialize=K,$.track=N,fh($,b,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function K(){var oe=ba(y||{},VU);S=oe.cfg,b.addUnloadHook(C5(oe,function(){if(S[N_]){var _e=dU(S[N_]),Ie=_e.ingestionendpoint;S.endpointUrl=Ie?Ie+p1:S.endpointUrl,S[R_]=_e.instrumentationkey||S[R_]}})),b.initialize(S,[new DA])}o(K,"_initialize")});function N($){$&&($.baseData=$.baseData||{},$.baseType=$.baseType||"EventData"),b.track($)}o(N,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Hr,e.ApplicationInsights=GU,e.Sender=DA,e.SeverityLevel=bU,e.arrForEach=kr,e.isNullOrUndefined=ce,e.proxyFunctions=fh,e.throwError=ms})});var PE=y0((_ie,vk)=>{"use strict";var yk=require("fs"),AE;function Lz(){try{return yk.statSync("/.dockerenv"),!0}catch{return!1}}o(Lz,"hasDockerEnv");function Fz(){try{return yk.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(Fz,"hasDockerCGroup");vk.exports=()=>(AE===void 0&&(AE=Lz()||Fz()),AE)});var bk=y0((Cie,RE)=>{"use strict";var Oz=require("os"),Mz=require("fs"),xk=PE(),_k=o(()=>{if(process.platform!=="linux")return!1;if(Oz.release().toLowerCase().includes("microsoft"))return!xk();try{return Mz.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!xk():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?RE.exports=_k:RE.exports=_k()});var Ek=y0((Tie,Ck)=>{"use strict";Ck.exports=(e,t,r)=>{let n=o(s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let s=r();return n(s),s},set(s){n(s)}}),e}});var Rk=y0((Iie,Pk)=>{var Uz=require("path"),qz=require("child_process"),{promises:my,constants:Ak}=require("fs"),gy=bk(),$z=PE(),kE=Ek(),Tk=Uz.join(__dirname,"xdg-open"),{platform:$8,arch:Sk}=process,Hz=o(()=>{try{return my.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),NE;function jz(){return NE===void 0&&(NE=Hz()||$z()),NE}o(jz,"isInsideContainer");var Vz=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await my.access(r,Ak.F_OK),n=!0}catch{}if(!n)return e;let s=await my.readFile(r,{encoding:"utf8"}),l=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return l?(t=l.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),Ik=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(s){r=s}throw r},"pTryEach"),py=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return Ik(e.app,f=>py({...e,app:f}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return Ik(t,f=>py({...e,app:{name:f,arguments:r}}));let n,s=[],l={};if($8==="darwin")n="open",e.wait&&s.push("--wait-apps"),e.background&&s.push("--background"),e.newInstance&&s.push("--new"),t&&s.push("-a",t);else if($8==="win32"||gy&&!jz()&&!t){let f=await Vz();n=gy?`${f}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),gy||(l.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let f=!__dirname||__dirname==="/",c=!1;try{await my.access(Tk,Ak.X_OK),c=!0}catch{}n=process.versions.electron||$8==="android"||f||!c?"xdg-open":Tk}r.length>0&&s.push(...r),e.wait||(l.stdio="ignore",l.detached=!0)}e.target&&s.push(e.target),$8==="darwin"&&r.length>0&&s.push("--args",...r);let a=qz.spawn(n,s,l);return e.wait?new Promise((f,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}f(a)})}):(a.unref(),a)},"baseOpen"),DE=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return py({...t,target:e})},"open"),zz=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return py({...t,app:{name:e,arguments:r}})},"openApp");function wk(e){if(typeof e=="string"||Array.isArray(e))return e;let{[Sk]:t}=e;if(!t)throw new Error(`${Sk} is not supported`);return t}o(wk,"detectArchBinary");function BE({[$8]:e},{wsl:t}){if(t&&gy)return wk(t);if(!e)throw new Error(`${$8} is not supported`);return wk(e)}o(BE,"detectPlatformBinary");var yy={};kE(yy,"chrome",()=>BE({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));kE(yy,"firefox",()=>BE({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));kE(yy,"edge",()=>BE({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));DE.apps=yy;DE.openApp=zz;Pk.exports=DE});var Q5=y0((V9,qE)=>{(function(e,t){if(typeof V9=="object"&&typeof qE=="object")qE.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof V9=="object"?V9:e)[n]=r[n]}})(V9,()=>(()=>{"use strict";var e={470:s=>{function l(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}o(l,"e");function a(c,u){for(var d,h="",m=0,p=-1,v=0,x=0;x<=c.length;++x){if(x<c.length)d=c.charCodeAt(x);else{if(d===47)break;d=47}if(d===47){if(!(p===x-1||v===1))if(p!==x-1&&v===2){if(h.length<2||m!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var E=h.lastIndexOf("/");if(E!==h.length-1){E===-1?(h="",m=0):m=(h=h.slice(0,E)).length-1-h.lastIndexOf("/"),p=x,v=0;continue}}else if(h.length===2||h.length===1){h="",m=0,p=x,v=0;continue}}u&&(h.length>0?h+="/..":h="..",m=2)}else h.length>0?h+="/"+c.slice(p+1,x):h=c.slice(p+1,x),m=x-p-1;p=x,v=0}else d===46&&v!==-1?++v:v=-1}return h}o(a,"r");var f={resolve:function(){for(var c,u="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var m;h>=0?m=arguments[h]:(c===void 0&&(c=process.cwd()),m=c),l(m),m.length!==0&&(u=m+"/"+u,d=m.charCodeAt(0)===47)}return u=a(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(l(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=a(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return l(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];l(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":f.normalize(c)},relative:function(c,u){if(l(c),l(u),c===u||(c=f.resolve(c))===(u=f.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,m=h-d,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var v=u.length-p,x=m<v?m:v,E=-1,I=0;I<=x;++I){if(I===x){if(v>x){if(u.charCodeAt(p+I)===47)return u.slice(p+I+1);if(I===0)return u.slice(p+I)}else m>x&&(c.charCodeAt(d+I)===47?E=I:I===0&&(E=0));break}var P=c.charCodeAt(d+I);if(P!==u.charCodeAt(p+I))break;P===47&&(E=I)}var L="";for(I=d+E+1;I<=h;++I)I!==h&&c.charCodeAt(I)!==47||(L.length===0?L+="..":L+="/..");return L.length>0?L+u.slice(p+E):(p+=E,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(c){return c},dirname:function(c){if(l(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,h=-1,m=!0,p=c.length-1;p>=1;--p)if((u=c.charCodeAt(p))===47){if(!m){h=p;break}}else m=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');l(c);var d,h=0,m=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var v=u.length-1,x=-1;for(d=c.length-1;d>=0;--d){var E=c.charCodeAt(d);if(E===47){if(!p){h=d+1;break}}else x===-1&&(p=!1,x=d+1),v>=0&&(E===u.charCodeAt(v)?--v==-1&&(m=d):(v=-1,m=x))}return h===m?m=x:m===-1&&(m=c.length),c.slice(h,m)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!p){h=d+1;break}}else m===-1&&(p=!1,m=d+1);return m===-1?"":c.slice(h,m)},extname:function(c){l(c);for(var u=-1,d=0,h=-1,m=!0,p=0,v=c.length-1;v>=0;--v){var x=c.charCodeAt(v);if(x!==47)h===-1&&(m=!1,h=v+1),x===46?u===-1?u=v:p!==1&&(p=1):u!==-1&&(p=-1);else if(!m){d=v+1;break}}return u===-1||h===-1||p===0||p===1&&u===h-1&&u===d+1?"":c.slice(u,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var h=d.dir||d.root,m=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+m:h+"/"+m:m}(0,c)},parse:function(c){l(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,h=c.charCodeAt(0),m=h===47;m?(u.root="/",d=1):d=0;for(var p=-1,v=0,x=-1,E=!0,I=c.length-1,P=0;I>=d;--I)if((h=c.charCodeAt(I))!==47)x===-1&&(E=!1,x=I+1),h===46?p===-1?p=I:P!==1&&(P=1):p!==-1&&(P=-1);else if(!E){v=I+1;break}return p===-1||x===-1||P===0||P===1&&p===x-1&&p===v+1?x!==-1&&(u.base=u.name=v===0&&m?c.slice(1,x):c.slice(v,x)):(v===0&&m?(u.name=c.slice(1,p),u.base=c.slice(1,x)):(u.name=c.slice(v,p),u.base=c.slice(v,x)),u.ext=c.slice(p,x)),v>0?u.dir=c.slice(0,v-1):m&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,s.exports=f},674:(s,l)=>{if(Object.defineProperty(l,"__esModule",{value:!0}),l.isWindows=void 0,typeof process=="object")l.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;l.isWindows=a.indexOf("Windows")>=0}},796:function(s,l,a){var f,c,u=this&&this.__extends||(f=o(function($e,we){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o0,u0){o0.__proto__=u0}||function(o0,u0){for(var l0 in u0)Object.prototype.hasOwnProperty.call(u0,l0)&&(o0[l0]=u0[l0])},f($e,we)},"n"),function($e,we){if(typeof we!="function"&&we!==null)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function o0(){this.constructor=$e}o(o0,"r"),f($e,we),$e.prototype=we===null?Object.create(we):(o0.prototype=we.prototype,new o0)});Object.defineProperty(l,"__esModule",{value:!0}),l.uriToFsPath=l.URI=void 0;var d=a(674),h=/^\w[\w\d+.-]*$/,m=/^\//,p=/^\/\//;function v($e,we){if(!$e.scheme&&we)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat($e.authority,'", path: "').concat($e.path,'", query: "').concat($e.query,'", fragment: "').concat($e.fragment,'"}'));if($e.scheme&&!h.test($e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if($e.path){if($e.authority){if(!m.test($e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test($e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(v,"f");var x="",E="/",I=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,P=function(){function $e(we,o0,u0,l0,N0,t0){t0===void 0&&(t0=!1),typeof we=="object"?(this.scheme=we.scheme||x,this.authority=we.authority||x,this.path=we.path||x,this.query=we.query||x,this.fragment=we.fragment||x):(this.scheme=function(f0,ce){return f0||ce?f0:"file"}(we,t0),this.authority=o0||x,this.path=function(f0,ce){switch(f0){case"https":case"http":case"file":ce?ce[0]!==E&&(ce=E+ce):ce=E}return ce}(this.scheme,u0||x),this.query=l0||x,this.fragment=N0||x,v(this,t0))}return o($e,"t"),$e.isUri=function(we){return we instanceof $e||!!we&&typeof we.authority=="string"&&typeof we.fragment=="string"&&typeof we.path=="string"&&typeof we.query=="string"&&typeof we.scheme=="string"&&typeof we.fsPath=="string"&&typeof we.with=="function"&&typeof we.toString=="function"},Object.defineProperty($e.prototype,"fsPath",{get:function(){return ve(this,!1)},enumerable:!1,configurable:!0}),$e.prototype.with=function(we){if(!we)return this;var o0=we.scheme,u0=we.authority,l0=we.path,N0=we.query,t0=we.fragment;return o0===void 0?o0=this.scheme:o0===null&&(o0=x),u0===void 0?u0=this.authority:u0===null&&(u0=x),l0===void 0?l0=this.path:l0===null&&(l0=x),N0===void 0?N0=this.query:N0===null&&(N0=x),t0===void 0?t0=this.fragment:t0===null&&(t0=x),o0===this.scheme&&u0===this.authority&&l0===this.path&&N0===this.query&&t0===this.fragment?this:new F(o0,u0,l0,N0,t0)},$e.parse=function(we,o0){o0===void 0&&(o0=!1);var u0=I.exec(we);return u0?new F(u0[2]||x,m0(u0[4]||x),m0(u0[5]||x),m0(u0[7]||x),m0(u0[9]||x),o0):new F(x,x,x,x,x)},$e.file=function(we){var o0=x;if(d.isWindows&&(we=we.replace(/\\/g,E)),we[0]===E&&we[1]===E){var u0=we.indexOf(E,2);u0===-1?(o0=we.substring(2),we=E):(o0=we.substring(2,u0),we=we.substring(u0)||E)}return new F("file",o0,we,x,x)},$e.from=function(we){var o0=new F(we.scheme,we.authority,we.path,we.query,we.fragment);return v(o0,!0),o0},$e.prototype.toString=function(we){return we===void 0&&(we=!1),n0(this,we)},$e.prototype.toJSON=function(){return this},$e.revive=function(we){if(we){if(we instanceof $e)return we;var o0=new F(we);return o0._formatted=we.external,o0._fsPath=we._sep===L?we.fsPath:null,o0}return we},$e}();l.URI=P;var L=d.isWindows?1:void 0,F=function($e){function we(){var o0=$e!==null&&$e.apply(this,arguments)||this;return o0._formatted=null,o0._fsPath=null,o0}return o(we,"e"),u(we,$e),Object.defineProperty(we.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=ve(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),we.prototype.toString=function(o0){return o0===void 0&&(o0=!1),o0?n0(this,!0):(this._formatted||(this._formatted=n0(this,!1)),this._formatted)},we.prototype.toJSON=function(){var o0={$mid:1};return this._fsPath&&(o0.fsPath=this._fsPath,o0._sep=L),this._formatted&&(o0.external=this._formatted),this.path&&(o0.path=this.path),this.scheme&&(o0.scheme=this.scheme),this.authority&&(o0.authority=this.authority),this.query&&(o0.query=this.query),this.fragment&&(o0.fragment=this.fragment),o0},we}(P),B=((c={})[58]="%3A",c[47]="%2F",c[63]="%3F",c[35]="%23",c[91]="%5B",c[93]="%5D",c[64]="%40",c[33]="%21",c[36]="%24",c[38]="%26",c[39]="%27",c[40]="%28",c[41]="%29",c[42]="%2A",c[43]="%2B",c[44]="%2C",c[59]="%3B",c[61]="%3D",c[32]="%20",c);function V($e,we,o0){for(var u0=void 0,l0=-1,N0=0;N0<$e.length;N0++){var t0=$e.charCodeAt(N0);if(t0>=97&&t0<=122||t0>=65&&t0<=90||t0>=48&&t0<=57||t0===45||t0===46||t0===95||t0===126||we&&t0===47||o0&&t0===91||o0&&t0===93||o0&&t0===58)l0!==-1&&(u0+=encodeURIComponent($e.substring(l0,N0)),l0=-1),u0!==void 0&&(u0+=$e.charAt(N0));else{u0===void 0&&(u0=$e.substr(0,N0));var f0=B[t0];f0!==void 0?(l0!==-1&&(u0+=encodeURIComponent($e.substring(l0,N0)),l0=-1),u0+=f0):l0===-1&&(l0=N0)}}return l0!==-1&&(u0+=encodeURIComponent($e.substring(l0))),u0!==void 0?u0:$e}o(V,"m");function de($e){for(var we=void 0,o0=0;o0<$e.length;o0++){var u0=$e.charCodeAt(o0);u0===35||u0===63?(we===void 0&&(we=$e.substr(0,o0)),we+=B[u0]):we!==void 0&&(we+=$e[o0])}return we!==void 0?we:$e}o(de,"b");function ve($e,we){var o0;return o0=$e.authority&&$e.path.length>1&&$e.scheme==="file"?"//".concat($e.authority).concat($e.path):$e.path.charCodeAt(0)===47&&($e.path.charCodeAt(1)>=65&&$e.path.charCodeAt(1)<=90||$e.path.charCodeAt(1)>=97&&$e.path.charCodeAt(1)<=122)&&$e.path.charCodeAt(2)===58?we?$e.path.substr(1):$e.path[1].toLowerCase()+$e.path.substr(2):$e.path,d.isWindows&&(o0=o0.replace(/\//g,"\\")),o0}o(ve,"C");function n0($e,we){var o0=we?de:V,u0="",l0=$e.scheme,N0=$e.authority,t0=$e.path,f0=$e.query,ce=$e.fragment;if(l0&&(u0+=l0,u0+=":"),(N0||l0==="file")&&(u0+=E,u0+=E),N0){var Se=N0.indexOf("@");if(Se!==-1){var C0=N0.substr(0,Se);N0=N0.substr(Se+1),(Se=C0.lastIndexOf(":"))===-1?u0+=o0(C0,!1,!1):(u0+=o0(C0.substr(0,Se),!1,!1),u0+=":",u0+=o0(C0.substr(Se+1),!1,!0)),u0+="@"}(Se=(N0=N0.toLowerCase()).lastIndexOf(":"))===-1?u0+=o0(N0,!1,!0):(u0+=o0(N0.substr(0,Se),!1,!0),u0+=N0.substr(Se))}if(t0){if(t0.length>=3&&t0.charCodeAt(0)===47&&t0.charCodeAt(2)===58)(z0=t0.charCodeAt(1))>=65&&z0<=90&&(t0="/".concat(String.fromCharCode(z0+32),":").concat(t0.substr(3)));else if(t0.length>=2&&t0.charCodeAt(1)===58){var z0;(z0=t0.charCodeAt(0))>=65&&z0<=90&&(t0="".concat(String.fromCharCode(z0+32),":").concat(t0.substr(2)))}u0+=o0(t0,!0,!1)}return f0&&(u0+="?",u0+=o0(f0,!1,!1)),ce&&(u0+="#",u0+=we?ce:V(ce,!1,!1)),u0}o(n0,"A");function d0($e){try{return decodeURIComponent($e)}catch{return $e.length>3?$e.substr(0,3)+d0($e.substr(3)):$e}}o(d0,"w"),l.uriToFsPath=ve;var r0=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m0($e){return $e.match(r0)?$e.replace(r0,function(we){return d0(we)}):$e}o(m0,"x")},679:function(s,l,a){var f=this&&this.__spreadArray||function(m,p,v){if(v||arguments.length===2)for(var x,E=0,I=p.length;E<I;E++)!x&&E in p||(x||(x=Array.prototype.slice.call(p,0,E)),x[E]=p[E]);return m.concat(x||Array.prototype.slice.call(p))};Object.defineProperty(l,"__esModule",{value:!0}),l.Utils=void 0;var c,u=a(470),d=u.posix||u,h="/";(c=l.Utils||(l.Utils={})).joinPath=function(m){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];return m.with({path:d.join.apply(d,f([m.path],p,!1))})},c.resolvePath=function(m){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];var x=m.path,E=!1;x[0]!==h&&(x=h+x,E=!0);var I=d.resolve.apply(d,f([x],p,!1));return E&&I[0]===h&&!m.authority&&(I=I.substring(1)),m.with({path:I})},c.dirname=function(m){if(m.path.length===0||m.path===h)return m;var p=d.dirname(m.path);return p.length===1&&p.charCodeAt(0)===46&&(p=""),m.with({path:p})},c.basename=function(m){return d.basename(m.path)},c.extname=function(m){return d.extname(m.path)}}},t={};function r(s){var l=t[s];if(l!==void 0)return l.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}o(r,"r");var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=s.URI=void 0;var l=r(796);Object.defineProperty(s,"URI",{enumerable:!0,get:function(){return l.URI}});var a=r(679);Object.defineProperty(s,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var jE=y0((Hse,Fk)=>{"use strict";Fk.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var s=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?s[r]:s},"protocols")});var Mk=y0((Vse,Ok)=>{"use strict";var Wz=jE();function Yz(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Wz(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Yz,"parsePath");Ok.exports=Yz});var $k=y0((Gse,qk)=>{"use strict";var Jz=Mk();function Xz(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Xz,"_interopDefaultLegacy");var Zz=Xz(Jz),Qz="text/plain",eG="us-ascii",Uk=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),tG=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:l}=r.groups,a=n.split(";");l=t?"":l;let f=!1;a[a.length-1]==="base64"&&(a.pop(),f=!0);let c=(a.shift()||"").toLowerCase(),d=[...a.map(h=>{let[m,p=""]=h.split("=").map(v=>v.trim());return m==="charset"&&(p=p.toLowerCase(),p===eG)?"":`${m}${p?`=${p}`:""}`}).filter(Boolean)];return f&&d.push("base64"),(d.length>0||c&&c!==Qz)&&d.unshift(c),`data:${d.join(";")},${f?s.trim():s}${l?`#${l}`:""}`},"normalizeDataURL");function rG(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return tG(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,f=0,c="";for(;;){let d=a.exec(s.pathname);if(!d)break;let h=d[0],m=d.index,p=s.pathname.slice(f,m);c+=p.replace(/\/{2,}/g,"/"),c+=h,f=m+h.length}let u=s.pathname.slice(f,s.pathname.length);c+=u.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=s.pathname.split("/"),f=a[a.length-1];Uk(f,t.removeDirectoryIndex)&&(a=a.slice(0,-1),s.pathname=a.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...s.searchParams.keys()])Uk(a,t.removeQueryParameters)&&s.searchParams.delete(a);if(t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let l=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!l.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(rG,"normalizeUrl");var VE=o((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=o(l=>{let a=new Error(l);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>VE.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=rG(e,t));let s=Zz.default(e);if(s.parse_failed){let l=s.href.match(r);l?(s.protocols=["ssh"],s.protocol="ssh",s.resource=l[2],s.host=l[2],s.user=l[1],s.pathname=`/${l[3]}`,s.parse_failed=!1):n("URL parsing failed.")}return s},"parseUrl");VE.MAX_INPUT_LENGTH=2048;qk.exports=VE});var Vk=y0((Wse,jk)=>{"use strict";var nG=jE();function Hk(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=nG(e);if(e=e.substring(e.indexOf("://")+3),Hk(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(Hk,"isSsh");jk.exports=Hk});var Kk=y0((Jse,Gk)=>{"use strict";var iG=$k(),zk=Vk();function sG(e){var t=iG(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),zk(t.protocols)||t.protocols.length===0&&zk(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(sG,"gitUp");Gk.exports=sG});var Yk=y0((Zse,Wk)=>{"use strict";var oG=Kk();function zE(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=oG(e),n=r.resource.split("."),s=null;switch(r.toString=function(E){return zE.stringify(this,E)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3],r.full_name=s[2]+"/"+s[3]);break}else{s=r.name.split("/"),s.length===2?(r.owner=s[1],r.name=s[1],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3]);break}else{s=r.name.split("/"),s.length===5?(r.organization=s[0],r.owner=s[1],r.name=s[4],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:s=r.name.split("/");var l=s.length-1;if(s.length>=2){var a=s.indexOf("-",2),f=s.indexOf("blob",2),c=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("src",2),h=s.indexOf("raw",2),m=s.indexOf("edit",2);l=a>0?a-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:h>0?h-1:m>0?m-1:l,r.owner=s.slice(0,l).join("/"),r.name=s[l],u&&(r.commit=s[l+2])}r.ref="",r.filepathtype="",r.filepath="";var p=s.length>l&&s[l+1]==="-"?l+1:l;s.length>p+2&&["raw","src","blob","tree","edit"].indexOf(s[p+1])>=0&&(r.filepathtype=s[p+1],r.ref=s[p+2],s.length>p+3&&(r.filepath=s.slice(p+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=v.exec(r.pathname);return x!=null&&(r.source="bitbucket-server",x[1]==="users"?r.owner="~"+x[2]:r.owner=x[2],r.organization=r.owner,r.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(r.filepathtype=s[1],s.length>2&&(r.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(r.commit=s[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}o(zE,"gitUrlParse");zE.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",s=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+s:n+"@"+e.resource+":"+e.full_name+s;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+s;case"http":case"https":var l=e.token?aG(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+l+e.resource+r+"/"+lG(e)+s;default:return e.href}};function aG(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(aG,"buildToken");function lG(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}o(lG,"buildPath");Wk.exports=zE});var pB=y0((Uae,mB)=>{"use strict";mB.exports=hB;function hB(e,t,r){e instanceof RegExp&&(e=dB(e,r)),t instanceof RegExp&&(t=dB(t,r));var n=gB(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(hB,"balanced");function dB(e,t){var r=t.match(e);return r?r[0]:null}o(dB,"maybeMatch");hB.range=gB;function gB(e,t,r){var n,s,l,a,f,c=r.indexOf(e),u=r.indexOf(t,c+1),d=c;if(c>=0&&u>0){for(n=[],l=r.length;d>=0&&!f;)d==c?(n.push(d),c=r.indexOf(e,d+1)):n.length==1?f=[n.pop(),u]:(s=n.pop(),s<l&&(l=s,a=u),u=r.indexOf(t,d+1)),d=c<u&&c>=0?c:u;n.length&&(f=[l,a])}return f}o(gB,"range")});var TB=y0(($ae,EB)=>{var yB=pB();EB.exports=MG;var vB="\0SLASH"+Math.random()+"\0",xB="\0OPEN"+Math.random()+"\0",BT="\0CLOSE"+Math.random()+"\0",_B="\0COMMA"+Math.random()+"\0",bB="\0PERIOD"+Math.random()+"\0";function DT(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(DT,"numeric");function FG(e){return e.split("\\\\").join(vB).split("\\{").join(xB).split("\\}").join(BT).split("\\,").join(_B).split("\\.").join(bB)}o(FG,"escapeBraces");function OG(e){return e.split(vB).join("\\").split(xB).join("{").split(BT).join("}").split(_B).join(",").split(bB).join(".")}o(OG,"unescapeBraces");function CB(e){if(!e)return[""];var t=[],r=yB("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,l=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var f=CB(l);return l.length&&(a[a.length-1]+=f.shift(),a.push.apply(a,f)),t.push.apply(t,a),t}o(CB,"parseCommaParts");function MG(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),e7(FG(e),!0).map(OG)):[]}o(MG,"expandTop");function UG(e){return"{"+e+"}"}o(UG,"embrace");function qG(e){return/^-?0\d/.test(e)}o(qG,"isPadded");function $G(e,t){return e<=t}o($G,"lte");function HG(e,t){return e>=t}o(HG,"gte");function e7(e,t){var r=[],n=yB("{","}",e);if(!n)return[e];var s=n.pre,l=n.post.length?e7(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<l.length;a++){var f=s+"{"+n.body+"}"+l[a];r.push(f)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=c||u,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+BT+n.post,e7(e)):[e];var m;if(d)m=n.body.split(/\.\./);else if(m=CB(n.body),m.length===1&&(m=e7(m[0],!1).map(UG),m.length===1))return l.map(function(d0){return n.pre+m[0]+d0});var p;if(d){var v=DT(m[0]),x=DT(m[1]),E=Math.max(m[0].length,m[1].length),I=m.length==3?Math.abs(DT(m[2])):1,P=$G,L=x<v;L&&(I*=-1,P=HG);var F=m.some(qG);p=[];for(var B=v;P(B,x);B+=I){var V;if(u)V=String.fromCharCode(B),V==="\\"&&(V="");else if(V=String(B),F){var de=E-V.length;if(de>0){var ve=new Array(de+1).join("0");B<0?V="-"+ve+V.slice(1):V=ve+V}}p.push(V)}}else{p=[];for(var n0=0;n0<m.length;n0++)p.push.apply(p,e7(m[n0],!1))}for(var n0=0;n0<p.length;n0++)for(var a=0;a<l.length;a++){var f=s+p[n0]+l[a];(!t||d||f)&&r.push(f)}}return r}o(e7,"expand")});var Ky=y0(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.ValuePointer=n3.ValuePointerRootDeleteError=n3.ValuePointerRootSetError=void 0;var KT=class KT extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};o(KT,"ValuePointerRootSetError");var zy=KT;n3.ValuePointerRootSetError=zy;var WT=class WT extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};o(WT,"ValuePointerRootDeleteError");var Gy=WT;n3.ValuePointerRootDeleteError=Gy;var $B;(function(e){function t(f){return f.indexOf("~")===-1?f:f.replace(/~1/g,"/").replace(/~0/g,"~")}o(t,"Escape");function*r(f){if(f==="")return;let[c,u]=[0,0];for(let d=0;d<f.length;d++)f.charAt(d)==="/"?(d===0||(u=d,yield t(f.slice(c,u))),c=d+1):u=d;yield t(f.slice(c))}o(r,"Format"),e.Format=r;function n(f,c,u){if(c==="")throw new zy(f,c,u);let[d,h,m]=[null,f,""];for(let p of r(c))h[p]===void 0&&(h[p]={}),d=h,h=h[p],m=p;d[m]=u}o(n,"Set"),e.Set=n;function s(f,c){if(c==="")throw new Gy(f,c);let[u,d,h]=[null,f,""];for(let m of r(c)){if(d[m]===void 0||d[m]===null)return;u=d,d=d[m],h=m}if(Array.isArray(u)){let m=parseInt(h);u.splice(m,1)}else delete u[h]}o(s,"Delete"),e.Delete=s;function l(f,c){if(c==="")return!0;let[u,d,h]=[null,f,""];for(let m of r(c)){if(d[m]===void 0)return!1;u=d,d=d[m],h=m}return Object.getOwnPropertyNames(u).includes(h)}o(l,"Has"),e.Has=l;function a(f,c){if(c==="")return f;let u=f;for(let d of r(c)){if(u[d]===void 0)return;u=u[d]}return u}o(a,"Get"),e.Get=a})($B||(n3.ValuePointer=$B={}))});var Q8=y0(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});Wy.Clone=void 0;var s7=$l();function wK(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:YT(e[n])}),{})}o(wK,"ObjectType");function AK(e){return e.map(t=>YT(t))}o(AK,"ArrayType");function PK(e){return e.slice()}o(PK,"TypedArrayType");function RK(e){return new Date(e.toISOString())}o(RK,"DateType");function YT(e){if((0,s7.IsArray)(e))return AK(e);if((0,s7.IsDate)(e))return RK(e);if((0,s7.IsPlainObject)(e))return wK(e);if((0,s7.IsTypedArray)(e))return PK(e);if((0,s7.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}o(YT,"Clone");Wy.Clone=YT});var eS=y0(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Patch=Zs.Diff=Zs.ValueDeltaUnableToDiffUnknownValue=Zs.ValueDeltaObjectWithSymbolKeyError=Zs.Edit=Zs.Delete=Zs.Update=Zs.Insert=void 0;var gl=$l(),zf=ql(),JT=Ky(),XT=Q8();Zs.Insert=zf.Type.Object({type:zf.Type.Literal("insert"),path:zf.Type.String(),value:zf.Type.Unknown()});Zs.Update=zf.Type.Object({type:zf.Type.Literal("update"),path:zf.Type.String(),value:zf.Type.Unknown()});Zs.Delete=zf.Type.Object({type:zf.Type.Literal("delete"),path:zf.Type.String()});Zs.Edit=zf.Type.Union([Zs.Insert,Zs.Update,Zs.Delete]);var ZT=class ZT extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};o(ZT,"ValueDeltaObjectWithSymbolKeyError");var bd=ZT;Zs.ValueDeltaObjectWithSymbolKeyError=bd;var QT=class QT extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};o(QT,"ValueDeltaUnableToDiffUnknownValue");var Yy=QT;Zs.ValueDeltaUnableToDiffUnknownValue=Yy;function o7(e,t){return{type:"update",path:e,value:t}}o(o7,"CreateUpdate");function HB(e,t){return{type:"insert",path:e,value:t}}o(HB,"CreateInsert");function jB(e){return{type:"delete",path:e}}o(jB,"CreateDelete");function*NK(e,t,r){if(!(0,gl.IsPlainObject)(r))return yield o7(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],s=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let l of n){if((0,gl.IsSymbol)(l))throw new bd(l);(0,gl.IsUndefined)(r[l])&&s.includes(l)&&(yield o7(`${e}/${String(l)}`,void 0))}for(let l of s)if(!((0,gl.IsUndefined)(t[l])||(0,gl.IsUndefined)(r[l]))){if((0,gl.IsSymbol)(l))throw new bd(l);yield*Jy(`${e}/${String(l)}`,t[l],r[l])}for(let l of s){if((0,gl.IsSymbol)(l))throw new bd(l);(0,gl.IsUndefined)(t[l])&&(yield HB(`${e}/${String(l)}`,r[l]))}for(let l of n.reverse()){if((0,gl.IsSymbol)(l))throw new bd(l);(0,gl.IsUndefined)(r[l])&&!s.includes(l)&&(yield jB(`${e}/${String(l)}`))}}o(NK,"ObjectType");function*kK(e,t,r){if(!(0,gl.IsArray)(r))return yield o7(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Jy(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield HB(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield jB(`${e}/${n}`))}o(kK,"ArrayType");function*DK(e,t,r){if(!(0,gl.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield o7(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Jy(`${e}/${n}`,t[n],r[n])}o(DK,"TypedArrayType");function*BK(e,t,r){t!==r&&(yield o7(e,r))}o(BK,"ValueType");function*Jy(e,t,r){if((0,gl.IsPlainObject)(t))return yield*NK(e,t,r);if((0,gl.IsArray)(t))return yield*kK(e,t,r);if((0,gl.IsTypedArray)(t))return yield*DK(e,t,r);if((0,gl.IsValueType)(t))return yield*BK(e,t,r);throw new Yy(t)}o(Jy,"Visit");function LK(e,t){return[...Jy("",e,t)]}o(LK,"Diff");Zs.Diff=LK;function FK(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(FK,"IsRootUpdate");function OK(e){return e.length===0}o(OK,"IsIdentity");function MK(e,t){if(FK(t))return(0,XT.Clone)(t[0].value);if(OK(t))return(0,XT.Clone)(e);let r=(0,XT.Clone)(e);for(let n of t)switch(n.type){case"insert":{JT.ValuePointer.Set(r,n.path,n.value);break}case"update":{JT.ValuePointer.Set(r,n.path,n.value);break}case"delete":{JT.ValuePointer.Delete(r,n.path);break}}return r}o(MK,"Patch");Zs.Patch=MK});var zB=y0(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.Mutate=i3.ValueMutateInvalidRootMutationError=i3.ValueMutateTypeMismatchError=void 0;var pf=$l(),Qy=Ky(),tS=Q8(),nS=class nS extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};o(nS,"ValueMutateTypeMismatchError");var Xy=nS;i3.ValueMutateTypeMismatchError=Xy;var iS=class iS extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};o(iS,"ValueMutateInvalidRootMutationError");var Zy=iS;i3.ValueMutateInvalidRootMutationError=Zy;function UK(e,t,r,n){if(!(0,pf.IsPlainObject)(r))Qy.ValuePointer.Set(e,t,(0,tS.Clone)(n));else{let s=Object.keys(r),l=Object.keys(n);for(let a of s)l.includes(a)||delete r[a];for(let a of l)s.includes(a)||(r[a]=null);for(let a of l)rS(e,`${t}/${a}`,r[a],n[a])}}o(UK,"ObjectType");function qK(e,t,r,n){if(!(0,pf.IsArray)(r))Qy.ValuePointer.Set(e,t,(0,tS.Clone)(n));else{for(let s=0;s<n.length;s++)rS(e,`${t}/${s}`,r[s],n[s]);r.splice(n.length)}}o(qK,"ArrayType");function $K(e,t,r,n){if((0,pf.IsTypedArray)(r)&&r.length===n.length)for(let s=0;s<r.length;s++)r[s]=n[s];else Qy.ValuePointer.Set(e,t,(0,tS.Clone)(n))}o($K,"TypedArrayType");function HK(e,t,r,n){r!==n&&Qy.ValuePointer.Set(e,t,n)}o(HK,"ValueType");function rS(e,t,r,n){if((0,pf.IsArray)(n))return qK(e,t,r,n);if((0,pf.IsTypedArray)(n))return $K(e,t,r,n);if((0,pf.IsPlainObject)(n))return UK(e,t,r,n);if((0,pf.IsValueType)(n))return HK(e,t,r,n)}o(rS,"Visit");function VB(e){return(0,pf.IsTypedArray)(e)||(0,pf.IsValueType)(e)}o(VB,"IsNonMutableValue");function jK(e,t){return(0,pf.IsPlainObject)(e)&&(0,pf.IsArray)(t)||(0,pf.IsArray)(e)&&(0,pf.IsPlainObject)(t)}o(jK,"IsMismatchedValue");function VK(e,t){if(VB(e)||VB(t))throw new Zy;if(jK(e,t))throw new Xy;rS(e,"",e,t)}o(VK,"Mutate");i3.Mutate=VK});var GB=y0(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.Equal=void 0;var Pu=$l();function zK(e,t){if(!(0,Pu.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(s=>ev(e[s],t[s]))}o(zK,"ObjectType");function GK(e,t){return(0,Pu.IsDate)(t)&&e.getTime()===t.getTime()}o(GK,"DateType");function KK(e,t){return!(0,Pu.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>ev(r,t[n]))}o(KK,"ArrayType");function WK(e,t){return!(0,Pu.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>ev(r,t[n]))}o(WK,"TypedArrayType");function YK(e,t){return e===t}o(YK,"ValueType");function ev(e,t){if((0,Pu.IsPlainObject)(e))return zK(e,t);if((0,Pu.IsDate)(e))return GK(e,t);if((0,Pu.IsTypedArray)(e))return WK(e,t);if((0,Pu.IsArray)(e))return KK(e,t);if((0,Pu.IsValueType)(e))return YK(e,t);throw new Error("ValueEquals: Unable to compare value")}o(ev,"Equal");tv.Equal=ev});var uS=y0(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.Create=ml.ValueCreateRecursiveInstantiationError=ml.ValueCreateTempateLiteralTypeError=ml.ValueCreateIntersectTypeError=ml.ValueCreateNotTypeError=ml.ValueCreateNeverTypeError=ml.ValueCreateUnknownTypeError=void 0;var ji=$l(),JK=t8(),WB=j5(),Gl=ql(),sS=class sS extends Gl.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(sS,"ValueCreateUnknownTypeError");var rv=sS;ml.ValueCreateUnknownTypeError=rv;var oS=class oS extends Gl.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};o(oS,"ValueCreateNeverTypeError");var nv=oS;ml.ValueCreateNeverTypeError=nv;var aS=class aS extends Gl.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};o(aS,"ValueCreateNotTypeError");var iv=aS;ml.ValueCreateNotTypeError=iv;var lS=class lS extends Gl.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};o(lS,"ValueCreateIntersectTypeError");var sv=lS;ml.ValueCreateIntersectTypeError=sv;var fS=class fS extends Gl.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};o(fS,"ValueCreateTempateLiteralTypeError");var ov=fS;ml.ValueCreateTempateLiteralTypeError=ov;var cS=class cS extends Gl.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};o(cS,"ValueCreateRecursiveInstantiationError");var av=cS;ml.ValueCreateRecursiveInstantiationError=av;function XK(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:{}}o(XK,"TAny");function ZK(e,t){if(e.uniqueItems===!0&&!(0,ji.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,ji.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>yf(e.items,t)):[]}o(ZK,"TArray");function QK(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:async function*(){}()}o(QK,"TAsyncIterator");function eW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:BigInt(0)}o(eW,"TBigInt");function tW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:!1}o(tW,"TBoolean");function rW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;{let r=yf(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,s]of Object.entries(r)){let l=this;l[n]=s}}}:class{}}}o(rW,"TConstructor");function nW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(nW,"TDate");function iW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:()=>yf(e.returns,t)}o(iW,"TFunction");function sW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(sW,"TInteger");function oW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,s)=>{let l=yf(s,t);return typeof l=="object"?{...n,...l}:l},{});if(!(0,JK.Check)(e,t,r))throw new sv(e);return r}}o(oW,"TIntersect");function aW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:function*(){}()}o(aW,"TIterator");function lW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:e.const}o(lW,"TLiteral");function fW(e,t){throw new nv(e)}o(fW,"TNever");function cW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;throw new iv(e)}o(cW,"TNot");function uW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:null}o(uW,"TNull");function dW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(dW,"TNumber");function hW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[s,l])=>r.has(s)?{...n,[s]:yf(l,t)}:{...n},{})}}o(hW,"TObject");function gW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:Promise.resolve(yf(e.item,t))}o(gW,"TPromise");function mW(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,ji.HasPropertyKey)(e,"default")?e.default:r===Gl.PatternStringExact||r===Gl.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((l,a)=>({...l,[a]:yf(n,t)}),{})}o(mW,"TRecord");function pW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:yf((0,WB.Deref)(e,t),t)}o(pW,"TRef");function yW(e,t){if(e.pattern!==void 0){if((0,ji.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,ji.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,ji.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}o(yW,"TString");function vW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}o(vW,"TSymbol");function xW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;let r=Gl.TemplateLiteralParser.ParseExact(e.pattern);if(!Gl.TemplateLiteralFinite.Check(r))throw new ov(e);return Gl.TemplateLiteralGenerator.Generate(r).next().value}o(xW,"TTemplateLiteral");function _W(e,t){if(YB++>KB)throw new av(e,KB);return(0,ji.HasPropertyKey)(e,"default")?e.default:yf((0,WB.Deref)(e,t),t)}o(_W,"TThis");function bW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>yf(e.items[n],t))}o(bW,"TTuple");function CW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default}o(CW,"TUndefined");function EW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return yf(e.anyOf[0],t)}o(EW,"TUnion");function TW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(TW,"TUint8Array");function SW(e,t){return(0,ji.HasPropertyKey)(e,"default")?e.default:{}}o(SW,"TUnknown");function IW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default}o(IW,"TVoid");function wW(e,t){if((0,ji.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}o(wW,"TKind");function yf(e,t){let r=(0,ji.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[Gl.Kind]){case"Any":return XK(n,r);case"Array":return ZK(n,r);case"AsyncIterator":return QK(n,r);case"BigInt":return eW(n,r);case"Boolean":return tW(n,r);case"Constructor":return rW(n,r);case"Date":return nW(n,r);case"Function":return iW(n,r);case"Integer":return sW(n,r);case"Intersect":return oW(n,r);case"Iterator":return aW(n,r);case"Literal":return lW(n,r);case"Never":return fW(n,r);case"Not":return cW(n,r);case"Null":return uW(n,r);case"Number":return dW(n,r);case"Object":return hW(n,r);case"Promise":return gW(n,r);case"Record":return mW(n,r);case"Ref":return pW(n,r);case"String":return yW(n,r);case"Symbol":return vW(n,r);case"TemplateLiteral":return xW(n,r);case"This":return _W(n,r);case"Tuple":return bW(n,r);case"Undefined":return CW(n,r);case"Union":return EW(n,r);case"Uint8Array":return TW(n,r);case"Unknown":return SW(n,r);case"Void":return IW(n,r);default:if(!Gl.TypeRegistry.Has(n[Gl.Kind]))throw new rv(n);return wW(n,r)}}o(yf,"Visit");var KB=512,YB=0;function AW(...e){return YB=0,e.length===2?yf(e[0],e[1]):yf(e[0],[])}o(AW,"Create");ml.Create=AW});var QB=y0(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.Cast=pl.Default=pl.DefaultClone=pl.ValueCastUnknownTypeError=pl.ValueCastRecursiveTypeError=pl.ValueCastNeverTypeError=pl.ValueCastArrayUniqueItemsTypeError=void 0;var s3=$l(),Nu=uS(),Gf=t8(),e6=Q8(),JB=j5(),Ru=ql(),mS=class mS extends Ru.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};o(mS,"ValueCastArrayUniqueItemsTypeError");var lv=mS;pl.ValueCastArrayUniqueItemsTypeError=lv;var pS=class pS extends Ru.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};o(pS,"ValueCastNeverTypeError");var fv=pS;pl.ValueCastNeverTypeError=fv;var yS=class yS extends Ru.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};o(yS,"ValueCastRecursiveTypeError");var dS=yS;pl.ValueCastRecursiveTypeError=dS;var vS=class vS extends Ru.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(vS,"ValueCastUnknownTypeError");var cv=vS;pl.ValueCastUnknownTypeError=cv;var hS;(function(e){function t(s,l,a){if(s[Ru.Kind]==="Object"&&typeof a=="object"&&!(0,s3.IsNull)(a)){let f=s,c=Object.getOwnPropertyNames(a),u=Object.entries(f.properties),[d,h]=[1/u.length,u.length];return u.reduce((m,[p,v])=>{let x=v[Ru.Kind]==="Literal"&&v.const===a[p]?h:0,E=(0,Gf.Check)(v,l,a[p])?d:0,I=c.includes(p)?d:0;return m+(x+E+I)},0)}else return(0,Gf.Check)(s,l,a)?1:0}o(t,"Score");function r(s,l,a){let[f,c]=[s.anyOf[0],0];for(let u of s.anyOf){let d=t(u,l,a);d>c&&(f=u,c=d)}return f}o(r,"Select");function n(s,l,a){if("default"in s)return s.default;{let f=r(s,l,a);return ZB(f,l,a)}}o(n,"Create"),e.Create=n})(hS||(hS={}));function XB(e,t,r){return(0,Gf.Check)(e,t,r)?(0,e6.Clone)(r):(0,Nu.Create)(e,t)}o(XB,"DefaultClone");pl.DefaultClone=XB;function gS(e,t,r){return(0,Gf.Check)(e,t,r)?r:(0,Nu.Create)(e,t)}o(gS,"Default");pl.Default=gS;function PW(e,t,r){if((0,Gf.Check)(e,t,r))return(0,e6.Clone)(r);let n=(0,s3.IsArray)(r)?(0,e6.Clone)(r):(0,Nu.Create)(e,t),s=(0,s3.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,s3.IsNumber)(e.maxItems)&&s.length>e.maxItems?s.slice(0,e.maxItems):s).map(c=>mc(e.items,t,c));if(e.uniqueItems!==!0)return a;let f=[...new Set(a)];if(!(0,Gf.Check)(e,t,f))throw new lv(e,f);return f}o(PW,"TArray");function RW(e,t,r){if((0,Gf.Check)(e,t,r))return(0,Nu.Create)(e,t);let n=new Set(e.returns.required||[]),s=o(function(){},"result");for(let[l,a]of Object.entries(e.returns.properties))!n.has(l)&&r.prototype[l]===void 0||(s.prototype[l]=mc(a,t,r.prototype[l]));return s}o(RW,"TConstructor");function NW(e,t,r){let n=(0,Nu.Create)(e,t),s=(0,s3.IsPlainObject)(n)&&(0,s3.IsPlainObject)(r)?{...n,...r}:r;return(0,Gf.Check)(e,t,s)?s:(0,Nu.Create)(e,t)}o(NW,"TIntersect");function kW(e,t,r){throw new fv(e)}o(kW,"TNever");function DW(e,t,r){if((0,Gf.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,Nu.Create)(e,t);let n=new Set(e.required||[]),s={};for(let[l,a]of Object.entries(e.properties))!n.has(l)&&r[l]===void 0||(s[l]=mc(a,t,r[l]));if(typeof e.additionalProperties=="object"){let l=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))l.includes(a)||(s[a]=mc(e.additionalProperties,t,r[a]))}return s}o(DW,"TObject");function BW(e,t,r){if((0,Gf.Check)(e,t,r))return(0,e6.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,Nu.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=mc(s,t,f);return l}o(BW,"TRecord");function LW(e,t,r){return mc((0,JB.Deref)(e,t),t,r)}o(LW,"TRef");function FW(e,t,r){return mc((0,JB.Deref)(e,t),t,r)}o(FW,"TThis");function OW(e,t,r){return(0,Gf.Check)(e,t,r)?(0,e6.Clone)(r):(0,s3.IsArray)(r)?e.items===void 0?[]:e.items.map((n,s)=>mc(n,t,r[s])):(0,Nu.Create)(e,t)}o(OW,"TTuple");function MW(e,t,r){return(0,Gf.Check)(e,t,r)?(0,e6.Clone)(r):hS.Create(e,t,r)}o(MW,"TUnion");function mc(e,t,r){let n=(0,s3.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[Ru.Kind]){case"Array":return PW(s,n,r);case"Constructor":return RW(s,n,r);case"Intersect":return NW(s,n,r);case"Never":return kW(s,n,r);case"Object":return DW(s,n,r);case"Record":return BW(s,n,r);case"Ref":return LW(s,n,r);case"This":return FW(s,n,r);case"Tuple":return OW(s,n,r);case"Union":return MW(s,n,r);case"Date":case"Symbol":case"Uint8Array":return XB(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return gS(s,n,r);default:if(!Ru.TypeRegistry.Has(s[Ru.Kind]))throw new cv(s);return gS(s,n,r)}}o(mc,"Visit");function ZB(...e){return e.length===3?mc(e[0],e[1],e[2]):mc(e[0],[],e[1])}o(ZB,"Cast");pl.Cast=ZB});var iL=y0(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.Convert=o3.Default=o3.ValueConvertUnknownTypeError=void 0;var us=$l(),UW=Q8(),qW=t8(),eL=j5(),t6=ql(),xS=class xS extends t6.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(xS,"ValueConvertUnknownTypeError");var uv=xS;o3.ValueConvertUnknownTypeError=uv;function dv(e){return(0,us.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(dv,"IsStringNumeric");function $W(e){return(0,us.IsBigInt)(e)||(0,us.IsBoolean)(e)||(0,us.IsNumber)(e)}o($W,"IsValueToString");function a7(e){return e===!0||(0,us.IsNumber)(e)&&e===1||(0,us.IsBigInt)(e)&&e===BigInt("1")||(0,us.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}o(a7,"IsValueTrue");function l7(e){return e===!1||(0,us.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,us.IsBigInt)(e)&&e===BigInt("0")||(0,us.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(l7,"IsValueFalse");function HW(e){return(0,us.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(HW,"IsTimeStringWithTimeZone");function jW(e){return(0,us.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(jW,"IsTimeStringWithoutTimeZone");function VW(e){return(0,us.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(VW,"IsDateTimeStringWithTimeZone");function zW(e){return(0,us.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(zW,"IsDateTimeStringWithoutTimeZone");function GW(e){return(0,us.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(GW,"IsDateString");function KW(e,t){let r=rL(e);return r===t?r:e}o(KW,"TryConvertLiteralString");function WW(e,t){let r=nL(e);return r===t?r:e}o(WW,"TryConvertLiteralNumber");function YW(e,t){let r=tL(e);return r===t?r:e}o(YW,"TryConvertLiteralBoolean");function JW(e,t){return typeof e.const=="string"?KW(t,e.const):typeof e.const=="number"?WW(t,e.const):typeof e.const=="boolean"?YW(t,e.const):(0,UW.Clone)(t)}o(JW,"TryConvertLiteral");function tL(e){return a7(e)?!0:l7(e)?!1:e}o(tL,"TryConvertBoolean");function XW(e){return dv(e)?BigInt(parseInt(e)):(0,us.IsNumber)(e)?BigInt(e|0):l7(e)?BigInt(0):a7(e)?BigInt(1):e}o(XW,"TryConvertBigInt");function rL(e){return $W(e)?e.toString():(0,us.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}o(rL,"TryConvertString");function nL(e){return dv(e)?parseFloat(e):a7(e)?1:l7(e)?0:e}o(nL,"TryConvertNumber");function ZW(e){return dv(e)?parseInt(e):(0,us.IsNumber)(e)?e|0:a7(e)?1:l7(e)?0:e}o(ZW,"TryConvertInteger");function QW(e){return(0,us.IsString)(e)&&e.toLowerCase()==="null"?null:e}o(QW,"TryConvertNull");function eY(e){return(0,us.IsString)(e)&&e==="undefined"?void 0:e}o(eY,"TryConvertUndefined");function tY(e){return(0,us.IsDate)(e)?e:(0,us.IsNumber)(e)?new Date(e):a7(e)?new Date(1):l7(e)?new Date(0):dv(e)?new Date(parseInt(e)):jW(e)?new Date(`1970-01-01T${e}.000Z`):HW(e)?new Date(`1970-01-01T${e}`):zW(e)?new Date(`${e}.000Z`):VW(e)?new Date(e):GW(e)?new Date(`${e}T00:00:00.000Z`):e}o(tY,"TryConvertDate");function rY(e){return e}o(rY,"Default");o3.Default=rY;function nY(e,t,r){return(0,us.IsArray)(r)?r.map(n=>w1(e.items,t,n)):r}o(nY,"TArray");function iY(e,t,r){return XW(r)}o(iY,"TBigInt");function sY(e,t,r){return tL(r)}o(sY,"TBoolean");function oY(e,t,r){return tY(r)}o(oY,"TDate");function aY(e,t,r){return ZW(r)}o(aY,"TInteger");function lY(e,t,r){return e.allOf.every(n=>t6.TypeGuard.TObject(n))?w1(t6.Type.Composite(e.allOf),t,r):w1(e.allOf[0],t,r)}o(lY,"TIntersect");function fY(e,t,r){return JW(e,r)}o(fY,"TLiteral");function cY(e,t,r){return QW(r)}o(cY,"TNull");function uY(e,t,r){return nL(r)}o(uY,"TNumber");function dY(e,t,r){return(0,us.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,s)=>r[s]!==void 0?{...n,[s]:w1(e.properties[s],t,r[s])}:{...n},r):r}o(dY,"TObject");function hY(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=w1(s,t,f);return l}o(hY,"TRecord");function gY(e,t,r){return w1((0,eL.Deref)(e,t),t,r)}o(gY,"TRef");function mY(e,t,r){return rL(r)}o(mY,"TString");function pY(e,t,r){return(0,us.IsString)(r)||(0,us.IsNumber)(r)?Symbol(r):r}o(pY,"TSymbol");function yY(e,t,r){return w1((0,eL.Deref)(e,t),t,r)}o(yY,"TThis");function vY(e,t,r){return(0,us.IsArray)(r)&&!(0,us.IsUndefined)(e.items)?r.map((n,s)=>s<e.items.length?w1(e.items[s],t,n):n):r}o(vY,"TTuple");function xY(e,t,r){return eY(r)}o(xY,"TUndefined");function _Y(e,t,r){for(let n of e.anyOf){let s=w1(n,t,r);if((0,qW.Check)(n,t,s))return s}return r}o(_Y,"TUnion");function w1(e,t,r){let n=(0,us.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[t6.Kind]){case"Array":return nY(s,n,r);case"BigInt":return iY(s,n,r);case"Boolean":return sY(s,n,r);case"Date":return oY(s,n,r);case"Integer":return aY(s,n,r);case"Intersect":return lY(s,n,r);case"Literal":return fY(s,n,r);case"Null":return cY(s,n,r);case"Number":return uY(s,n,r);case"Object":return dY(s,n,r);case"Record":return hY(s,n,r);case"Ref":return gY(s,n,r);case"String":return mY(s,n,r);case"Symbol":return pY(s,n,r);case"This":return yY(s,n,r);case"Tuple":return vY(s,n,r);case"Undefined":return xY(s,n,r);case"Union":return _Y(s,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!t6.TypeRegistry.Has(s[t6.Kind]))throw new uv(s);return r}}o(w1,"Visit");function bY(...e){return e.length===3?w1(e[0],e[1],e[2]):w1(e[0],[],e[1])}o(bY,"Convert");o3.Convert=bY});var dL=y0(gv=>{"use strict";Object.defineProperty(gv,"__esModule",{value:!0});gv.Value=void 0;var sL=Im(),CY=zB(),EY=m9(),TY=GB(),oL=QB(),SY=Q8(),aL=iL(),lL=uS(),fL=t8(),cL=eS(),hv=Eb(),uL;(function(e){function t(...v){return oL.Cast.apply(oL,v)}o(t,"Cast"),e.Cast=t;function r(...v){return lL.Create.apply(lL,v)}o(r,"Create"),e.Create=r;function n(...v){return fL.Check.apply(fL,v)}o(n,"Check"),e.Check=n;function s(...v){return aL.Convert.apply(aL,v)}o(s,"Convert"),e.Convert=s;function l(v){return SY.Clone(v)}o(l,"Clone"),e.Clone=l;function a(...v){let[x,E,I]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]];if(!n(x,E,I))throw new hv.TransformDecodeCheckError(x,I,c(x,E,I).First());return hv.DecodeTransform.Decode(x,E,I)}o(a,"Decode"),e.Decode=a;function f(...v){let[x,E,I]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]],P=hv.EncodeTransform.Encode(x,E,I);if(!n(x,E,P))throw new hv.TransformEncodeCheckError(x,I,c(x,E,I).First());return P}o(f,"Encode"),e.Encode=f;function c(...v){return sL.Errors.apply(sL,v)}o(c,"Errors"),e.Errors=c;function u(v,x){return TY.Equal(v,x)}o(u,"Equal"),e.Equal=u;function d(v,x){return cL.Diff(v,x)}o(d,"Diff"),e.Diff=d;function h(v){return EY.Hash(v)}o(h,"Hash"),e.Hash=h;function m(v,x){return cL.Patch(v,x)}o(m,"Patch"),e.Patch=m;function p(v,x){CY.Mutate(v,x)}o(p,"Mutate"),e.Mutate=p})(uL||(gv.Value=uL={}))});var gL=y0(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.Value=Ra.ValuePointer=Ra.Delete=Ra.Update=Ra.Insert=Ra.Edit=Ra.ValueErrorIterator=Ra.ValueErrorType=void 0;var hL=Im();Object.defineProperty(Ra,"ValueErrorType",{enumerable:!0,get:function(){return hL.ValueErrorType}});Object.defineProperty(Ra,"ValueErrorIterator",{enumerable:!0,get:function(){return hL.ValueErrorIterator}});var mv=eS();Object.defineProperty(Ra,"Edit",{enumerable:!0,get:function(){return mv.Edit}});Object.defineProperty(Ra,"Insert",{enumerable:!0,get:function(){return mv.Insert}});Object.defineProperty(Ra,"Update",{enumerable:!0,get:function(){return mv.Update}});Object.defineProperty(Ra,"Delete",{enumerable:!0,get:function(){return mv.Delete}});var IY=Ky();Object.defineProperty(Ra,"ValuePointer",{enumerable:!0,get:function(){return IY.ValuePointer}});var wY=dL();Object.defineProperty(Ra,"Value",{enumerable:!0,get:function(){return wY.Value}})});var IL=y0((m1e,SL)=>{"use strict";SL.exports=o(function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,l;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(l=Object.keys(t),n=l.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[s]))return!1;for(s=n;s--!==0;){var a=l[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},"equal")});var dn=y0((G5e,ML)=>{ML.exports={options:{usePureJavaScript:!1}}});var $L=y0((K5e,qL)=>{var tI={};qL.exports=tI;var UL={};tI.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=XY(e,t);else{var s=0,l=t.length,a=t.charAt(0),f=[0];for(s=0;s<e.length;++s){for(var c=0,u=e[s];c<f.length;++c)u+=f[c]<<8,f[c]=u%l,u=u/l|0;for(;u>0;)f.push(u%l),u=u/l|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=a;for(s=f.length-1;s>=0;--s)n+=t[f[s]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};tI.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=UL[t];if(!r){r=UL[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,l=t.charAt(0),a=[0],n=0;n<e.length;n++){var f=r[e.charCodeAt(n)];if(f===void 0)return;for(var c=0,u=f;c<a.length;++c)u+=a[c]*s,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var d=0;e[d]===l&&d<e.length-1;++d)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function XY(e,t){var r=0,n=t.length,s=t.charAt(0),l=[0];for(r=0;r<e.length();++r){for(var a=0,f=e.at(r);a<l.length;++a)f+=l[a]<<8,l[a]=f%n,f=f/n|0;for(;f>0;)l.push(f%n),f=f/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=s;for(r=l.length-1;r>=0;--r)c+=t[l[r]];return c}o(XY,"_encodeWithByteBuffer")});var Ki=y0((Y5e,zL)=>{var HL=dn(),jL=$L(),s0=zL.exports=HL.util=HL.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){s0.nextTick=process.nextTick,typeof setImmediate=="function"?s0.setImmediate=setImmediate:s0.setImmediate=s0.nextTick;return}if(typeof setImmediate=="function"){s0.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s0.nextTick=function(f){return setImmediate(f)};return}if(s0.setImmediate=function(f){setTimeout(f,0)},typeof window<"u"&&typeof window.postMessage=="function"){let f=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(d){d()})}};var a=f;o(f,"handler");var e="forge.setImmediate",t=[];s0.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(s,{attributes:!0});var l=s0.setImmediate;s0.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),l(c)):(t.push(c),t.length===1&&s.setAttribute("a",n=!n))}}s0.nextTick=s0.setImmediate})();s0.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;s0.globalScope=function(){return s0.isNodejs?global:typeof self>"u"?window:self}();s0.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};s0.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};s0.isArrayBufferView=function(e){return e&&s0.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function y7(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(y7,"_checkBitsParam");s0.ByteBuffer=rI;function rI(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(s0.isArrayBuffer(e)||s0.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof rI||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(rI,"ByteStringBuffer");s0.ByteStringBuffer=rI;var ZY=4096;s0.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>ZY&&(this.data.substr(0,1),this._constructedStringLength=0)};s0.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};s0.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};s0.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};s0.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};s0.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};s0.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s0.encodeUtf8(e))};s0.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};s0.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};s0.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};s0.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};s0.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};s0.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};s0.ByteStringBuffer.prototype.putInt=function(e,t){y7(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};s0.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};s0.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};s0.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};s0.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};s0.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};s0.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};s0.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};s0.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};s0.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};s0.ByteStringBuffer.prototype.getInt=function(e){y7(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};s0.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};s0.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};s0.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};s0.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};s0.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};s0.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};s0.ByteStringBuffer.prototype.copy=function(){var e=s0.createBuffer(this.data);return e.read=this.read,e};s0.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};s0.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};s0.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};s0.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};s0.ByteStringBuffer.prototype.toString=function(){return s0.decodeUtf8(this.bytes())};function QY(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=s0.isArrayBuffer(e),n=s0.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(QY,"DataBuffer");s0.DataBuffer=QY;s0.DataBuffer.prototype.length=function(){return this.write-this.read};s0.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};s0.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};s0.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};s0.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};s0.DataBuffer.prototype.putBytes=function(e,t){if(s0.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(s0.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof s0.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&s0.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof s0.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var l;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),l=new Uint8Array(this.data.buffer,this.write),this.write+=s0.binary.hex.decode(e,l,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),l=new Uint8Array(this.data.buffer,this.write),this.write+=s0.binary.base64.decode(e,l,this.write),this;if(t==="utf8"&&(e=s0.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),l=new Uint8Array(this.data.buffer,this.write),this.write+=s0.binary.raw.decode(l),this;if(t==="utf16")return this.accommodate(e.length*2),l=new Uint16Array(this.data.buffer,this.write),this.write+=s0.text.utf16.encode(l),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};s0.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};s0.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};s0.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};s0.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};s0.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};s0.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};s0.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};s0.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};s0.DataBuffer.prototype.putInt=function(e,t){y7(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};s0.DataBuffer.prototype.putSignedInt=function(e,t){return y7(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};s0.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};s0.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};s0.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};s0.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};s0.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};s0.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};s0.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};s0.DataBuffer.prototype.getInt=function(e){y7(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};s0.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};s0.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};s0.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};s0.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};s0.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};s0.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};s0.DataBuffer.prototype.copy=function(){return new s0.DataBuffer(this)};s0.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};s0.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};s0.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};s0.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};s0.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return s0.binary.raw.encode(t);if(e==="hex")return s0.binary.hex.encode(t);if(e==="base64")return s0.binary.base64.encode(t);if(e==="utf8")return s0.text.utf8.decode(t);if(e==="utf16")return s0.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};s0.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=s0.encodeUtf8(e)),new s0.ByteBuffer(e)};s0.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};s0.xorBytes=function(e,t,r){for(var n="",s="",l="",a=0,f=0;r>0;--r,++a)s=e.charCodeAt(a)^t.charCodeAt(a),f>=10&&(n+=l,l="",f=0),l+=String.fromCharCode(s),++f;return n+=l,n};s0.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};s0.bytesToHex=function(e){return s0.createBuffer(e).toHex()};s0.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var l3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f3=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],VL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s0.encode64=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.length;)s=e.charCodeAt(f++),l=e.charCodeAt(f++),a=e.charCodeAt(f++),r+=l3.charAt(s>>2),r+=l3.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=l3.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":l3.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};s0.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,l,a=0;a<e.length;)r=f3[e.charCodeAt(a++)-43],n=f3[e.charCodeAt(a++)-43],s=f3[e.charCodeAt(a++)-43],l=f3[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),l!==64&&(t+=String.fromCharCode((s&3)<<6|l)));return t};s0.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};s0.decodeUtf8=function(e){return decodeURIComponent(escape(e))};s0.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:jL.encode,decode:jL.decode}};s0.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};s0.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};s0.binary.hex.encode=s0.bytesToHex;s0.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,l=r;for(e.length&1&&(s=1,n[l++]=parseInt(e[0],16));s<e.length;s+=2)n[l++]=parseInt(e.substr(s,2),16);return t?l-r:n};s0.binary.base64.encode=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.byteLength;)s=e[f++],l=e[f++],a=e[f++],r+=l3.charAt(s>>2),r+=l3.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=l3.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":l3.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};s0.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,l,a,f,c=0,u=r;c<e.length;)s=f3[e.charCodeAt(c++)-43],l=f3[e.charCodeAt(c++)-43],a=f3[e.charCodeAt(c++)-43],f=f3[e.charCodeAt(c++)-43],n[u++]=s<<2|l>>4,a!==64&&(n[u++]=(l&15)<<4|a>>2,f!==64&&(n[u++]=(a&3)<<6|f));return t?u-r:n.subarray(0,u)};s0.binary.base58.encode=function(e,t){return s0.binary.baseN.encode(e,VL,t)};s0.binary.base58.decode=function(e,t){return s0.binary.baseN.decode(e,VL,t)};s0.text={utf8:{},utf16:{}};s0.text.utf8.encode=function(e,t,r){e=s0.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};s0.text.utf8.decode=function(e){return s0.decodeUtf8(String.fromCharCode.apply(null,e))};s0.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var l=r,a=r,f=0;f<e.length;++f)s[a++]=e.charCodeAt(f),l+=2;return t?l-r:n};s0.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};s0.deflate=function(e,t,r){if(t=s0.decode64(e.deflate(s0.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};s0.inflate=function(e,t,r){var n=e.inflate(s0.encode64(t)).rval;return n===null?null:s0.decode64(n)};var nI=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=s0.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},"_setStorageObject"),iI=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(s0.decode64(r))),r},"_getStorageObject"),eJ=o(function(e,t,r,n){var s=iI(e,t);s===null&&(s={}),s[r]=n,nI(e,t,s)},"_setItem"),tJ=o(function(e,t,r){var n=iI(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),rJ=o(function(e,t,r){var n=iI(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var l in n){s=!1;break}s&&(n=null),nI(e,t,n)}},"_removeItem"),nJ=o(function(e,t){nI(e,t,null)},"_clearItems"),Iv=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,l=!1,a=null;for(var f in r){s=r[f];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),l=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),l=!0)}catch(c){a=c}if(l)break}if(!l)throw a;return n},"_callStorageFunction");s0.setItem=function(e,t,r,n,s){Iv(eJ,arguments,s)};s0.getItem=function(e,t,r,n){return Iv(tJ,arguments,n)};s0.removeItem=function(e,t,r,n){Iv(rJ,arguments,n)};s0.clearItems=function(e,t,r){Iv(nJ,arguments,r)};s0.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};s0.format=function(e){for(var t=/%./g,r,n,s=0,l=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&l.push(n),a=t.lastIndex;var f=r[0][1];switch(f){case"s":case"o":s<arguments.length?l.push(arguments[s+++1]):l.push("<?>");break;case"%":l.push("%");break;default:l.push("<%"+f+"?>")}}return l.push(e.substring(a)),l.join("")};s0.formatNumber=function(e,t,r,n){var s=e,l=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,f=n===void 0?".":n,c=s<0?"-":"",u=parseInt(s=Math.abs(+s||0).toFixed(l),10)+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+f:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+f)+(l?a+Math.abs(s-u).toFixed(l).slice(2):"")};s0.formatSize=function(e){return e>=1073741824?e=s0.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=s0.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=s0.formatNumber(e/1024,0)+" KiB":e=s0.formatNumber(e,0)+" bytes",e};s0.bytesFromIP=function(e){return e.indexOf(".")!==-1?s0.bytesFromIPv4(e):e.indexOf(":")!==-1?s0.bytesFromIPv6(e):null};s0.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=s0.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};s0.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=s0.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var l=s0.hexToBytes(e[s]);l.length<2&&n.putByte(0),n.putBytes(l)}return n.getBytes()};s0.bytesToIP=function(e){return e.length===4?s0.bytesToIPv4(e):e.length===16?s0.bytesToIPv6(e):null};s0.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};s0.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var l=s0.bytesToHex(e[s]+e[s+1]);l[0]==="0"&&l!=="0";)l=l.substr(1);if(l==="0"){var a=r[r.length-1],f=t.length;!a||f!==a.end+1?r.push({start:f,end:f}):(a.end=f,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(l)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};s0.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in s0&&!e.update)return t(null,s0.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s0.cores=navigator.hardwareConcurrency,t(null,s0.cores);if(typeof Worker>"u")return s0.cores=1,t(null,s0.cores);if(typeof Blob>"u")return s0.cores=2,t(null,s0.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var f=Date.now(),c=f+4;Date.now()<c;);self.postMessage({st:f,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,f,c){if(f===0){var u=Math.floor(a.reduce(function(d,h){return d+h},0)/a.length);return s0.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,s0.cores)}s(c,function(d,h){a.push(l(c,h)),n(a,f-1,c)})}o(n,"sample");function s(a,f){for(var c=[],u=[],d=0;d<a;++d){var h=new Worker(r);h.addEventListener("message",function(m){if(u.push(m.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();f(null,u)}}),c.push(h)}for(var d=0;d<a;++d)c[d].postMessage(d)}o(s,"map");function l(a,f){for(var c=[],u=0;u<a;++u)for(var d=f[u],h=c[u]=[],m=0;m<a;++m)if(u!==m){var p=f[m];(d.st>p.st&&d.st<p.et||p.st>d.st&&p.st<d.et)&&h.push(m)}return c.reduce(function(v,x){return Math.max(v,x.length)},0)}o(l,"reduce")}});var wv=y0((X5e,GL)=>{var Na=dn();Ki();GL.exports=Na.cipher=Na.cipher||{};Na.cipher.algorithms=Na.cipher.algorithms||{};Na.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Na.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Na.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Na.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Na.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Na.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Na.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Na.cipher.algorithms[e]=t};Na.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Na.cipher.algorithms?Na.cipher.algorithms[e]:null};var sI=Na.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};sI.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Na.util.createBuffer(),this.output=e.output||Na.util.createBuffer(),this.mode.start(t)};sI.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};sI.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var aI=y0((Z5e,KL)=>{var ka=dn();Ki();ka.cipher=ka.cipher||{};var Ri=KL.exports=ka.cipher.modes=ka.cipher.modes||{};Ri.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ri.ecb.prototype.start=function(e){};Ri.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ri.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ri.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ri.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ri.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ri.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Av(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ri.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ri.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ri.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ri.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ri.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0};Ri.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Av(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ri.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ri.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ri.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0};Ri.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Av(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ri.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ri.ofb.prototype.decrypt=Ri.ofb.prototype.encrypt;Ri.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0};Ri.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Av(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ri.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Pv(this._inBlock)};Ri.ctr.prototype.decrypt=Ri.ctr.prototype.encrypt;Ri.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=ka.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ri.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=ka.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=ka.util.createBuffer(e.additionalData):r=ka.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=ka.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(oI(n*8)))}this._inBlock=this._j0.slice(0),Pv(this._inBlock),this._partialBytes=0,r=ka.util.createBuffer(r),this._aDataLength=oI(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ri.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Pv(this._inBlock)};Ri.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Pv(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ri.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=ka.util.createBuffer();var n=this._aDataLength.concat(oI(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var l=0;l<this._ints;++l)this.tag.putInt32(this._s[l]^s[l]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ri.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var l=e[s/32|0]&1<<31-s%32;l&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ri.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ri.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,l=this._m[r][s];t[0]^=l[0],t[1]^=l[1],t[2]^=l[2],t[3]^=l[3]}return t};Ri.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ri.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,l=new Array(s),a=0;a<s;++a){var f=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;f[c]=1<<t-1<<u,l[a]=this.generateSubHashTable(this.multiply(f,e),t)}return l};Ri.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var l=n>>>1;l>0;)this.pow(s[2*l],s[l]=[]),l>>=1;for(l=2;l<n;){for(var a=1;a<l;++a){var f=s[l],c=s[a];s[l+a]=[f[0]^c[0],f[1]^c[1],f[2]^c[2],f[3]^c[3]]}l*=2}for(s[0]=[0,0,0,0],l=n+1;l<r;++l){var u=s[l^n];s[l]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return s};function Av(e,t){if(typeof e=="string"&&(e=ka.util.createBuffer(e)),ka.util.isArray(e)&&e.length>4){var r=e;e=ka.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!ka.util.isArray(e)){for(var s=[],l=t/4,n=0;n<l;++n)s.push(e.getInt32());e=s}return e}o(Av,"transformIV");function Pv(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(Pv,"inc32");function oI(e){return[e/4294967296|0,e&4294967295]}o(oI,"from64To32")});var c3=y0((e3e,XL)=>{var vs=dn();wv();aI();Ki();XL.exports=vs.aes=vs.aes||{};vs.aes.startEncrypting=function(e,t,r,n){var s=Rv({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};vs.aes.createEncryptionCipher=function(e,t){return Rv({key:e,output:null,decrypt:!1,mode:t})};vs.aes.startDecrypting=function(e,t,r,n){var s=Rv({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};vs.aes.createDecryptionCipher=function(e,t){return Rv({key:e,output:null,decrypt:!0,mode:t})};vs.aes.Algorithm=function(e,t){cI||YL();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return fI(r._w,n,s,!1)},decrypt:function(n,s){return fI(r._w,n,s,!0)}}}),r._init=!1};vs.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=vs.util.createBuffer(t);else if(vs.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=vs.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!vs.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!vs.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var l=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(l)!==-1;this._w=JL(t,e.decrypt&&!a),this._init=!0}};vs.aes._expandKey=function(e,t){return cI||YL(),JL(e,t)};vs.aes._updateBlock=fI;c6("AES-ECB",vs.cipher.modes.ecb);c6("AES-CBC",vs.cipher.modes.cbc);c6("AES-CFB",vs.cipher.modes.cfb);c6("AES-OFB",vs.cipher.modes.ofb);c6("AES-CTR",vs.cipher.modes.ctr);c6("AES-GCM",vs.cipher.modes.gcm);function c6(e,t){var r=o(function(){return new vs.aes.Algorithm(e,t)},"factory");vs.cipher.registerAlgorithm(e,r)}o(c6,"registerAlgorithm");var cI=!1,f6=4,El,lI,WL,Td,P1;function YL(){cI=!0,WL=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;El=new Array(256),lI=new Array(256),Td=new Array(4),P1=new Array(4);for(var t=0;t<4;++t)Td[t]=new Array(256),P1[t]=new Array(256);for(var r=0,n=0,s,l,a,f,c,u,d,t=0;t<256;++t){f=n^n<<1^n<<2^n<<3^n<<4,f=f>>8^f&255^99,El[r]=f,lI[f]=r,c=e[f],s=e[r],l=e[s],a=e[l],u=c<<24^f<<16^f<<8^(f^c),d=(s^l^a)<<24^(r^a)<<16^(r^l^a)<<8^(r^s^a);for(var h=0;h<4;++h)Td[h][r]=u,P1[h][f]=d,u=u<<24|u>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=s^e[e[e[s^a]]],n^=e[e[n]])}}o(YL,"initialize");function JL(e,t){for(var r=e.slice(0),n,s=1,l=r.length,a=l+6+1,f=f6*a,c=l;c<f;++c)n=r[c-1],c%l===0?(n=El[n>>>16&255]<<24^El[n>>>8&255]<<16^El[n&255]<<8^El[n>>>24]^WL[s]<<24,s++):l>6&&c%l===4&&(n=El[n>>>24]<<24^El[n>>>16&255]<<16^El[n>>>8&255]<<8^El[n&255]),r[c]=r[c-l]^n;if(t){var u,d=P1[0],h=P1[1],m=P1[2],p=P1[3],v=r.slice(0);f=r.length;for(var c=0,x=f-f6;c<f;c+=f6,x-=f6)if(c===0||c===f-f6)v[c]=r[x],v[c+1]=r[x+3],v[c+2]=r[x+2],v[c+3]=r[x+1];else for(var E=0;E<f6;++E)u=r[x+E],v[c+(3&-E)]=d[El[u>>>24]]^h[El[u>>>16&255]]^m[El[u>>>8&255]]^p[El[u&255]];r=v}return r}o(JL,"_expandKey");function fI(e,t,r,n){var s=e.length/4-1,l,a,f,c,u;n?(l=P1[0],a=P1[1],f=P1[2],c=P1[3],u=lI):(l=Td[0],a=Td[1],f=Td[2],c=Td[3],u=El);var d,h,m,p,v,x,E;d=t[0]^e[0],h=t[n?3:1]^e[1],m=t[2]^e[2],p=t[n?1:3]^e[3];for(var I=3,P=1;P<s;++P)v=l[d>>>24]^a[h>>>16&255]^f[m>>>8&255]^c[p&255]^e[++I],x=l[h>>>24]^a[m>>>16&255]^f[p>>>8&255]^c[d&255]^e[++I],E=l[m>>>24]^a[p>>>16&255]^f[d>>>8&255]^c[h&255]^e[++I],p=l[p>>>24]^a[d>>>16&255]^f[h>>>8&255]^c[m&255]^e[++I],d=v,h=x,m=E;r[0]=u[d>>>24]<<24^u[h>>>16&255]<<16^u[m>>>8&255]<<8^u[p&255]^e[++I],r[n?3:1]=u[h>>>24]<<24^u[m>>>16&255]<<16^u[p>>>8&255]<<8^u[d&255]^e[++I],r[2]=u[m>>>24]<<24^u[p>>>16&255]<<16^u[d>>>8&255]<<8^u[h&255]^e[++I],r[n?1:3]=u[p>>>24]<<24^u[d>>>16&255]<<16^u[h>>>8&255]<<8^u[m&255]^e[++I]}o(fI,"_updateBlock");function Rv(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=vs.cipher.createDecipher(r,e.key):n=vs.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof vs.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(Rv,"_createCipher")});var u3=y0((r3e,ZL)=>{var v7=dn();v7.pki=v7.pki||{};var uI=ZL.exports=v7.pki.oids=v7.oids=v7.oids||{};function V0(e,t){uI[e]=t,uI[t]=e}o(V0,"_IN");function Zi(e,t){uI[e]=t}o(Zi,"_I_");V0("1.2.840.113549.1.1.1","rsaEncryption");V0("1.2.840.113549.1.1.4","md5WithRSAEncryption");V0("1.2.840.113549.1.1.5","sha1WithRSAEncryption");V0("1.2.840.113549.1.1.7","RSAES-OAEP");V0("1.2.840.113549.1.1.8","mgf1");V0("1.2.840.113549.1.1.9","pSpecified");V0("1.2.840.113549.1.1.10","RSASSA-PSS");V0("1.2.840.113549.1.1.11","sha256WithRSAEncryption");V0("1.2.840.113549.1.1.12","sha384WithRSAEncryption");V0("1.2.840.113549.1.1.13","sha512WithRSAEncryption");V0("1.3.101.112","EdDSA25519");V0("1.2.840.10040.4.3","dsa-with-sha1");V0("1.3.14.3.2.7","desCBC");V0("1.3.14.3.2.26","sha1");V0("1.3.14.3.2.29","sha1WithRSASignature");V0("2.16.840.1.101.3.4.2.1","sha256");V0("2.16.840.1.101.3.4.2.2","sha384");V0("2.16.840.1.101.3.4.2.3","sha512");V0("2.16.840.1.101.3.4.2.4","sha224");V0("2.16.840.1.101.3.4.2.5","sha512-224");V0("2.16.840.1.101.3.4.2.6","sha512-256");V0("1.2.840.113549.2.2","md2");V0("1.2.840.113549.2.5","md5");V0("1.2.840.113549.1.7.1","data");V0("1.2.840.113549.1.7.2","signedData");V0("1.2.840.113549.1.7.3","envelopedData");V0("1.2.840.113549.1.7.4","signedAndEnvelopedData");V0("1.2.840.113549.1.7.5","digestedData");V0("1.2.840.113549.1.7.6","encryptedData");V0("1.2.840.113549.1.9.1","emailAddress");V0("1.2.840.113549.1.9.2","unstructuredName");V0("1.2.840.113549.1.9.3","contentType");V0("1.2.840.113549.1.9.4","messageDigest");V0("1.2.840.113549.1.9.5","signingTime");V0("1.2.840.113549.1.9.6","counterSignature");V0("1.2.840.113549.1.9.7","challengePassword");V0("1.2.840.113549.1.9.8","unstructuredAddress");V0("1.2.840.113549.1.9.14","extensionRequest");V0("1.2.840.113549.1.9.20","friendlyName");V0("1.2.840.113549.1.9.21","localKeyId");V0("1.2.840.113549.1.9.22.1","x509Certificate");V0("1.2.840.113549.1.12.10.1.1","keyBag");V0("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");V0("1.2.840.113549.1.12.10.1.3","certBag");V0("1.2.840.113549.1.12.10.1.4","crlBag");V0("1.2.840.113549.1.12.10.1.5","secretBag");V0("1.2.840.113549.1.12.10.1.6","safeContentsBag");V0("1.2.840.113549.1.5.13","pkcs5PBES2");V0("1.2.840.113549.1.5.12","pkcs5PBKDF2");V0("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");V0("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");V0("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");V0("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");V0("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");V0("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");V0("1.2.840.113549.2.7","hmacWithSHA1");V0("1.2.840.113549.2.8","hmacWithSHA224");V0("1.2.840.113549.2.9","hmacWithSHA256");V0("1.2.840.113549.2.10","hmacWithSHA384");V0("1.2.840.113549.2.11","hmacWithSHA512");V0("1.2.840.113549.3.7","des-EDE3-CBC");V0("2.16.840.1.101.3.4.1.2","aes128-CBC");V0("2.16.840.1.101.3.4.1.22","aes192-CBC");V0("2.16.840.1.101.3.4.1.42","aes256-CBC");V0("2.5.4.3","commonName");V0("2.5.4.4","surname");V0("2.5.4.5","serialNumber");V0("2.5.4.6","countryName");V0("2.5.4.7","localityName");V0("2.5.4.8","stateOrProvinceName");V0("2.5.4.9","streetAddress");V0("2.5.4.10","organizationName");V0("2.5.4.11","organizationalUnitName");V0("2.5.4.12","title");V0("2.5.4.13","description");V0("2.5.4.15","businessCategory");V0("2.5.4.17","postalCode");V0("2.5.4.42","givenName");V0("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");V0("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");V0("2.16.840.1.113730.1.1","nsCertType");V0("2.16.840.1.113730.1.13","nsComment");Zi("2.5.29.1","authorityKeyIdentifier");Zi("2.5.29.2","keyAttributes");Zi("2.5.29.3","certificatePolicies");Zi("2.5.29.4","keyUsageRestriction");Zi("2.5.29.5","policyMapping");Zi("2.5.29.6","subtreesConstraint");Zi("2.5.29.7","subjectAltName");Zi("2.5.29.8","issuerAltName");Zi("2.5.29.9","subjectDirectoryAttributes");Zi("2.5.29.10","basicConstraints");Zi("2.5.29.11","nameConstraints");Zi("2.5.29.12","policyConstraints");Zi("2.5.29.13","basicConstraints");V0("2.5.29.14","subjectKeyIdentifier");V0("2.5.29.15","keyUsage");Zi("2.5.29.16","privateKeyUsagePeriod");V0("2.5.29.17","subjectAltName");V0("2.5.29.18","issuerAltName");V0("2.5.29.19","basicConstraints");Zi("2.5.29.20","cRLNumber");Zi("2.5.29.21","cRLReason");Zi("2.5.29.22","expirationDate");Zi("2.5.29.23","instructionCode");Zi("2.5.29.24","invalidityDate");Zi("2.5.29.25","cRLDistributionPoints");Zi("2.5.29.26","issuingDistributionPoint");Zi("2.5.29.27","deltaCRLIndicator");Zi("2.5.29.28","issuingDistributionPoint");Zi("2.5.29.29","certificateIssuer");Zi("2.5.29.30","nameConstraints");V0("2.5.29.31","cRLDistributionPoints");V0("2.5.29.32","certificatePolicies");Zi("2.5.29.33","policyMappings");Zi("2.5.29.34","policyConstraints");V0("2.5.29.35","authorityKeyIdentifier");Zi("2.5.29.36","policyConstraints");V0("2.5.29.37","extKeyUsage");Zi("2.5.29.46","freshestCRL");Zi("2.5.29.54","inhibitAnyPolicy");V0("1.3.6.1.4.1.11129.2.4.2","timestampList");V0("1.3.6.1.5.5.7.1.1","authorityInfoAccess");V0("1.3.6.1.5.5.7.3.1","serverAuth");V0("1.3.6.1.5.5.7.3.2","clientAuth");V0("1.3.6.1.5.5.7.3.3","codeSigning");V0("1.3.6.1.5.5.7.3.4","emailProtection");V0("1.3.6.1.5.5.7.3.8","timeStamping")});var R1=y0((i3e,eF)=>{var Ts=dn();Ki();u3();var yt=eF.exports=Ts.asn1=Ts.asn1||{};yt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};yt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};yt.create=function(e,t,r,n,s){if(Ts.util.isArray(n)){for(var l=[],a=0;a<n.length;++a)n[a]!==void 0&&l.push(n[a]);n=l}var f={tagClass:e,type:t,constructed:r,composed:r||Ts.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(f.bitStringContents=s.bitStringContents,f.original=yt.copy(f)),f};yt.copy=function(e,t){var r;if(Ts.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(yt.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:yt.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};yt.equals=function(e,t,r){if(Ts.util.isArray(e)){if(!Ts.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!yt.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&yt.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};yt.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function x7(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(x7,"_checkBufferLength");var iJ=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var l=r&127;x7(e,t,l),n=e.getInt(l<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");yt.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Ts.util.createBuffer(e));var r=e.length(),n=Nv(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function Nv(e,t,r,n){var s;x7(e,t,2);var l=e.getByte();t--;var a=l&192,f=l&31;s=e.length();var c=iJ(e,t);if(t-=s-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var d,h,m=(l&32)===32;if(m)if(d=[],c===void 0)for(;;){if(x7(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),d.push(Nv(e,t,r+1,n)),t-=s-e.length()}else for(;c>0;)s=e.length(),d.push(Nv(e,c,r+1,n)),t-=s-e.length(),c-=s-e.length();if(d===void 0&&a===yt.Class.UNIVERSAL&&f===yt.Type.BITSTRING&&(h=e.bytes(c)),d===void 0&&n.decodeBitStrings&&a===yt.Class.UNIVERSAL&&f===yt.Type.BITSTRING&&c>1){var p=e.read,v=t,x=0;if(f===yt.Type.BITSTRING&&(x7(e,t,1),x=e.getByte(),t--),x===0)try{s=e.length();var E={strict:!0,decodeBitStrings:!0},I=Nv(e,t,r+1,E),P=s-e.length();t-=P,f==yt.Type.BITSTRING&&P++;var L=I.tagClass;P===c&&(L===yt.Class.UNIVERSAL||L===yt.Class.CONTEXT_SPECIFIC)&&(d=[I])}catch{}d===void 0&&(e.read=p,t=v)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(f===yt.Type.BMPSTRING)for(d="";c>0;c-=2)x7(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var F=h===void 0?null:{bitStringContents:h};return yt.create(a,f,m,d,F)}o(Nv,"_fromDer");yt.toDer=function(e){var t=Ts.util.createBuffer(),r=e.tagClass|e.type,n=Ts.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=yt.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var l=0;l<e.value.length;++l)e.value[l]!==void 0&&n.putBuffer(yt.toDer(e.value[l]))}else if(e.type===yt.Type.BMPSTRING)for(var l=0;l<e.value.length;++l)n.putInt16(e.value.charCodeAt(l));else e.type===yt.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),f="";do f+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(f.length|128);for(var l=f.length-1;l>=0;--l)t.putByte(f.charCodeAt(l))}return t.putBuffer(n),t};yt.oidToDer=function(e){var t=e.split("."),r=Ts.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,l,a,f=2;f<t.length;++f){n=!0,s=[],l=parseInt(t[f],10);do a=l&127,l=l>>>7,n||(a|=128),s.push(a),n=!1;while(l>0);for(var c=s.length-1;c>=0;--c)r.putByte(s[c])}return r};yt.derToOid=function(e){var t;typeof e=="string"&&(e=Ts.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};yt.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),l=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),f=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(f=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var d=parseInt(e.substr(u+1,2),10),h=parseInt(e.substr(u+4,2),10),m=d*60+h;m*=6e4,c==="+"?t.setTime(+t-m):t.setTime(+t+m)}return t};yt.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),f=parseInt(e.substr(12,2),10),c=0,u=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var h=e.length-5,m=e.charAt(h);if(m==="+"||m==="-"){var p=parseInt(e.substr(h+1,2),10),v=parseInt(e.substr(h+4,2),10);u=p*60+v,u*=6e4,m==="+"&&(u*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,c),t.setTime(+t+u)):(t.setFullYear(r,n,s),t.setHours(l,a,f,c)),t};yt.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.integerToDer=function(e){var t=Ts.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};yt.derToInteger=function(e){typeof e=="string"&&(e=Ts.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};yt.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&Ts.util.isArray(t.value))for(var l=0,a=0;s&&a<t.value.length;++a)s=t.value[a].optional||!1,e.value[l]&&(s=yt.validate(e.value[l],t.value[a],r,n),s?++l:t.value[a].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var f;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var QL=/[^\\u0000-\\u00ff]/;yt.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",l=0;l<t*r;++l)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case yt.Class.UNIVERSAL:n+="Universal:";break;case yt.Class.APPLICATION:n+="Application:";break;case yt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case yt.Class.PRIVATE:n+="Private:";break}if(e.tagClass===yt.Class.UNIVERSAL)switch(n+=e.type,e.type){case yt.Type.NONE:n+=" (None)";break;case yt.Type.BOOLEAN:n+=" (Boolean)";break;case yt.Type.INTEGER:n+=" (Integer)";break;case yt.Type.BITSTRING:n+=" (Bit string)";break;case yt.Type.OCTETSTRING:n+=" (Octet string)";break;case yt.Type.NULL:n+=" (Null)";break;case yt.Type.OID:n+=" (Object Identifier)";break;case yt.Type.ODESC:n+=" (Object Descriptor)";break;case yt.Type.EXTERNAL:n+=" (External or Instance of)";break;case yt.Type.REAL:n+=" (Real)";break;case yt.Type.ENUMERATED:n+=" (Enumerated)";break;case yt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case yt.Type.UTF8:n+=" (UTF8)";break;case yt.Type.ROID:n+=" (Relative Object Identifier)";break;case yt.Type.SEQUENCE:n+=" (Sequence)";break;case yt.Type.SET:n+=" (Set)";break;case yt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case yt.Type.IA5String:n+=" (IA5String (ASCII))";break;case yt.Type.UTCTIME:n+=" (UTC time)";break;case yt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case yt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,f="",l=0;l<e.value.length;++l)e.value[l]!==void 0&&(a+=1,f+=yt.prettyPrint(e.value[l],t+1,r),l+1<e.value.length&&(f+=","));n+=s+"Sub values: "+a+f}else{if(n+=s+"Value: ",e.type===yt.Type.OID){var c=yt.derToOid(e.value);n+=c,Ts.pki&&Ts.pki.oids&&c in Ts.pki.oids&&(n+=" ("+Ts.pki.oids[c]+") ")}if(e.type===yt.Type.INTEGER)try{n+=yt.derToInteger(e.value)}catch{n+="0x"+Ts.util.bytesToHex(e.value)}else if(e.type===yt.Type.BITSTRING){if(e.value.length>1?n+="0x"+Ts.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===yt.Type.OCTETSTRING)QL.test(e.value)||(n+="("+e.value+") "),n+="0x"+Ts.util.bytesToHex(e.value);else if(e.type===yt.Type.UTF8)try{n+=Ts.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+Ts.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===yt.Type.PRINTABLESTRING||e.type===yt.Type.IA5String?n+=e.value:QL.test(e.value)?n+="0x"+Ts.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var yc=y0((o3e,tF)=>{var kv=dn();tF.exports=kv.md=kv.md||{};kv.md.algorithms=kv.md.algorithms||{}});var u6=y0((a3e,rF)=>{var Lu=dn();yc();Ki();var sJ=rF.exports=Lu.hmac=Lu.hmac||{};sJ.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(l,a){if(l!==null)if(typeof l=="string")if(l=l.toLowerCase(),l in Lu.md.algorithms)t=Lu.md.algorithms[l].create();else throw new Error('Unknown hash algorithm "'+l+'"');else t=l;if(a===null)a=e;else{if(typeof a=="string")a=Lu.util.createBuffer(a);else if(Lu.util.isArray(a)){var f=a;a=Lu.util.createBuffer();for(var c=0;c<f.length;++c)a.putByte(f[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=Lu.util.createBuffer(),n=Lu.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var f=a.at(c);r.putByte(54^f),n.putByte(92^f)}if(u<t.blockLength)for(var f=t.blockLength-u,c=0;c<f;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(l){t.update(l)},s.getMac=function(){var l=t.digest().bytes();return t.start(),t.update(n),t.update(l),t.digest()},s.digest=s.getMac,s}});var Bv=y0((l3e,oF)=>{var vc=dn();yc();Ki();var iF=oF.exports=vc.md5=vc.md5||{};vc.md.md5=vc.md.algorithms.md5=iF;iF.create=function(){sF||oJ();var e=null,t=vc.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=vc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=vc.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),nF(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=vc.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(dI.substr(0,n.blockLength-a));for(var f,c=0,u=n.fullMessageLength.length-1;u>=0;--u)f=n.fullMessageLength[u]*8+c,c=f/4294967296>>>0,s.putInt32Le(f>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};nF(d,r,s);var h=vc.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var dI=null,Dv=null,_7=null,d6=null,sF=!1;function oJ(){dI="\x80",dI+=vc.util.fillString("\0",64),Dv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],_7=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],d6=new Array(64);for(var e=0;e<64;++e)d6[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);sF=!0}o(oJ,"_init");function nF(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=f^l&(a^f),n=s+c+d6[d]+t[d],u=_7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<32;++d)c=a^f&(l^a),n=s+c+d6[d]+t[Dv[d]],u=_7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<48;++d)c=l^a^f,n=s+c+d6[d]+t[Dv[d]],u=_7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<64;++d)c=a^(l|~f),n=s+c+d6[d]+t[Dv[d]],u=_7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,h-=64}}o(nF,"_update")});var Sd=y0((c3e,lF)=>{var Fv=dn();Ki();var aF=lF.exports=Fv.pem=Fv.pem||{};aF.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Lv(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Lv(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Lv(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=Lv(e.headers[s]);return e.procType&&(r+=`\r
`),r+=Fv.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};aF.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,l;l=r.exec(e),!!l;){var a=l[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var f={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Fv.util.decode64(l[3])};if(t.push(f),!!l[2]){for(var c=l[2].split(s),u=0;l&&u<c.length;){for(var d=c[u].replace(/\s+$/,""),h=u+1;h<c.length;++h){var m=c[h];if(!/\s/.test(m[0]))break;d+=m,u=h}if(l=d.match(n),l){for(var p={name:l[1],values:[]},v=l[2].split(","),x=0;x<v.length;++x)p.values.push(aJ(v[x]));if(f.procType)if(!f.contentDomain&&p.name==="Content-Domain")f.contentDomain=v[0]||"";else if(!f.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');f.dekInfo={algorithm:v[0],parameters:v[1]||null}}else f.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');f.procType={version:v[0],type:v[1]}}}++u}if(f.procType==="ENCRYPTED"&&!f.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Lv(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var l=0,a=-1,s=0;s<t.length;++s,++l)if(l>65&&a!==-1){var f=t[a];f===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+f+t.substr(a+1),l=s-a-1,a=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(a=s);return t}o(Lv,"foldHeader");function aJ(e){return e.replace(/^\s+/,"")}o(aJ,"ltrim")});var b7=y0((d3e,cF)=>{var ks=dn();wv();aI();Ki();cF.exports=ks.des=ks.des||{};ks.des.startEncrypting=function(e,t,r,n){var s=Ov({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};ks.des.createEncryptionCipher=function(e,t){return Ov({key:e,output:null,decrypt:!1,mode:t})};ks.des.startDecrypting=function(e,t,r,n){var s=Ov({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};ks.des.createDecryptionCipher=function(e,t){return Ov({key:e,output:null,decrypt:!0,mode:t})};ks.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return fF(r._keys,n,s,!1)},decrypt:function(n,s){return fF(r._keys,n,s,!0)}}}),r._init=!1};ks.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ks.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=pJ(t),this._init=!0}};xc("DES-ECB",ks.cipher.modes.ecb);xc("DES-CBC",ks.cipher.modes.cbc);xc("DES-CFB",ks.cipher.modes.cfb);xc("DES-OFB",ks.cipher.modes.ofb);xc("DES-CTR",ks.cipher.modes.ctr);xc("3DES-ECB",ks.cipher.modes.ecb);xc("3DES-CBC",ks.cipher.modes.cbc);xc("3DES-CFB",ks.cipher.modes.cfb);xc("3DES-OFB",ks.cipher.modes.ofb);xc("3DES-CTR",ks.cipher.modes.ctr);function xc(e,t){var r=o(function(){return new ks.des.Algorithm(e,t)},"factory");ks.cipher.registerAlgorithm(e,r)}o(xc,"registerAlgorithm");var lJ=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],fJ=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],cJ=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],uJ=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],dJ=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],hJ=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],gJ=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],mJ=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function pJ(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],l=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],m=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,E=[],I=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],P=0,L,F=0;F<x;F++){var B=e.getInt32(),V=e.getInt32();L=(B>>>4^V)&252645135,V^=L,B^=L<<4,L=(V>>>-16^B)&65535,B^=L,V^=L<<-16,L=(B>>>2^V)&858993459,V^=L,B^=L<<2,L=(V>>>-16^B)&65535,B^=L,V^=L<<-16,L=(B>>>1^V)&1431655765,V^=L,B^=L<<1,L=(V>>>8^B)&16711935,B^=L,V^=L<<8,L=(B>>>1^V)&1431655765,V^=L,B^=L<<1,L=B<<8|V>>>20&240,B=V<<24|V<<8&16711680|V>>>8&65280|V>>>24&240,V=L;for(var de=0;de<I.length;++de){I[de]?(B=B<<2|B>>>26,V=V<<2|V>>>26):(B=B<<1|B>>>27,V=V<<1|V>>>27),B&=-15,V&=-15;var ve=t[B>>>28]|r[B>>>24&15]|n[B>>>20&15]|s[B>>>16&15]|l[B>>>12&15]|a[B>>>8&15]|f[B>>>4&15],n0=c[V>>>28]|u[V>>>24&15]|d[V>>>20&15]|h[V>>>16&15]|m[V>>>12&15]|p[V>>>8&15]|v[V>>>4&15];L=(n0>>>16^ve)&65535,E[P++]=ve^L,E[P++]=n0^L<<16}}return E}o(pJ,"_createKeys");function fF(e,t,r,n){var s=e.length===32?3:9,l;s===3?l=n?[30,-2,-2]:[0,32,2]:l=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,f=t[0],c=t[1];a=(f>>>4^c)&252645135,c^=a,f^=a<<4,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,f=f<<1|f>>>31,c=c<<1|c>>>31;for(var u=0;u<s;u+=3){for(var d=l[u+1],h=l[u+2],m=l[u];m!=d;m+=h){var p=c^e[m],v=(c>>>4|c<<28)^e[m+1];a=f,f=c,c=a^(fJ[p>>>24&63]|uJ[p>>>16&63]|hJ[p>>>8&63]|mJ[p&63]|lJ[v>>>24&63]|cJ[v>>>16&63]|dJ[v>>>8&63]|gJ[v&63])}a=f,f=c,c=a}f=f>>>1|f<<31,c=c>>>1|c<<31,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(f>>>4^c)&252645135,c^=a,f^=a<<4,r[0]=f,r[1]=c}o(fF,"_updateBlock");function Ov(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ks.cipher.createDecipher(r,e.key):n=ks.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof ks.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(Ov,"_createCipher")});var Mv=y0((g3e,uF)=>{var Tl=dn();u6();yc();Ki();var yJ=Tl.pkcs5=Tl.pkcs5||{},Fu;Tl.util.isNodejs&&!Tl.options.usePureJavaScript&&(Fu=require("crypto"));uF.exports=Tl.pbkdf2=yJ.pbkdf2=function(e,t,r,n,s,l){if(typeof s=="function"&&(l=s,s=null),Tl.util.isNodejs&&!Tl.options.usePureJavaScript&&Fu.pbkdf2&&(s===null||typeof s!="object")&&(Fu.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),l?Fu.pbkdf2Sync.length===4?Fu.pbkdf2(e,t,r,n,function(L,F){if(L)return l(L);l(null,F.toString("binary"))}):Fu.pbkdf2(e,t,r,n,s,function(L,F){if(L)return l(L);l(null,F.toString("binary"))}):Fu.pbkdf2Sync.length===4?Fu.pbkdf2Sync(e,t,r,n).toString("binary"):Fu.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in Tl.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=Tl.md[s].create()}var a=s.digestLength;if(n>4294967295*a){var f=new Error("Derived key is too long.");if(l)return l(f);throw f}var c=Math.ceil(n/a),u=n-(c-1)*a,d=Tl.hmac.create();d.start(s,e);var h="",m,p,v;if(!l){for(var x=1;x<=c;++x){d.start(null,null),d.update(t),d.update(Tl.util.int32ToBytes(x)),m=v=d.digest().getBytes();for(var E=2;E<=r;++E)d.start(null,null),d.update(v),p=d.digest().getBytes(),m=Tl.util.xorBytes(m,p,a),v=p;h+=x<c?m:m.substr(0,u)}return h}var x=1,E;function I(){if(x>c)return l(null,h);d.start(null,null),d.update(t),d.update(Tl.util.int32ToBytes(x)),m=v=d.digest().getBytes(),E=2,P()}o(I,"outer");function P(){if(E<=r)return d.start(null,null),d.update(v),p=d.digest().getBytes(),m=Tl.util.xorBytes(m,p,a),v=p,++E,Tl.util.setImmediate(P);h+=x<c?m:m.substr(0,u),++x,I()}o(P,"inner"),I()}});var gI=y0((p3e,pF)=>{var _c=dn();yc();Ki();var hF=pF.exports=_c.sha256=_c.sha256||{};_c.md.sha256=_c.md.algorithms.sha256=hF;hF.create=function(){gF||vJ();var e=null,t=_c.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=_c.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=_c.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),dF(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=_c.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(hI.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};dF(h,r,s);var m=_c.util.createBuffer();return m.putInt32(h.h0),m.putInt32(h.h1),m.putInt32(h.h2),m.putInt32(h.h3),m.putInt32(h.h4),m.putInt32(h.h5),m.putInt32(h.h6),m.putInt32(h.h7),m},n};var hI=null,gF=!1,mF=null;function vJ(){hI="\x80",hI+=_c.util.fillString("\0",64),mF=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],gF=!0}o(vJ,"_init");function dF(e,t,r){for(var n,s,l,a,f,c,u,d,h,m,p,v,x,E,I,P=r.length();P>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[u-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[u]=n+t[u-7]+s+t[u-16]|0;for(d=e.h0,h=e.h1,m=e.h2,p=e.h3,v=e.h4,x=e.h5,E=e.h6,I=e.h7,u=0;u<64;++u)a=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),f=E^v&(x^E),l=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&h|m&(d^h),n=I+a+f+mF[u]+t[u],s=l+c,I=E,E=x,x=v,v=p+n>>>0,p=m,m=h,h=d,d=n+s>>>0;e.h0=e.h0+d|0,e.h1=e.h1+h|0,e.h2=e.h2+m|0,e.h3=e.h3+p|0,e.h4=e.h4+v|0,e.h5=e.h5+x|0,e.h6=e.h6+E|0,e.h7=e.h7+I|0,P-=64}}o(dF,"_update")});var mI=y0((v3e,yF)=>{var bc=dn();Ki();var Uv=null;bc.util.isNodejs&&!bc.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Uv=require("crypto"));var xJ=yF.exports=bc.prng=bc.prng||{};xJ.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(u,d){if(!d)return t.generateSync(u);var h=t.plugin.cipher,m=t.plugin.increment,p=t.plugin.formatKey,v=t.plugin.formatSeed,x=bc.util.createBuffer();t.key=null,E();function E(I){if(I)return d(I);if(x.length()>=u)return d(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return bc.util.nextTick(function(){l(E)});var P=h(t.key,t.seed);t.generated+=P.length,x.putBytes(P),t.key=p(h(t.key,m(t.seed))),t.seed=v(h(t.key,t.seed)),bc.util.setImmediate(E)}o(E,"generate")},t.generateSync=function(u){var d=t.plugin.cipher,h=t.plugin.increment,m=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var v=bc.util.createBuffer();v.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=d(t.key,t.seed);t.generated+=x.length,v.putBytes(x),t.key=m(d(t.key,h(t.seed))),t.seed=p(d(t.key,t.seed))}return v.getBytes(u)};function l(u){if(t.pools[0].messageLength>=32)return f(),u();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(h,m){if(h)return u(h);t.collect(m),f(),u()})}o(l,"_reseed");function a(){if(t.pools[0].messageLength>=32)return f();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),f()}o(a,"_reseedSync");function f(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var d=1,h=0;h<32;++h)t.reseeds%d===0&&(u.update(t.pools[h].digest().getBytes()),t.pools[h].start()),d=d<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var m=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(m),t.generated=0}o(f,"_seed");function c(u){var d=null,h=bc.util.globalScope,m=h.crypto||h.msCrypto;m&&m.getRandomValues&&(d=o(function(B){return m.getRandomValues(B)},"getRandomValues"));var p=bc.util.createBuffer();if(d)for(;p.length()<u;){var v=Math.max(1,Math.min(u-p.length(),65536)/4),x=new Uint32Array(Math.floor(v));try{d(x);for(var E=0;E<x.length;++E)p.putInt32(x[E])}catch(B){if(!(typeof QuotaExceededError<"u"&&B instanceof QuotaExceededError))throw B}}if(p.length()<u)for(var I,P,L,F=Math.floor(Math.random()*65536);p.length()<u;){P=16807*(F&65535),I=16807*(F>>16),P+=(I&32767)<<16,P+=I>>15,P=(P&2147483647)+(P>>31),F=P&4294967295;for(var E=0;E<3;++E)L=F>>>(E<<3),L^=Math.floor(Math.random()*256),p.putByte(L&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),Uv?(t.seedFile=function(u,d){Uv.randomBytes(u,function(h,m){if(h)return d(h);d(null,m.toString())})},t.seedFileSync=function(u){return Uv.randomBytes(u).toString()}):(t.seedFile=function(u,d){try{d(null,c(u))}catch(h){d(h)}},t.seedFileSync=c),t.collect=function(u){for(var d=u.length,h=0;h<d;++h)t.pools[t.pool].update(u.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,d){for(var h="",m=0;m<d;m+=8)h+=String.fromCharCode(u>>m&255);t.collect(h)},t.registerWorker=function(u){if(u===self)t.seedFile=function(h,m){function p(v){var x=v.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",p),m(x.forge.prng.err,x.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var m=h.data;m.forge&&m.forge.prng&&t.seedFile(m.forge.prng.needed,function(p,v){u.postMessage({forge:{prng:{err:p,bytes:v}}})})},"listener");u.addEventListener("message",d)}},t}});var Wf=y0((_3e,pI)=>{var Da=dn();c3();gI();mI();Ki();(function(){if(Da.random&&Da.random.getBytes){pI.exports=Da.random;return}(function(e){var t={},r=new Array(4),n=Da.util.createBuffer();t.formatKey=function(h){var m=Da.util.createBuffer(h);return h=new Array(4),h[0]=m.getInt32(),h[1]=m.getInt32(),h[2]=m.getInt32(),h[3]=m.getInt32(),Da.aes._expandKey(h,!1)},t.formatSeed=function(h){var m=Da.util.createBuffer(h);return h=new Array(4),h[0]=m.getInt32(),h[1]=m.getInt32(),h[2]=m.getInt32(),h[3]=m.getInt32(),h},t.cipher=function(h,m){return Da.aes._updateBlock(h,m,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=Da.md.sha256;function s(){var h=Da.prng.create(t);return h.getBytes=function(m,p){return h.generate(m,p)},h.getBytesSync=function(m){return h.generate(m)},h}o(s,"spawnPrng");var l=s(),a=null,f=Da.util.globalScope,c=f.crypto||f.msCrypto;if(c&&c.getRandomValues&&(a=o(function(h){return c.getRandomValues(h)},"getRandomValues")),Da.options.usePureJavaScript||!Da.util.isNodejs&&!a){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var d in navigator)try{typeof navigator[d]=="string"&&(u+=navigator[d])}catch{}l.collect(u),u=null}e&&(e().mousemove(function(h){l.collectInt(h.clientX,16),l.collectInt(h.clientY,16)}),e().keypress(function(h){l.collectInt(h.charCode,8)}))}if(!Da.random)Da.random=l;else for(var d in l)Da.random[d]=l[d];Da.random.createInstance=s,pI.exports=Da.random})(typeof jQuery<"u"?jQuery:null)})()});var vI=y0((C3e,_F)=>{var Kl=dn();Ki();var yI=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],vF=[1,2,3,5],_J=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),bJ=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");_F.exports=Kl.rc2=Kl.rc2||{};Kl.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Kl.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,l=Math.ceil(s/8),a=255>>(s&7),f;for(f=n;f<128;f++)r.putByte(yI[r.at(f-1)+r.at(f-n)&255]);for(r.setAt(128-l,yI[r.at(128-l)&a]),f=127-l;f>=0;f--)r.setAt(f,yI[r.at(f+1)^r.at(f+l)]);return r};var xF=o(function(e,t,r){var n=!1,s=null,l=null,a=null,f,c,u,d,h=[];for(e=Kl.rc2.expandKey(e,t),u=0;u<64;u++)h.push(e.getInt16Le());r?(f=o(function(v){for(u=0;u<4;u++)v[u]+=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=_J(v[u],vF[u]),d++},"mixRound"),c=o(function(v){for(u=0;u<4;u++)v[u]+=h[v[(u+3)%4]&63]},"mashRound")):(f=o(function(v){for(u=3;u>=0;u--)v[u]=bJ(v[u],vF[u]),v[u]-=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),d--},"mixRound"),c=o(function(v){for(u=3;u>=0;u--)v[u]-=h[v[(u+3)%4]&63]},"mashRound"));var m=o(function(v){var x=[];for(u=0;u<4;u++){var E=s.getInt16Le();a!==null&&(r?E^=a.getInt16Le():a.putInt16Le(E)),x.push(E&65535)}d=r?0:63;for(var I=0;I<v.length;I++)for(var P=0;P<v[I][0];P++)v[I][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),l.putInt16Le(x[u])},"runPlan"),p=null;return p={start:function(v,x){v&&typeof v=="string"&&(v=Kl.util.createBuffer(v)),n=!1,s=Kl.util.createBuffer(),l=x||new Kl.util.createBuffer,a=v,p.output=l},update:function(v){for(n||s.putBuffer(v);s.length()>=8;)m([[5,f],[1,c],[6,f],[1,c],[5,f]])},finish:function(v){var x=!0;if(r)if(v)x=v(8,s,!r);else{var E=s.length()===8?8:8-s.length();s.fillWithByte(E,E)}if(x&&(n=!0,p.update()),!r&&(x=s.length()===0,x))if(v)x=v(8,l,!r);else{var I=l.length(),P=l.at(I-1);P>I?x=!1:l.truncate(P)}return x}},p},"createCipher");Kl.rc2.startEncrypting=function(e,t,r){var n=Kl.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Kl.rc2.createEncryptionCipher=function(e,t){return xF(e,t,!0)};Kl.rc2.startDecrypting=function(e,t,r){var n=Kl.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Kl.rc2.createDecryptionCipher=function(e,t){return xF(e,t,!1)}});var E7=y0((T3e,AF)=>{var xI=dn();AF.exports=xI.jsbn=xI.jsbn||{};var Ou,CJ=0xdeadbeefcafe,bF=(CJ&16777215)==15715070;function U0(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(U0,"BigInteger");xI.jsbn.BigInteger=U0;function Wi(){return new U0(null)}o(Wi,"nbi");function EJ(e,t,r,n,s,l){for(;--l>=0;){var a=t*this.data[e++]+r.data[n]+s;s=Math.floor(a/67108864),r.data[n++]=a&67108863}return s}o(EJ,"am1");function TJ(e,t,r,n,s,l){for(var a=t&32767,f=t>>15;--l>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,d=f*c+u*a;c=a*c+((d&32767)<<15)+r.data[n]+(s&1073741823),s=(c>>>30)+(d>>>15)+f*u+(s>>>30),r.data[n++]=c&1073741823}return s}o(TJ,"am2");function CF(e,t,r,n,s,l){for(var a=t&16383,f=t>>14;--l>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,d=f*c+u*a;c=a*c+((d&16383)<<14)+r.data[n]+s,s=(c>>28)+(d>>14)+f*u,r.data[n++]=c&268435455}return s}o(CF,"am3");typeof navigator>"u"?(U0.prototype.am=CF,Ou=28):bF&&navigator.appName=="Microsoft Internet Explorer"?(U0.prototype.am=TJ,Ou=30):bF&&navigator.appName!="Netscape"?(U0.prototype.am=EJ,Ou=26):(U0.prototype.am=CF,Ou=28);U0.prototype.DB=Ou;U0.prototype.DM=(1<<Ou)-1;U0.prototype.DV=1<<Ou;var _I=52;U0.prototype.FV=Math.pow(2,_I);U0.prototype.F1=_I-Ou;U0.prototype.F2=2*Ou-_I;var SJ="0123456789abcdefghijklmnopqrstuvwxyz",qv=new Array,h6,Yf;h6=48;for(Yf=0;Yf<=9;++Yf)qv[h6++]=Yf;h6=97;for(Yf=10;Yf<36;++Yf)qv[h6++]=Yf;h6=65;for(Yf=10;Yf<36;++Yf)qv[h6++]=Yf;function EF(e){return SJ.charAt(e)}o(EF,"int2char");function TF(e,t){var r=qv[e.charCodeAt(t)];return r==null?-1:r}o(TF,"intAt");function IJ(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(IJ,"bnpCopyTo");function wJ(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(wJ,"bnpFromInt");function d3(e){var t=Wi();return t.fromInt(e),t}o(d3,"nbv");function AJ(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,l=0;--n>=0;){var a=r==8?e[n]&255:TF(e,n);if(a<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,l==0?this.data[this.t++]=a:l+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-l)-1)<<l,this.data[this.t++]=a>>this.DB-l):this.data[this.t-1]|=a<<l,l+=r,l>=this.DB&&(l-=this.DB)}r==8&&e[0]&128&&(this.s=-1,l>0&&(this.data[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),s&&U0.ZERO.subTo(this,this)}o(AJ,"bnpFromString");function PJ(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(PJ,"bnpClamp");function RJ(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,l="",a=this.t,f=this.DB-a*this.DB%t;if(a-- >0)for(f<this.DB&&(n=this.data[a]>>f)>0&&(s=!0,l=EF(n));a>=0;)f<t?(n=(this.data[a]&(1<<f)-1)<<t-f,n|=this.data[--a]>>(f+=this.DB-t)):(n=this.data[a]>>(f-=t)&r,f<=0&&(f+=this.DB,--a)),n>0&&(s=!0),s&&(l+=EF(n));return s?l:"0"}o(RJ,"bnToString");function NJ(){var e=Wi();return U0.ZERO.subTo(this,e),e}o(NJ,"bnNegate");function kJ(){return this.s<0?this.negate():this}o(kJ,"bnAbs");function DJ(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(DJ,"bnCompareTo");function $v(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o($v,"nbits");function BJ(){return this.t<=0?0:this.DB*(this.t-1)+$v(this.data[this.t-1]^this.s&this.DM)}o(BJ,"bnBitLength");function LJ(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(LJ,"bnpDLShiftTo");function FJ(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(FJ,"bnpDRShiftTo");function OJ(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,l=Math.floor(e/this.DB),a=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)t.data[f+l+1]=this.data[f]>>n|a,a=(this.data[f]&s)<<r;for(f=l-1;f>=0;--f)t.data[f]=0;t.data[l]=a,t.t=this.t+l+1,t.s=this.s,t.clamp()}o(OJ,"bnpLShiftTo");function MJ(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,l=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&l)<<s,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&l)<<s),t.t=this.t-r,t.clamp()}o(MJ,"bnpRShiftTo");function UJ(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(UJ,"bnpSubTo");function qJ(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&U0.ZERO.subTo(t,t)}o(qJ,"bnpMultiplyTo");function $J(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o($J,"bnpSquareTo");function HJ(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Wi());var l=Wi(),a=this.s,f=e.s,c=this.DB-$v(n.data[n.t-1]);c>0?(n.lShiftTo(c,l),s.lShiftTo(c,r)):(n.copyTo(l),s.copyTo(r));var u=l.t,d=l.data[u-1];if(d!=0){var h=d*(1<<this.F1)+(u>1?l.data[u-2]>>this.F2:0),m=this.FV/h,p=(1<<this.F1)/h,v=1<<this.F2,x=r.t,E=x-u,I=t==null?Wi():t;for(l.dlShiftTo(E,I),r.compareTo(I)>=0&&(r.data[r.t++]=1,r.subTo(I,r)),U0.ONE.dlShiftTo(u,I),I.subTo(l,l);l.t<u;)l.data[l.t++]=0;for(;--E>=0;){var P=r.data[--x]==d?this.DM:Math.floor(r.data[x]*m+(r.data[x-1]+v)*p);if((r.data[x]+=l.am(0,P,r,E,0,u))<P)for(l.dlShiftTo(E,I),r.subTo(I,r);r.data[x]<--P;)r.subTo(I,r)}t!=null&&(r.drShiftTo(u,t),a!=f&&U0.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&U0.ZERO.subTo(r,r)}}}o(HJ,"bnpDivRemTo");function jJ(e){var t=Wi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(U0.ZERO)>0&&e.subTo(t,t),t}o(jJ,"bnMod");function Id(e){this.m=e}o(Id,"Classic");function VJ(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(VJ,"cConvert");function zJ(e){return e}o(zJ,"cRevert");function GJ(e){e.divRemTo(this.m,null,e)}o(GJ,"cReduce");function KJ(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(KJ,"cMulTo");function WJ(e,t){e.squareTo(t),this.reduce(t)}o(WJ,"cSqrTo");Id.prototype.convert=VJ;Id.prototype.revert=zJ;Id.prototype.reduce=GJ;Id.prototype.mulTo=KJ;Id.prototype.sqrTo=WJ;function YJ(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(YJ,"bnpInvDigit");function wd(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(wd,"Montgomery");function JJ(e){var t=Wi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(U0.ZERO)>0&&this.m.subTo(t,t),t}o(JJ,"montConvert");function XJ(e){var t=Wi();return e.copyTo(t),this.reduce(t),t}o(XJ,"montRevert");function ZJ(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(ZJ,"montReduce");function QJ(e,t){e.squareTo(t),this.reduce(t)}o(QJ,"montSqrTo");function eX(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(eX,"montMulTo");wd.prototype.convert=JJ;wd.prototype.revert=XJ;wd.prototype.reduce=ZJ;wd.prototype.mulTo=eX;wd.prototype.sqrTo=QJ;function tX(){return(this.t>0?this.data[0]&1:this.s)==0}o(tX,"bnpIsEven");function rX(e,t){if(e>4294967295||e<1)return U0.ONE;var r=Wi(),n=Wi(),s=t.convert(this),l=$v(e)-1;for(s.copyTo(r);--l>=0;)if(t.sqrTo(r,n),(e&1<<l)>0)t.mulTo(n,s,r);else{var a=r;r=n,n=a}return t.revert(r)}o(rX,"bnpExp");function nX(e,t){var r;return e<256||t.isEven()?r=new Id(t):r=new wd(t),this.exp(e,r)}o(nX,"bnModPowInt");U0.prototype.copyTo=IJ;U0.prototype.fromInt=wJ;U0.prototype.fromString=AJ;U0.prototype.clamp=PJ;U0.prototype.dlShiftTo=LJ;U0.prototype.drShiftTo=FJ;U0.prototype.lShiftTo=OJ;U0.prototype.rShiftTo=MJ;U0.prototype.subTo=UJ;U0.prototype.multiplyTo=qJ;U0.prototype.squareTo=$J;U0.prototype.divRemTo=HJ;U0.prototype.invDigit=YJ;U0.prototype.isEven=tX;U0.prototype.exp=rX;U0.prototype.toString=RJ;U0.prototype.negate=NJ;U0.prototype.abs=kJ;U0.prototype.compareTo=DJ;U0.prototype.bitLength=BJ;U0.prototype.mod=jJ;U0.prototype.modPowInt=nX;U0.ZERO=d3(0);U0.ONE=d3(1);function iX(){var e=Wi();return this.copyTo(e),e}o(iX,"bnClone");function sX(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(sX,"bnIntValue");function oX(){return this.t==0?this.s:this.data[0]<<24>>24}o(oX,"bnByteValue");function aX(){return this.t==0?this.s:this.data[0]<<16>>16}o(aX,"bnShortValue");function lX(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(lX,"bnpChunkSize");function fX(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(fX,"bnSigNum");function cX(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=d3(r),s=Wi(),l=Wi(),a="";for(this.divRemTo(n,s,l);s.signum()>0;)a=(r+l.intValue()).toString(e).substr(1)+a,s.divRemTo(n,s,l);return l.intValue().toString(e)+a}o(cX,"bnpToRadix");function uX(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,l=0,a=0,f=0;f<e.length;++f){var c=TF(e,f);if(c<0){e.charAt(f)=="-"&&this.signum()==0&&(s=!0);continue}a=t*a+c,++l>=r&&(this.dMultiply(n),this.dAddOffset(a,0),l=0,a=0)}l>0&&(this.dMultiply(Math.pow(t,l)),this.dAddOffset(a,0)),s&&U0.ZERO.subTo(this,this)}o(uX,"bnpFromRadix");function dX(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(U0.ONE.shiftLeft(e-1),bI,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(U0.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}o(dX,"bnpFromNumber");function hX(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}o(hX,"bnToByteArray");function gX(e){return this.compareTo(e)==0}o(gX,"bnEquals");function mX(e){return this.compareTo(e)<0?this:e}o(mX,"bnMin");function pX(e){return this.compareTo(e)>0?this:e}o(pX,"bnMax");function yX(e,t,r){var n,s,l=Math.min(e.t,this.t);for(n=0;n<l;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=l;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=l;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(yX,"bnpBitwiseTo");function vX(e,t){return e&t}o(vX,"op_and");function xX(e){var t=Wi();return this.bitwiseTo(e,vX,t),t}o(xX,"bnAnd");function bI(e,t){return e|t}o(bI,"op_or");function _X(e){var t=Wi();return this.bitwiseTo(e,bI,t),t}o(_X,"bnOr");function SF(e,t){return e^t}o(SF,"op_xor");function bX(e){var t=Wi();return this.bitwiseTo(e,SF,t),t}o(bX,"bnXor");function IF(e,t){return e&~t}o(IF,"op_andnot");function CX(e){var t=Wi();return this.bitwiseTo(e,IF,t),t}o(CX,"bnAndNot");function EX(){for(var e=Wi(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(EX,"bnNot");function TX(e){var t=Wi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(TX,"bnShiftLeft");function SX(e){var t=Wi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(SX,"bnShiftRight");function IX(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}o(IX,"lbit");function wX(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+IX(this.data[e]);return this.s<0?this.t*this.DB:-1}o(wX,"bnGetLowestSetBit");function AX(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(AX,"cbit");function PX(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=AX(this.data[r]^t);return e}o(PX,"bnBitCount");function RX(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(RX,"bnTestBit");function NX(e,t){var r=U0.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(NX,"bnpChangeBit");function kX(e){return this.changeBit(e,bI)}o(kX,"bnSetBit");function DX(e){return this.changeBit(e,IF)}o(DX,"bnClearBit");function BX(e){return this.changeBit(e,SF)}o(BX,"bnFlipBit");function LX(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(LX,"bnpAddTo");function FX(e){var t=Wi();return this.addTo(e,t),t}o(FX,"bnAdd");function OX(e){var t=Wi();return this.subTo(e,t),t}o(OX,"bnSubtract");function MX(e){var t=Wi();return this.multiplyTo(e,t),t}o(MX,"bnMultiply");function UX(e){var t=Wi();return this.divRemTo(e,t,null),t}o(UX,"bnDivide");function qX(e){var t=Wi();return this.divRemTo(e,null,t),t}o(qX,"bnRemainder");function $X(e){var t=Wi(),r=Wi();return this.divRemTo(e,t,r),new Array(t,r)}o($X,"bnDivideAndRemainder");function HX(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(HX,"bnpDMultiply");function jX(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(jX,"bnpDAddOffset");function C7(){}o(C7,"NullExp");function wF(e){return e}o(wF,"nNop");function VX(e,t,r){e.multiplyTo(t,r)}o(VX,"nMulTo");function zX(e,t){e.squareTo(t)}o(zX,"nSqrTo");C7.prototype.convert=wF;C7.prototype.revert=wF;C7.prototype.mulTo=VX;C7.prototype.sqrTo=zX;function GX(e){return this.exp(e,new C7)}o(GX,"bnPow");function KX(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(KX,"bnpMultiplyLowerTo");function WX(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(WX,"bnpMultiplyUpperTo");function g6(e){this.r2=Wi(),this.q3=Wi(),U0.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(g6,"Barrett");function YX(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Wi();return e.copyTo(t),this.reduce(t),t}o(YX,"barrettConvert");function JX(e){return e}o(JX,"barrettRevert");function XX(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(XX,"barrettReduce");function ZX(e,t){e.squareTo(t),this.reduce(t)}o(ZX,"barrettSqrTo");function QX(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(QX,"barrettMulTo");g6.prototype.convert=YX;g6.prototype.revert=JX;g6.prototype.reduce=XX;g6.prototype.mulTo=QX;g6.prototype.sqrTo=ZX;function eZ(e,t){var r=e.bitLength(),n,s=d3(1),l;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?l=new Id(t):t.isEven()?l=new g6(t):l=new wd(t);var a=new Array,f=3,c=n-1,u=(1<<n)-1;if(a[1]=l.convert(this),n>1){var d=Wi();for(l.sqrTo(a[1],d);f<=u;)a[f]=Wi(),l.mulTo(d,a[f-2],a[f]),f+=2}var h=e.t-1,m,p=!0,v=Wi(),x;for(r=$v(e.data[h])-1;h>=0;){for(r>=c?m=e.data[h]>>r-c&u:(m=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(m|=e.data[h-1]>>this.DB+r-c)),f=n;!(m&1);)m>>=1,--f;if((r-=f)<0&&(r+=this.DB,--h),p)a[m].copyTo(s),p=!1;else{for(;f>1;)l.sqrTo(s,v),l.sqrTo(v,s),f-=2;f>0?l.sqrTo(s,v):(x=s,s=v,v=x),l.mulTo(v,a[m],s)}for(;h>=0&&!(e.data[h]&1<<r);)l.sqrTo(s,v),x=s,s=v,v=x,--r<0&&(r=this.DB-1,--h)}return l.revert(s)}o(eZ,"bnModPow");function tZ(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),l=r.getLowestSetBit();if(l<0)return t;for(s<l&&(l=s),l>0&&(t.rShiftTo(l,t),r.rShiftTo(l,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return l>0&&r.lShiftTo(l,r),r}o(tZ,"bnGCD");function rZ(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(rZ,"bnpModInt");function nZ(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return U0.ZERO;for(var r=e.clone(),n=this.clone(),s=d3(1),l=d3(0),a=d3(0),f=d3(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!l.isEven())&&(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!f.isEven())&&(a.addTo(this,a),f.subTo(e,f)),a.rShiftTo(1,a)):f.isEven()||f.subTo(e,f),f.rShiftTo(1,f);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(a,s),l.subTo(f,l)):(n.subTo(r,n),t&&a.subTo(s,a),f.subTo(l,f))}if(n.compareTo(U0.ONE)!=0)return U0.ZERO;if(f.compareTo(e)>=0)return f.subtract(e);if(f.signum()<0)f.addTo(e,f);else return f;return f.signum()<0?f.add(e):f}o(nZ,"bnModInverse");var N1=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],iZ=(1<<26)/N1[N1.length-1];function sZ(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=N1[N1.length-1]){for(t=0;t<N1.length;++t)if(r.data[0]==N1[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<N1.length;){for(var n=N1[t],s=t+1;s<N1.length&&n<iZ;)n*=N1[s++];for(n=r.modInt(n);t<s;)if(n%N1[t++]==0)return!1}return r.millerRabin(e)}o(sZ,"bnIsProbablePrime");function oZ(e){var t=this.subtract(U0.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=aZ(),l,a=0;a<e;++a){do l=new U0(this.bitLength(),s);while(l.compareTo(U0.ONE)<=0||l.compareTo(t)>=0);var f=l.modPow(n,this);if(f.compareTo(U0.ONE)!=0&&f.compareTo(t)!=0){for(var c=1;c++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(U0.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0}o(oZ,"bnpMillerRabin");function aZ(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}o(aZ,"bnGetPrng");U0.prototype.chunkSize=lX;U0.prototype.toRadix=cX;U0.prototype.fromRadix=uX;U0.prototype.fromNumber=dX;U0.prototype.bitwiseTo=yX;U0.prototype.changeBit=NX;U0.prototype.addTo=LX;U0.prototype.dMultiply=HX;U0.prototype.dAddOffset=jX;U0.prototype.multiplyLowerTo=KX;U0.prototype.multiplyUpperTo=WX;U0.prototype.modInt=rZ;U0.prototype.millerRabin=oZ;U0.prototype.clone=iX;U0.prototype.intValue=sX;U0.prototype.byteValue=oX;U0.prototype.shortValue=aX;U0.prototype.signum=fX;U0.prototype.toByteArray=hX;U0.prototype.equals=gX;U0.prototype.min=mX;U0.prototype.max=pX;U0.prototype.and=xX;U0.prototype.or=_X;U0.prototype.xor=bX;U0.prototype.andNot=CX;U0.prototype.not=EX;U0.prototype.shiftLeft=TX;U0.prototype.shiftRight=SX;U0.prototype.getLowestSetBit=wX;U0.prototype.bitCount=PX;U0.prototype.testBit=RX;U0.prototype.setBit=kX;U0.prototype.clearBit=DX;U0.prototype.flipBit=BX;U0.prototype.add=FX;U0.prototype.subtract=OX;U0.prototype.multiply=MX;U0.prototype.divide=UX;U0.prototype.remainder=qX;U0.prototype.divideAndRemainder=$X;U0.prototype.modPow=eZ;U0.prototype.modInverse=nZ;U0.prototype.pow=GX;U0.prototype.gcd=tZ;U0.prototype.isProbablePrime=sZ});var m6=y0((I3e,kF)=>{var Cc=dn();yc();Ki();var RF=kF.exports=Cc.sha1=Cc.sha1||{};Cc.md.sha1=Cc.md.algorithms.sha1=RF;RF.create=function(){NF||lZ();var e=null,t=Cc.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=Cc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=Cc.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),PF(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=Cc.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(CI.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};PF(h,r,s);var m=Cc.util.createBuffer();return m.putInt32(h.h0),m.putInt32(h.h1),m.putInt32(h.h2),m.putInt32(h.h3),m.putInt32(h.h4),m},n};var CI=null,NF=!1;function lZ(){CI="\x80",CI+=Cc.util.fillString("\0",64),NF=!0}o(lZ,"_init");function PF(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l&a|f&(l^a),n=(s<<5|s>>>27)+u+c+2400959708+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+3395469782+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,e.h4=e.h4+c|0,h-=64}}o(PF,"_update")});var EI=y0((A3e,BF)=>{var Ec=dn();Ki();Wf();m6();var DF=BF.exports=Ec.pkcs1=Ec.pkcs1||{};DF.encode_rsa_oaep=function(e,t,r){var n,s,l,a;typeof r=="string"?(n=r,s=arguments[3]||void 0,l=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,l=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),l?l.start():l=Ec.md.sha1.create(),a||(a=l);var f=Math.ceil(e.n.bitLength()/8),c=f-2*l.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),l.update(n,"raw");for(var d=l.digest(),h="",m=c-t.length,p=0;p<m;p++)h+="\0";var v=d.getBytes()+h+""+t;if(!s)s=Ec.random.getBytes(l.digestLength);else if(s.length!==l.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=s.length,u.digestLength=l.digestLength,u}var x=Hv(s,f-l.digestLength-1,a),E=Ec.util.xorBytes(v,x,v.length),I=Hv(E,l.digestLength,a),P=Ec.util.xorBytes(s,I,s.length);return"\0"+P+E};DF.decode_rsa_oaep=function(e,t,r){var n,s,l;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=a,E}if(s===void 0?s=Ec.md.sha1.create():s.start(),l||(l=s),a<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var f=s.digest().getBytes(),c=t.charAt(0),u=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),h=Hv(d,s.digestLength,l),m=Ec.util.xorBytes(u,h,u.length),p=Hv(m,a-s.digestLength-1,l),v=Ec.util.xorBytes(d,p,d.length),x=v.substring(0,s.digestLength),E=c!=="\0",I=0;I<s.digestLength;++I)E|=f.charAt(I)!==x.charAt(I);for(var P=1,L=s.digestLength,F=s.digestLength;F<v.length;F++){var B=v.charCodeAt(F),V=B&1^1,de=P?65534:0;E|=B&de,P=P&V,L+=P}if(E||v.charCodeAt(L)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(L+1)};function Hv(e,t,r){r||(r=Ec.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),l=0;l<s;++l){var a=String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(Hv,"rsa_mgf1")});var SI=y0((R3e,TI)=>{var h3=dn();Ki();E7();Wf();(function(){if(h3.prime){TI.exports=h3.prime;return}var e=TI.exports=h3.prime=h3.prime||{},t=h3.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=o(function(h,m){return h|m},"op_or");e.generateProbablePrime=function(h,m,p){typeof m=="function"&&(p=m,m={}),m=m||{};var v=m.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var x=m.prng||h3.random,E={nextBytes:function(I){for(var P=x.getBytesSync(I.length),L=0;L<I.length;++L)I[L]=P.charCodeAt(L)}};if(v.name==="PRIMEINC")return l(h,E,v.options,p);throw new Error("Invalid prime generation algorithm: "+v.name)};function l(h,m,p,v){return"workers"in p?c(h,m,p,v):a(h,m,p,v)}o(l,"primeincFindPrime");function a(h,m,p,v){var x=u(h,m),E=0,I=d(x.bitLength());"millerRabinTests"in p&&(I=p.millerRabinTests);var P=10;"maxBlockTime"in p&&(P=p.maxBlockTime),f(x,h,m,E,I,P,v)}o(a,"primeincFindPrimeWithoutWorkers");function f(h,m,p,v,x,E,I){var P=+new Date;do{if(h.bitLength()>m&&(h=u(m,p)),h.isProbablePrime(x))return I(null,h);h.dAddOffset(r[v++%8],0)}while(E<0||+new Date-P<E);h3.util.setImmediate(function(){f(h,m,p,v,x,E,I)})}o(f,"_primeinc");function c(h,m,p,v){if(typeof Worker>"u")return a(h,m,p,v);var x=u(h,m),E=p.workers,I=p.workLoad||100,P=I*30/8,L=p.workerScript||"forge/prime.worker.js";if(E===-1)return h3.util.estimateCores(function(B,V){B&&(V=2),E=V-1,F()});F();function F(){E=Math.max(1,E);for(var B=[],V=0;V<E;++V)B[V]=new Worker(L);for(var de=E,V=0;V<E;++V)B[V].addEventListener("message",n0);var ve=!1;function n0(d0){if(!ve){--de;var r0=d0.data;if(r0.found){for(var m0=0;m0<B.length;++m0)B[m0].terminate();return ve=!0,v(null,new t(r0.prime,16))}x.bitLength()>h&&(x=u(h,m));var $e=x.toString(16);d0.target.postMessage({hex:$e,workLoad:I}),x.dAddOffset(P,0)}}o(n0,"workerMessage")}o(F,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(h,m){var p=new t(h,m),v=h-1;return p.testBit(v)||p.bitwiseTo(t.ONE.shiftLeft(v),s,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var T7=y0((k3e,$F)=>{var xr=dn();R1();E7();u3();EI();SI();Wf();Ki();typeof Vi>"u"&&(Vi=xr.jsbn.BigInteger);var Vi,II=xr.util.isNodejs?require("crypto"):null,g0=xr.asn1,Jf=xr.util;xr.pki=xr.pki||{};$F.exports=xr.pki.rsa=xr.rsa=xr.rsa||{};var nn=xr.pki,fZ=[6,4,2,4,2,4,6,2],cZ={name:"PrivateKeyInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},uZ={name:"RSAPrivateKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},dZ={name:"RSAPublicKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},hZ=xr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},gZ={name:"DigestInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:g0.Class.UNIVERSAL,type:g0.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},mZ=o(function(e){var t;if(e.algorithm in nn.oids)t=nn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=g0.oidToDer(t).getBytes(),s=g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[]),l=g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[]);l.value.push(g0.create(g0.Class.UNIVERSAL,g0.Type.OID,!1,n)),l.value.push(g0.create(g0.Class.UNIVERSAL,g0.Type.NULL,!1,""));var a=g0.create(g0.Class.UNIVERSAL,g0.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(l),s.value.push(a),g0.toDer(s).getBytes()},"emsaPkcs1v15encode"),UF=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Vi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Vi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Vi(xr.util.bytesToHex(xr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Vi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),l=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(l)<0;)s=s.add(t.p);var a=s.subtract(l).multiply(t.qInv).mod(t.p).multiply(t.q).add(l);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");nn.rsa.encrypt=function(e,t,r){var n=r,s,l=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=qF(e,t,r)):(s=xr.util.createBuffer(),s.putBytes(e));for(var a=new Vi(s.toHex(),16),f=UF(a,t,n),c=f.toString(16),u=xr.util.createBuffer(),d=l-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(xr.util.hexToBytes(c)),u.getBytes()};nn.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var l=new Error("Encrypted message length is invalid.");throw l.length=e.length,l.expected=s,l}var a=new Vi(xr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=UF(a,t,r),c=f.toString(16),u=xr.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(xr.util.hexToBytes(c)),n!==!1?jv(u.getBytes(),t,r):u.getBytes()};nn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||xr.random,s={nextBytes:function(f){for(var c=n.getBytesSync(f.length),u=0;u<f.length;++u)f[u]=c.charCodeAt(u)}},l=r.algorithm||"PRIMEINC",a;if(l==="PRIMEINC")a={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new Vi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+l);return a};nn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Vi(null);r.fromInt(30);for(var n=0,s=o(function(h,m){return h|m},"op_or"),l=+new Date,a,f=0;e.keys===null&&(t<=0||f<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Vi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Vi.ONE.shiftLeft(u),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(yZ(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(fZ[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Vi.ONE).gcd(e.e).compareTo(Vi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Vi.ONE),e.q1=e.q.subtract(Vi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Vi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:nn.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:nn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,f+=a-l,l=a}return e.keys!==null};nn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!xr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(LF("generateKeyPair"))return II.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,c,u){if(f)return n(f);n(null,{privateKey:nn.privateKeyFromPem(u),publicKey:nn.publicKeyFromPem(c)})});if(FF("generateKey")&&FF("exportKey"))return Jf.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:MF(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return Jf.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){n(f)}).then(function(f){if(f){var c=nn.privateKeyFromAsn1(g0.fromDer(xr.util.createBuffer(f)));n(null,{privateKey:c,publicKey:nn.setRsaPublicKey(c.n,c.e)})}});if(OF("generateKey")&&OF("exportKey")){var s=Jf.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:MF(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(f){var c=f.target.result,u=Jf.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(d){var h=d.target.result,m=nn.privateKeyFromAsn1(g0.fromDer(xr.util.createBuffer(h)));n(null,{privateKey:m,publicKey:nn.setRsaPublicKey(m.n,m.e)})},u.onerror=function(d){n(d)}},s.onerror=function(f){n(f)};return}}else if(LF("generateKeyPairSync")){var l=II.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:nn.privateKeyFromPem(l.privateKey),publicKey:nn.publicKeyFromPem(l.publicKey)}}}var a=nn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return nn.rsa.stepKeyPairGenerationState(a,0),a.keys;pZ(a,r,n)};nn.setRsaPublicKey=nn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,l){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(f,c,u){return qF(f,c,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(f,c){return xr.pkcs1.encode_rsa_oaep(c,f,l)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(f){return f}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var a=s.encode(n,r,!0);return nn.rsa.encrypt(a,r,!0)},r.verify=function(n,s,l,a){typeof l=="string"?l=l.toUpperCase():l===void 0&&(l="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),l==="RSASSA-PKCS1-V1_5"?l={verify:function(c,u){u=jv(u,r,!0);var d=g0.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),h={},m=[];if(!g0.validate(d,gZ,h,m)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=m,p}var v=g0.derToOid(h.algorithmIdentifier);if(!(v===xr.oids.md2||v===xr.oids.md5||v===xr.oids.sha1||v===xr.oids.sha224||v===xr.oids.sha256||v===xr.oids.sha384||v===xr.oids.sha512||v===xr.oids["sha512-224"]||v===xr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=v,p}if((v===xr.oids.md2||v===xr.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(l==="NONE"||l==="NULL"||l===null)&&(l={verify:function(c,u){return u=jv(u,r,!0),c===u}});var f=nn.rsa.decrypt(s,r,!0,!1);return l.verify(n,f,r.n.bitLength())},r};nn.setRsaPrivateKey=nn.rsa.setPrivateKey=function(e,t,r,n,s,l,a,f){var c={n:e,e:t,d:r,p:n,q:s,dP:l,dQ:a,qInv:f};return c.decrypt=function(u,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var m=nn.rsa.decrypt(u,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:jv};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(p,v){return xr.pkcs1.decode_rsa_oaep(v,p,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(m,c,!1)},c.sign=function(u,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:mZ},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return u}},h=1);var m=d.encode(u,c.n.bitLength());return nn.rsa.encrypt(m,c,h)},c};nn.wrapRsaPrivateKey=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,g0.integerToDer(0).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.OID,!1,g0.oidToDer(nn.oids.rsaEncryption).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.NULL,!1,"")]),g0.create(g0.Class.UNIVERSAL,g0.Type.OCTETSTRING,!1,g0.toDer(e).getBytes())])};nn.privateKeyFromAsn1=function(e){var t={},r=[];if(g0.validate(e,cZ,t,r)&&(e=g0.fromDer(xr.util.createBuffer(t.privateKey))),t={},r=[],!g0.validate(e,uZ,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,l,a,f,c,u,d,h;return s=xr.util.createBuffer(t.privateKeyModulus).toHex(),l=xr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=xr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),f=xr.util.createBuffer(t.privateKeyPrime1).toHex(),c=xr.util.createBuffer(t.privateKeyPrime2).toHex(),u=xr.util.createBuffer(t.privateKeyExponent1).toHex(),d=xr.util.createBuffer(t.privateKeyExponent2).toHex(),h=xr.util.createBuffer(t.privateKeyCoefficient).toHex(),nn.setRsaPrivateKey(new Vi(s,16),new Vi(l,16),new Vi(a,16),new Vi(f,16),new Vi(c,16),new Vi(u,16),new Vi(d,16),new Vi(h,16))};nn.privateKeyToAsn1=nn.privateKeyToRSAPrivateKey=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,g0.integerToDer(0).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.n)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.e)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.d)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.p)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.q)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.dP)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.dQ)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.qInv))])};nn.publicKeyFromAsn1=function(e){var t={},r=[];if(g0.validate(e,hZ,t,r)){var n=g0.derToOid(t.publicKeyOid);if(n!==nn.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!g0.validate(e,dZ,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var l=xr.util.createBuffer(t.publicKeyModulus).toHex(),a=xr.util.createBuffer(t.publicKeyExponent).toHex();return nn.setRsaPublicKey(new Vi(l,16),new Vi(a,16))};nn.publicKeyToAsn1=nn.publicKeyToSubjectPublicKeyInfo=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.OID,!1,g0.oidToDer(nn.oids.rsaEncryption).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.NULL,!1,"")]),g0.create(g0.Class.UNIVERSAL,g0.Type.BITSTRING,!1,[nn.publicKeyToRSAPublicKey(e)])])};nn.publicKeyToRSAPublicKey=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.n)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Tc(e.e))])};function qF(e,t,r){var n=xr.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var l=new Error("Message is too long for PKCS#1 v1.5 padding.");throw l.length=e.length,l.max=s-11,l}n.putByte(0),n.putByte(r);var a=s-3-e.length,f;if(r===0||r===1){f=r===0?0:255;for(var c=0;c<a;++c)n.putByte(f)}else for(;a>0;){for(var u=0,d=xr.random.getBytes(a),c=0;c<a;++c)f=d.charCodeAt(c),f===0?++u:n.putByte(f);a=u}return n.putByte(0),n.putBytes(e),n}o(qF,"_encodePkcs1_v1_5");function jv(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),l=xr.util.createBuffer(e),a=l.getByte(),f=l.getByte();if(a!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(f===0){c=s-3-n;for(var u=0;u<c;++u)if(l.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(c=0;l.length()>1;){if(l.getByte()!==255){--l.read;break}++c}else if(f===2)for(c=0;l.length()>1;){if(l.getByte()===0){--l.read;break}++c}var d=l.getByte();if(d!==0||c!==s-3-l.length())throw new Error("Encryption block is invalid.");return l.getBytes()}o(jv,"_decodePkcs1_v1_5");function pZ(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){l(e.pBits,function(f,c){if(f)return r(f);if(e.p=c,e.q!==null)return a(f,e.q);l(e.qBits,a)})}o(s,"generate");function l(f,c){xr.prime.generateProbablePrime(f,n,c)}o(l,"getPrime");function a(f,c){if(f)return r(f);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Vi.ONE).gcd(e.e).compareTo(Vi.ONE)!==0){e.p=null,s();return}if(e.q.subtract(Vi.ONE).gcd(e.e).compareTo(Vi.ONE)!==0){e.q=null,l(e.qBits,a);return}if(e.p1=e.p.subtract(Vi.ONE),e.q1=e.q.subtract(Vi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Vi.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,l(e.qBits,a);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:nn.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:nn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(pZ,"_generateKeyPair");function Tc(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=xr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Tc,"_bnToBytes");function yZ(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(yZ,"_getMillerRabinTests");function LF(e){return xr.util.isNodejs&&typeof II[e]=="function"}o(LF,"_detectNodeCrypto");function FF(e){return typeof Jf.globalScope<"u"&&typeof Jf.globalScope.crypto=="object"&&typeof Jf.globalScope.crypto.subtle=="object"&&typeof Jf.globalScope.crypto.subtle[e]=="function"}o(FF,"_detectSubtleCrypto");function OF(e){return typeof Jf.globalScope<"u"&&typeof Jf.globalScope.msCrypto=="object"&&typeof Jf.globalScope.msCrypto.subtle=="object"&&typeof Jf.globalScope.msCrypto.subtle[e]=="function"}o(OF,"_detectSubtleMsCrypto");function MF(e){for(var t=xr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(MF,"_intToUint8Array")});var wI=y0((B3e,GF)=>{var Pt=dn();c3();R1();b7();yc();u3();Mv();Sd();Wf();vI();T7();Ki();typeof HF>"u"&&(HF=Pt.jsbn.BigInteger);var HF,I0=Pt.asn1,un=Pt.pki=Pt.pki||{};GF.exports=un.pbe=Pt.pbe=Pt.pbe||{};var Ad=un.oids,vZ={name:"EncryptedPrivateKeyInfo",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},xZ={name:"PBES2Algorithms",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:I0.Class.UNIVERSAL,type:I0.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:I0.Class.UNIVERSAL,type:I0.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},_Z={name:"pkcs-12PbeParams",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:I0.Class.UNIVERSAL,type:I0.Type.INTEGER,constructed:!1,capture:"iterations"}]};un.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Pt.random.getBytesSync(r.saltSize),s=r.count,l=I0.integerToDer(s),a,f,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,d,h;switch(r.algorithm){case"aes128":a=16,u=16,d=Ad["aes128-CBC"],h=Pt.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,d=Ad["aes192-CBC"],h=Pt.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,d=Ad["aes256-CBC"],h=Pt.aes.createEncryptionCipher;break;case"des":a=8,u=8,d=Ad.desCBC,h=Pt.des.createEncryptionCipher;break;default:var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=r.algorithm,m}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),v=zF(p),x=Pt.pkcs5.pbkdf2(t,n,s,a,v),E=Pt.random.getBytesSync(u),I=h(x);I.start(E),I.update(I0.toDer(e)),I.finish(),c=I.output.getBytes();var P=bZ(n,l,a,p);f=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(Ad.pkcs5PBES2).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(Ad.pkcs5PBKDF2).getBytes()),P]),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(d).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){a=24;var L=new Pt.util.ByteBuffer(n),x=un.pbe.generatePkcs12Key(t,L,1,s,a),E=un.pbe.generatePkcs12Key(t,L,2,s,a),I=Pt.des.createEncryptionCipher(x);I.start(E),I.update(I0.toDer(e)),I.finish(),c=I.output.getBytes(),f=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(Ad["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,n),I0.create(I0.Class.UNIVERSAL,I0.Type.INTEGER,!1,l.getBytes())])])}else{var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=r.algorithm,m}var F=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[f,I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,c)]);return F};un.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!I0.validate(e,vZ,n,s)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=I0.derToOid(n.encryptionOid),f=un.pbe.getCipher(a,n.encryptionParams,t),c=Pt.util.createBuffer(n.encryptedData);return f.update(c),f.finish()&&(r=I0.fromDer(f.output)),r};un.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:I0.toDer(e).getBytes()};return Pt.pem.encode(r,{maxline:t})};un.encryptedPrivateKeyFromPem=function(e){var t=Pt.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return I0.fromDer(t.body)};un.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=un.wrapRsaPrivateKey(un.privateKeyToAsn1(e));return n=un.encryptPrivateKeyInfo(n,t,r),un.encryptedPrivateKeyToPem(n)}var s,l,a,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",a=16,l=Pt.random.getBytesSync(16),f=Pt.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",a=24,l=Pt.random.getBytesSync(16),f=Pt.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",a=32,l=Pt.random.getBytesSync(16),f=Pt.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",a=24,l=Pt.random.getBytesSync(8),f=Pt.des.createEncryptionCipher;break;case"des":s="DES-CBC",a=8,l=Pt.random.getBytesSync(8),f=Pt.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=Pt.pbe.opensslDeriveBytes(t,l.substr(0,8),a),d=f(u);d.start(l),d.update(I0.toDer(un.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:Pt.util.bytesToHex(l).toUpperCase()},body:d.output.getBytes()};return Pt.pem.encode(h)};un.decryptRsaPrivateKey=function(e,t){var r=null,n=Pt.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var l,a;switch(n.dekInfo.algorithm){case"DES-CBC":l=8,a=Pt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":l=24,a=Pt.des.createDecryptionCipher;break;case"AES-128-CBC":l=16,a=Pt.aes.createDecryptionCipher;break;case"AES-192-CBC":l=24,a=Pt.aes.createDecryptionCipher;break;case"AES-256-CBC":l=32,a=Pt.aes.createDecryptionCipher;break;case"RC2-40-CBC":l=5,a=o(function(h){return Pt.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":l=8,a=o(function(h){return Pt.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":l=16,a=o(function(h){return Pt.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var f=Pt.util.hexToBytes(n.dekInfo.parameters),c=Pt.pbe.opensslDeriveBytes(t,f.substr(0,8),l),u=a(c);if(u.start(f),u.update(Pt.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=un.decryptPrivateKeyInfo(I0.fromDer(r),t):r=I0.fromDer(r),r!==null&&(r=un.privateKeyFromAsn1(r)),r};un.pbe.generatePkcs12Key=function(e,t,r,n,s,l){var a,f;if(typeof l>"u"||l===null){if(!("sha1"in Pt.md))throw new Error('"sha1" hash algorithm unavailable.');l=Pt.md.sha1.create()}var c=l.digestLength,u=l.blockLength,d=new Pt.util.ByteBuffer,h=new Pt.util.ByteBuffer;if(e!=null){for(f=0;f<e.length;f++)h.putInt16(e.charCodeAt(f));h.putInt16(0)}var m=h.length(),p=t.length(),v=new Pt.util.ByteBuffer;v.fillWithByte(r,u);var x=u*Math.ceil(p/u),E=new Pt.util.ByteBuffer;for(f=0;f<x;f++)E.putByte(t.at(f%p));var I=u*Math.ceil(m/u),P=new Pt.util.ByteBuffer;for(f=0;f<I;f++)P.putByte(h.at(f%m));var L=E;L.putBuffer(P);for(var F=Math.ceil(s/c),B=1;B<=F;B++){var V=new Pt.util.ByteBuffer;V.putBytes(v.bytes()),V.putBytes(L.bytes());for(var de=0;de<n;de++)l.start(),l.update(V.getBytes()),V=l.digest();var ve=new Pt.util.ByteBuffer;for(f=0;f<u;f++)ve.putByte(V.at(f%c));var n0=Math.ceil(p/u)+Math.ceil(m/u),d0=new Pt.util.ByteBuffer;for(a=0;a<n0;a++){var r0=new Pt.util.ByteBuffer(L.getBytes(u)),m0=511;for(f=ve.length()-1;f>=0;f--)m0=m0>>8,m0+=ve.at(f)+r0.at(f),r0.setAt(f,m0&255);d0.putBuffer(r0)}L=d0,d.putBuffer(V)}return d.truncate(d.length()-s),d};un.pbe.getCipher=function(e,t,r){switch(e){case un.oids.pkcs5PBES2:return un.pbe.getCipherForPBES2(e,t,r);case un.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case un.oids["pbewithSHAAnd40BitRC2-CBC"]:return un.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};un.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!I0.validate(t,xZ,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}if(e=I0.derToOid(n.kdfOid),e!==un.oids.pkcs5PBKDF2){var l=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw l.oid=e,l.supportedOids=["pkcs5PBKDF2"],l}if(e=I0.derToOid(n.encOid),e!==un.oids["aes128-CBC"]&&e!==un.oids["aes192-CBC"]&&e!==un.oids["aes256-CBC"]&&e!==un.oids["des-EDE3-CBC"]&&e!==un.oids.desCBC){var l=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw l.oid=e,l.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],l}var a=n.kdfSalt,f=Pt.util.createBuffer(n.kdfIterationCount);f=f.getInt(f.length()<<3);var c,u;switch(un.oids[e]){case"aes128-CBC":c=16,u=Pt.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=Pt.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=Pt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=Pt.des.createDecryptionCipher;break;case"desCBC":c=8,u=Pt.des.createDecryptionCipher;break}var d=VF(n.prfOid),h=Pt.pkcs5.pbkdf2(r,a,f,c,d),m=n.encIv,p=u(h);return p.start(m),p};un.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!I0.validate(t,_Z,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=Pt.util.createBuffer(n.salt),f=Pt.util.createBuffer(n.iterations);f=f.getInt(f.length()<<3);var c,u,d;switch(e){case un.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,d=Pt.des.startDecrypting;break;case un.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,d=o(function(x,E){var I=Pt.rc2.createDecryptionCipher(x,40);return I.start(E,null),I},"cipherFn");break;default:var l=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw l.oid=e,l}var h=VF(n.prfOid),m=un.pbe.generatePkcs12Key(r,a,1,f,c,h);h.start();var p=un.pbe.generatePkcs12Key(r,a,2,f,u,h);return d(m,p)};un.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Pt.md))throw new Error('"md5" hash algorithm unavailable.');n=Pt.md.md5.create()}t===null&&(t="");for(var s=[jF(n,e+t)],l=16,a=1;l<r;++a,l+=16)s.push(jF(n,s[a-1]+e+t));return s.join("").substr(0,r)};function jF(e,t){return e.start().update(t).digest().getBytes()}o(jF,"hash");function VF(e){var t;if(!e)t="hmacWithSHA1";else if(t=un.oids[I0.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return zF(t)}o(VF,"prfOidToMessageDigest");function zF(e){var t=Pt.md;switch(e){case"hmacWithSHA224":t=Pt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(zF,"prfAlgorithmToMessageDigest");function bZ(e,t,r,n){var s=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,e),I0.create(I0.Class.UNIVERSAL,I0.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(I0.create(I0.Class.UNIVERSAL,I0.Type.INTEGER,!1,Pt.util.hexToBytes(r.toString(16))),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(un.oids[n]).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.NULL,!1,"")])),s}o(bZ,"createPbkdf2Params")});var AI=y0((F3e,YF)=>{var p6=dn();R1();Ki();var Et=p6.asn1,y6=YF.exports=p6.pkcs7asn1=p6.pkcs7asn1||{};p6.pkcs7=p6.pkcs7||{};p6.pkcs7.asn1=y6;var KF={name:"ContentInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Et.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};y6.contentInfoValidator=KF;var WF={name:"EncryptedContentInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Et.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Et.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};y6.envelopedDataValidator={name:"EnvelopedData",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(WF)};y6.encryptedDataValidator={name:"EncryptedData",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"version"}].concat(WF)};var CZ={name:"SignerInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Et.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Et.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Et.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};y6.signedDataValidator={name:"SignedData",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},KF,{name:"SignedData.Certificates",tagClass:Et.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Et.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SET,capture:"signerInfos",optional:!0,value:[CZ]}]};y6.recipientInfoValidator={name:"RecipientInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Et.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var PI=y0((O3e,JF)=>{var Pd=dn();Ki();Pd.mgf=Pd.mgf||{};var EZ=JF.exports=Pd.mgf.mgf1=Pd.mgf1=Pd.mgf1||{};EZ.create=function(e){var t={generate:function(r,n){for(var s=new Pd.util.ByteBuffer,l=Math.ceil(n/e.digestLength),a=0;a<l;a++){var f=new Pd.util.ByteBuffer;f.putInt32(a),e.start(),e.update(r+f.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var ZF=y0((M3e,XF)=>{var Vv=dn();PI();XF.exports=Vv.mgf=Vv.mgf||{};Vv.mgf.mgf1=Vv.mgf1});var zv=y0((U3e,QF)=>{var Rd=dn();Wf();Ki();var TZ=QF.exports=Rd.pss=Rd.pss||{};TZ.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=Rd.util.createBuffer(s));var l;if("saltLength"in e)l=e.saltLength;else if(s!==null)l=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==l)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Rd.random,f={};return f.encode=function(c,u){var d,h=u-1,m=Math.ceil(h/8),p=c.digest().getBytes();if(m<n+l+2)throw new Error("Message is too long to encrypt.");var v;s===null?v=a.getBytesSync(l):v=s.bytes();var x=new Rd.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(p),x.putBytes(v),t.start(),t.update(x.getBytes());var E=t.digest().getBytes(),I=new Rd.util.ByteBuffer;I.fillWithByte(0,m-l-n-2),I.putByte(1),I.putBytes(v);var P=I.getBytes(),L=m-n-1,F=r.generate(E,L),B="";for(d=0;d<L;d++)B+=String.fromCharCode(P.charCodeAt(d)^F.charCodeAt(d));var V=65280>>8*m-h&255;return B=String.fromCharCode(B.charCodeAt(0)&~V)+B.substr(1),B+E+"\xBC"},f.verify=function(c,u,d){var h,m=d-1,p=Math.ceil(m/8);if(u=u.substr(-p),p<n+l+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var v=p-n-1,x=u.substr(0,v),E=u.substr(v,n),I=65280>>8*p-m&255;if(x.charCodeAt(0)&I)throw new Error("Bits beyond keysize not zero as expected.");var P=r.generate(E,v),L="";for(h=0;h<v;h++)L+=String.fromCharCode(x.charCodeAt(h)^P.charCodeAt(h));L=String.fromCharCode(L.charCodeAt(0)&~I)+L.substr(1);var F=p-n-l-2;for(h=0;h<F;h++)if(L.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(L.charCodeAt(F)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var B=L.substr(-l),V=new Rd.util.ByteBuffer;V.fillWithByte(0,8),V.putBytes(c),V.putBytes(B),t.start(),t.update(V.getBytes());var de=t.digest().getBytes();return E===de},f}});var Wv=y0((q3e,iO)=>{var br=dn();c3();R1();b7();yc();ZF();u3();Sd();zv();T7();Ki();var W=br.asn1,K0=iO.exports=br.pki=br.pki||{},zi=K0.oids,Vs={};Vs.CN=zi.commonName;Vs.commonName="CN";Vs.C=zi.countryName;Vs.countryName="C";Vs.L=zi.localityName;Vs.localityName="L";Vs.ST=zi.stateOrProvinceName;Vs.stateOrProvinceName="ST";Vs.O=zi.organizationName;Vs.organizationName="O";Vs.OU=zi.organizationalUnitName;Vs.organizationalUnitName="OU";Vs.E=zi.emailAddress;Vs.emailAddress="E";var tO=br.pki.rsa.publicKeyValidator,SZ={name:"Certificate",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:W.Class.UNIVERSAL,type:W.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:W.Class.UNIVERSAL,type:W.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:W.Class.UNIVERSAL,type:W.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:W.Class.UNIVERSAL,type:W.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},tO,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:W.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:W.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:W.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},IZ={name:"rsapss",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:W.Class.UNIVERSAL,type:W.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:W.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:W.Class.UNIVERSAL,type:W.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:W.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:W.Class.UNIVERSAL,type:W.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:W.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:W.Class.UNIVERSAL,type:W.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},wZ={name:"CertificationRequestInfo",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},tO,{name:"CertificationRequestInfo.attributes",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:W.Class.UNIVERSAL,type:W.Type.SET,constructed:!0}]}]}]},AZ={name:"CertificationRequest",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[wZ,{name:"CertificationRequest.signatureAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};K0.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,l,a=0;a<e.value.length;++a){n=e.value[a];for(var f=0;f<n.value.length;++f)l={},s=n.value[f],l.type=W.derToOid(s.value[0].value),l.value=s.value[1].value,l.valueTagClass=s.value[1].type,l.type in zi&&(l.name=zi[l.type],l.name in Vs&&(l.shortName=Vs[l.name])),t&&(t.update(l.type),t.update(l.value)),r.push(l)}return r};K0.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=W.derToOid(n.value[0].value),l=n.value[1].value,a=0;a<l.length;++a){var f={};if(f.type=s,f.value=l[a].value,f.valueTagClass=l[a].type,f.type in zi&&(f.name=zi[f.type],f.name in Vs&&(f.shortName=Vs[f.name])),f.type===zi.extensionRequest){f.extensions=[];for(var c=0;c<f.value.length;++c)f.extensions.push(K0.certificateExtensionFromAsn1(f.value[c]))}t.push(f)}return t};function g3(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(g3,"_getAttribute");var Gv=o(function(e,t,r){var n={};if(e!==zi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:zi.sha1},mgf:{algorithmOid:zi.mgf1,hash:{algorithmOid:zi.sha1}},saltLength:20});var s={},l=[];if(!W.validate(t,IZ,s,l)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=l,a}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=W.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=W.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=W.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Kv=o(function(e){switch(zi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return br.md.sha1.create();case"md5WithRSAEncryption":return br.md.md5.create();case"sha256WithRSAEncryption":return br.md.sha256.create();case"sha384WithRSAEncryption":return br.md.sha384.create();case"sha512WithRSAEncryption":return br.md.sha512.create();case"RSASSA-PSS":return br.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),rO=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case zi.sha1WithRSAEncryption:case zi.sha1WithRSASignature:break;case zi["RSASSA-PSS"]:var n,s;if(n=zi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||br.md[n]===void 0){var l=new Error("Unsupported MGF hash function.");throw l.oid=t.signatureParameters.mgf.hash.algorithmOid,l.name=n,l}if(s=zi[t.signatureParameters.mgf.algorithmOid],s===void 0||br.mgf[s]===void 0){var l=new Error("Unsupported MGF function.");throw l.oid=t.signatureParameters.mgf.algorithmOid,l.name=s,l}if(s=br.mgf[s].create(br.md[n].create()),n=zi[t.signatureParameters.hash.algorithmOid],n===void 0||br.md[n]===void 0){var l=new Error("Unsupported RSASSA-PSS hash function.");throw l.oid=t.signatureParameters.hash.algorithmOid,l.name=n,l}r=br.pss.create(br.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");K0.certificateFromPem=function(e,t,r){var n=br.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=W.fromDer(n.body,r);return K0.certificateFromAsn1(l,t)};K0.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:W.toDer(K0.certificateToAsn1(e)).getBytes()};return br.pem.encode(r,{maxline:t})};K0.publicKeyFromPem=function(e){var t=br.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=W.fromDer(t.body);return K0.publicKeyFromAsn1(n)};K0.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:W.toDer(K0.publicKeyToAsn1(e)).getBytes()};return br.pem.encode(r,{maxline:t})};K0.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:W.toDer(K0.publicKeyToRSAPublicKey(e)).getBytes()};return br.pem.encode(r,{maxline:t})};K0.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||br.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=W.toDer(K0.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=W.toDer(K0.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};K0.certificationRequestFromPem=function(e,t,r){var n=br.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=W.fromDer(n.body,r);return K0.certificationRequestFromAsn1(l,t)};K0.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:W.toDer(K0.certificationRequestToAsn1(e)).getBytes()};return br.pem.encode(r,{maxline:t})};K0.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return g3(e.issuer,t)},e.issuer.addField=function(t){Xf([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return g3(e.subject,t)},e.subject.addField=function(t){Xf([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Xf(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Xf(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)nO(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||br.md.sha1.create();var n=zi[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=K0.getTBSCertificate(e);var l=W.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,l=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw l.expectedIssuer=s.attributes,l.actualIssuer=n.attributes,l}var a=t.md;if(a===null){a=Kv({signatureOid:t.signatureOid,type:"certificate"});var f=t.tbsCertificate||K0.getTBSCertificate(t),c=W.toDer(f);a.update(c.getBytes())}return a!==null&&(r=rO({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var l,a,f=0;r&&f<n.attributes.length;++f)l=n.attributes[f],a=s.attributes[f],(l.type!==a.type||l.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return K0.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=zi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return br.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};K0.certificateFromAsn1=function(e,t){var r={},n=[];if(!W.validate(e,SZ,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var l=W.derToOid(r.publicKeyOid);if(l!==K0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=K0.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=br.util.createBuffer(r.certSerialNumber);a.serialNumber=f.toHex(),a.signatureOid=br.asn1.derToOid(r.certSignatureOid),a.signatureParameters=Gv(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=br.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=Gv(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(W.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(W.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(W.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(W.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Kv({signatureOid:a.signatureOid,type:"certificate"});var u=W.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var d=br.md.sha1.create(),h=W.toDer(r.certIssuer);d.update(h.getBytes()),a.issuer.getField=function(v){return g3(a.issuer,v)},a.issuer.addField=function(v){Xf([v]),a.issuer.attributes.push(v)},a.issuer.attributes=K0.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=d.digest().toHex();var m=br.md.sha1.create(),p=W.toDer(r.certSubject);return m.update(p.getBytes()),a.subject.getField=function(v){return g3(a.subject,v)},a.subject.addField=function(v){Xf([v]),a.subject.attributes.push(v)},a.subject.attributes=K0.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=m.digest().toHex(),r.certExtensions?a.extensions=K0.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=K0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};K0.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(K0.certificateExtensionFromAsn1(n.value[s]));return t};K0.certificateExtensionFromAsn1=function(e){var t={};if(t.id=W.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===W.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in zi){if(t.name=zi[t.id],t.name==="keyUsage"){var r=W.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=W.fromDer(t.value);r.value.length>0&&r.value[0].type===W.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var l=null;r.value.length>0&&r.value[0].type===W.Type.INTEGER?l=r.value[0].value:r.value.length>1&&(l=r.value[1].value),l!==null&&(t.pathLenConstraint=W.derToInteger(l))}else if(t.name==="extKeyUsage")for(var r=W.fromDer(t.value),a=0;a<r.value.length;++a){var f=W.derToOid(r.value[a].value);f in zi?t[zi[f]]=!0:t[f]=!0}else if(t.name==="nsCertType"){var r=W.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=W.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=br.util.bytesToIP(c.value);break;case 8:d.oid=W.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=W.fromDer(t.value);t.subjectKeyIdentifier=br.util.bytesToHex(r.value)}}return t};K0.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!W.validate(e,AZ,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var l=W.derToOid(r.publicKeyOid);if(l!==K0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=K0.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=br.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=Gv(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=br.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=Gv(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Kv({signatureOid:a.signatureOid,type:"certification request"});var f=W.toDer(a.certificationRequestInfo);a.md.update(f.getBytes())}var c=br.md.sha1.create();return a.subject.getField=function(u){return g3(a.subject,u)},a.subject.addField=function(u){Xf([u]),a.subject.attributes.push(u)},a.subject.attributes=K0.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=K0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return g3(a,u)},a.addAttribute=function(u){Xf([u]),a.attributes.push(u)},a.attributes=K0.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};K0.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return g3(e.subject,t)},e.subject.addField=function(t){Xf([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return g3(e,t)},e.addAttribute=function(t){Xf([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Xf(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Xf(t),e.attributes=t},e.sign=function(t,r){e.md=r||br.md.sha1.create();var n=zi[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=K0.getCertificationRequestInfo(e);var l=W.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Kv({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||K0.getCertificationRequestInfo(e),s=W.toDer(n);r.update(s.getBytes())}return r!==null&&(t=rO({certificate:e,md:r,signature:e.signature})),t},e};function v6(e){for(var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,l=0;l<s.length;++l){r=s[l];var a=r.value,f=W.Type.PRINTABLESTRING;"valueTagClass"in r&&(f=r.valueTagClass,f===W.Type.UTF8&&(a=br.util.encodeUtf8(a))),n=W.create(W.Class.UNIVERSAL,W.Type.SET,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(r.type).getBytes()),W.create(W.Class.UNIVERSAL,f,!1,a)])]),t.value.push(n)}return t}o(v6,"_dnToAsn1");function Xf(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in K0.oids?t.name=K0.oids[t.type]:t.shortName&&t.shortName in Vs&&(t.name=K0.oids[Vs[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in K0.oids)t.type=K0.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Vs&&(t.shortName=Vs[t.name]),t.type===zi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=W.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(K0.certificateExtensionToAsn1(nO(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(Xf,"_fillMissingFields");function nO(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in K0.oids&&(e.name=K0.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in K0.oids)e.id=K0.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,l=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(l|=128,n=7);var a=String.fromCharCode(n);l!==0?a+=String.fromCharCode(s)+String.fromCharCode(l):s!==0&&(a+=String.fromCharCode(s)),e.value=W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(W.create(W.Class.UNIVERSAL,W.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var c in e)e[c]===!0&&(c in zi?f.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(zi[c]).getBytes())):c.indexOf(".")!==-1&&f.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var a=String.fromCharCode(n);s!==0&&(a+=String.fromCharCode(s)),e.value=W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);for(var u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=br.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=W.oidToDer(W.oidToDer(u.oid)):a=W.oidToDer(a));e.value.value.push(W.create(W.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=W.create(W.Class.UNIVERSAL,W.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,h.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);var f=e.value.value;if(e.keyIdentifier){var m=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!1,m))}if(e.authorityCertIssuer){var p=[W.create(W.Class.CONTEXT_SPECIFIC,4,!0,[v6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];f.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var v=br.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);f.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if(e.name==="cRLDistributionPoints"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);for(var f=e.value.value,x=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),E=W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[]),u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=br.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=W.oidToDer(W.oidToDer(u.oid)):a=W.oidToDer(a));E.value.push(W.create(W.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[E])),f.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(nO,"_fillMissingExtensionFields");function RI(e,t){switch(e){case zi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.hash.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.mgf.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.mgf.hash.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(t.saltLength).getBytes())])),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,r);default:return W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")}}o(RI,"_signatureParametersToAsn1");function PZ(e){var t=W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],l=s.value,a=W.Type.UTF8;"valueTagClass"in s&&(a=s.valueTagClass),a===W.Type.UTF8&&(l=br.util.encodeUtf8(l));var f=!1;"valueConstructed"in s&&(f=s.valueConstructed);var c=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(s.type).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SET,!0,[W.create(W.Class.UNIVERSAL,a,f,l)])]);t.value.push(c)}return t}o(PZ,"_CRIAttributesToAsn1");var RZ=new Date("1950-01-01T00:00:00Z"),NZ=new Date("2050-01-01T00:00:00Z");function eO(e){return e>=RZ&&e<NZ?W.create(W.Class.UNIVERSAL,W.Type.UTCTIME,!1,W.dateToUtcTime(e)):W.create(W.Class.UNIVERSAL,W.Type.GENERALIZEDTIME,!1,W.dateToGeneralizedTime(e))}o(eO,"_dateToAsn1");K0.getTBSCertificate=function(e){var t=eO(e.validity.notBefore),r=eO(e.validity.notAfter),n=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.version).getBytes())]),W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,br.util.hexToBytes(e.serialNumber)),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.siginfo.algorithmOid).getBytes()),RI(e.siginfo.algorithmOid,e.siginfo.parameters)]),v6(e.issuer),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,r]),v6(e.subject),K0.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,[W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!0,[W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(K0.certificateExtensionsToAsn1(e.extensions)),n};K0.getCertificationRequestInfo=function(e){var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.version).getBytes()),v6(e.subject),K0.publicKeyToAsn1(e.publicKey),PZ(e)]);return t};K0.distinguishedNameToAsn1=function(e){return v6(e)};K0.certificateToAsn1=function(e){var t=e.tbsCertificate||K0.getTBSCertificate(e);return W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.signatureOid).getBytes()),RI(e.signatureOid,e.signatureParameters)]),W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.signature)])};K0.certificateExtensionsToAsn1=function(e){var t=W.create(W.Class.CONTEXT_SPECIFIC,3,!0,[]),r=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(K0.certificateExtensionToAsn1(e[n]));return t};K0.certificateExtensionToAsn1=function(e){var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);t.value.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.id).getBytes())),e.critical&&t.value.push(W.create(W.Class.UNIVERSAL,W.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=W.toDer(r).getBytes()),t.value.push(W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,r)),t};K0.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||K0.getCertificationRequestInfo(e);return W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.signatureOid).getBytes()),RI(e.signatureOid,e.signatureParameters)]),W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.signature)])};K0.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var f=r(a.issuer);return f},t.addCertificate=function(a){if(typeof a=="string"&&(a=br.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var f=t.certs[a.subject.hash];br.util.isArray(f)||(f=[f]),f.push(a),t.certs[a.subject.hash]=f}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=br.pki.certificateFromPem(a));var f=r(a.subject);if(!f)return!1;br.util.isArray(f)||(f=[f]);for(var c=W.toDer(K0.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=W.toDer(K0.certificateToAsn1(f[u])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var f in t.certs)if(t.certs.hasOwnProperty(f)){var c=t.certs[f];if(!br.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var f;if(typeof a=="string"&&(a=br.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!br.util.isArray(c))return f=t.certs[a.subject.hash],delete t.certs[a.subject.hash],f;for(var u=W.toDer(K0.certificateToAsn1(a)).getBytes(),d=0;d<c.length;++d){var h=W.toDer(K0.certificateToAsn1(c[d])).getBytes();u===h&&(f=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[a.subject.hash],f};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var f=br.md.sha1.create();a.attributes=K0.RDNAttributesAsArray(v6(a),f),a.hash=f.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t};K0.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};K0.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var l=!0,a=null,f=0;do{var c=t.shift(),u=null,d=!1;if(s&&(s<c.validity.notBefore||s>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:K0.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:s}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(d=!0,u=c),u){var h=u;br.util.isArray(h)||(h=[h]);for(var m=!1;!m&&h.length>0;){u=h.shift();try{m=u.verify(c)}catch{}}m||(a={message:"Certificate signature is invalid.",error:K0.certificateError.bad_certificate})}a===null&&(!u||d)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:K0.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:K0.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},v=0;a===null&&v<c.extensions.length;++v){var x=c.extensions[v];x.critical&&!(x.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:K0.certificateError.unsupported_certificate})}if(a===null&&(!l||t.length===0&&(!u||d))){var E=c.getExtension("basicConstraints"),I=c.getExtension("keyUsage");if(I!==null&&(!I.keyCertSign||E===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:K0.certificateError.bad_certificate}),a===null&&E!==null&&!E.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:K0.certificateError.bad_certificate}),a===null&&I!==null&&"pathLenConstraint"in E){var P=f-1;P>E.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:K0.certificateError.bad_certificate})}}var L=a===null?!0:a.error,F=r.verify?r.verify(L,f,n):L;if(F===!0)a=null;else throw L===!0&&(a={message:"The application rejected the certificate.",error:K0.certificateError.bad_certificate}),(F||F===0)&&(typeof F=="object"&&!br.util.isArray(F)?(F.message&&(a.message=F.message),F.error&&(a.error=F.error)):typeof F=="string"&&(a.error=F)),a;l=!1,++f}while(t.length>0);return!0}});var kI=y0((H3e,oO)=>{var xs=dn();R1();u6();u3();AI();wI();Wf();T7();m6();Ki();Wv();var He=xs.asn1,Ni=xs.pki,I7=oO.exports=xs.pkcs12=xs.pkcs12||{},sO={name:"ContentInfo",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},kZ={name:"PFX",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,capture:"version"},sO,{name:"PFX.macData",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:He.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},DZ={name:"SafeBag",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:He.Class.UNIVERSAL,type:He.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},BZ={name:"Attribute",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:He.Class.UNIVERSAL,type:He.Type.SET,constructed:!0,capture:"values"}]},LZ={name:"CertBag",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:He.Class.UNIVERSAL,type:He.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function S7(e,t,r,n){for(var s=[],l=0;l<e.length;l++)for(var a=0;a<e[l].safeBags.length;a++){var f=e[l].safeBags[a];if(!(n!==void 0&&f.type!==n)){if(t===null){s.push(f);continue}f.attributes[t]!==void 0&&f.attributes[t].indexOf(r)>=0&&s.push(f)}}return s}o(S7,"_getBagsByAttribute");I7.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!He.validate(e,kZ,n,s)){var l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw l.errors=l,l}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(E){var I={},P;return"localKeyId"in E?P=E.localKeyId:"localKeyIdHex"in E&&(P=xs.util.hexToBytes(E.localKeyIdHex)),P===void 0&&!("friendlyName"in E)&&"bagType"in E&&(I[E.bagType]=S7(a.safeContents,null,null,E.bagType)),P!==void 0&&(I.localKeyId=S7(a.safeContents,"localKeyId",P,E.bagType)),"friendlyName"in E&&(I.friendlyName=S7(a.safeContents,"friendlyName",E.friendlyName,E.bagType)),I},getBagsByFriendlyName:function(E,I){return S7(a.safeContents,"friendlyName",E,I)},getBagsByLocalKeyId:function(E,I){return S7(a.safeContents,"localKeyId",E,I)}};if(n.version.charCodeAt(0)!==3){var l=new Error("PKCS#12 PFX of version other than 3 not supported.");throw l.version=n.version.charCodeAt(0),l}if(He.derToOid(n.contentType)!==Ni.oids.data){var l=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw l.oid=He.derToOid(n.contentType),l}var f=n.content.value[0];if(f.tagClass!==He.Class.UNIVERSAL||f.type!==He.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(f=NI(f),n.mac){var c=null,u=0,d=He.derToOid(n.macAlgorithm);switch(d){case Ni.oids.sha1:c=xs.md.sha1.create(),u=20;break;case Ni.oids.sha256:c=xs.md.sha256.create(),u=32;break;case Ni.oids.sha384:c=xs.md.sha384.create(),u=48;break;case Ni.oids.sha512:c=xs.md.sha512.create(),u=64;break;case Ni.oids.md5:c=xs.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new xs.util.ByteBuffer(n.macSalt),m="macIterations"in n?parseInt(xs.util.bytesToHex(n.macIterations),16):1,p=I7.generateKey(r,h,3,m,u,c),v=xs.hmac.create();v.start(c,p),v.update(f.value);var x=v.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return FZ(a,f.value,t,r),a};function NI(e){if(e.composed||e.constructed){for(var t=xs.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(NI,"_decodePkcs7Data");function FZ(e,t,r,n){if(t=He.fromDer(t,r),t.tagClass!==He.Class.UNIVERSAL||t.type!==He.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var l=t.value[s],a={},f=[];if(!He.validate(l,sO,a,f)){var c=new Error("Cannot read ContentInfo.");throw c.errors=f,c}var u={encrypted:!1},d=null,h=a.content.value[0];switch(He.derToOid(a.contentType)){case Ni.oids.data:if(h.tagClass!==He.Class.UNIVERSAL||h.type!==He.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=NI(h).value;break;case Ni.oids.encryptedData:d=OZ(h,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=He.derToOid(a.contentType),c}u.safeBags=MZ(d,r,n),e.safeContents.push(u)}}o(FZ,"_decodeAuthenticatedSafe");function OZ(e,t){var r={},n=[];if(!He.validate(e,xs.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var l=He.derToOid(r.contentType);if(l!==Ni.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=l,s}l=He.derToOid(r.encAlgorithm);var a=Ni.pbe.getCipher(l,r.encParameter,t),f=NI(r.encryptedContentAsn1),c=xs.util.createBuffer(f.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(OZ,"_decryptSafeContents");function MZ(e,t,r){if(!t&&e.length===0)return[];if(e=He.fromDer(e,t),e.tagClass!==He.Class.UNIVERSAL||e.type!==He.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var l=e.value[s],a={},f=[];if(!He.validate(l,DZ,a,f)){var c=new Error("Cannot read SafeBag.");throw c.errors=f,c}var u={type:He.derToOid(a.bagId),attributes:UZ(a.bagAttributes)};n.push(u);var d,h,m=a.bagValue.value[0];switch(u.type){case Ni.oids.pkcs8ShroudedKeyBag:if(m=Ni.decryptPrivateKeyInfo(m,r),m===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ni.oids.keyBag:try{u.key=Ni.privateKeyFromAsn1(m)}catch{u.key=null,u.asn1=m}continue;case Ni.oids.certBag:d=LZ,h=o(function(){if(He.derToOid(a.certId)!==Ni.oids.x509Certificate){var v=new Error("Unsupported certificate type, only X.509 supported.");throw v.oid=He.derToOid(a.certId),v}var x=He.fromDer(a.cert,t);try{u.cert=Ni.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(d!==void 0&&!He.validate(m,d,a,f)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=f,c}h()}return n}o(MZ,"_decodeSafeContents");function UZ(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!He.validate(e[r],BZ,n,s)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=s,l}var a=He.derToOid(n.oid);if(Ni.oids[a]!==void 0){t[Ni.oids[a]]=[];for(var f=0;f<n.values.length;++f)t[Ni.oids[a]].push(n.values[f].value)}}return t}o(UZ,"_decodeBagAttributes");I7.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,l;if(s!==null)s=xs.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var a=xs.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=Ni.certificateFromPem(a));var f=xs.md.sha1.create();f.update(He.toDer(Ni.certificateToAsn1(a)).getBytes()),s=f.digest().getBytes()}else s=xs.random.getBytes(20);var c=[];s!==null&&c.push(He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.localKeyId).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SET,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.friendlyName).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SET,!0,[He.create(He.Class.UNIVERSAL,He.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(l=He.create(He.Class.UNIVERSAL,He.Type.SET,!0,c));var u=[],d=[];t!==null&&(xs.util.isArray(t)?d=t:d=[t]);for(var h=[],m=0;m<d.length;++m){t=d[m],typeof t=="string"&&(t=Ni.certificateFromPem(t));var p=m===0?l:void 0,v=Ni.certificateToAsn1(t),x=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.certBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.x509Certificate).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(v).getBytes())])])]),p]);h.push(x)}if(h.length>0){var E=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,h),I=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(E).getBytes())])]);u.push(I)}var P=null;if(e!==null){var L=Ni.wrapRsaPrivateKey(Ni.privateKeyToAsn1(e));r===null?P=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.keyBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[L]),l]):P=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.pkcs8ShroudedKeyBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[Ni.encryptPrivateKeyInfo(L,r,n)]),l]);var F=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[P]),B=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(F).getBytes())])]);u.push(B)}var V=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,u),de;if(n.useMac){var f=xs.md.sha1.create(),ve=new xs.util.ByteBuffer(xs.random.getBytes(n.saltSize)),n0=n.count,e=I7.generateKey(r,ve,3,n0,20),d0=xs.hmac.create();d0.start(f,e),d0.update(He.toDer(V).getBytes());var r0=d0.getMac();de=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.sha1).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.NULL,!1,"")]),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,r0.getBytes())]),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,ve.getBytes()),He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,He.integerToDer(n0).getBytes())])}return He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,He.integerToDer(3).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(Ni.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(V).getBytes())])]),de])};I7.generateKey=xs.pbe.generatePkcs12Key});var BI=y0((V3e,aO)=>{var m3=dn();R1();u3();wI();Sd();Mv();kI();zv();T7();Ki();Wv();var DI=m3.asn1,x6=aO.exports=m3.pki=m3.pki||{};x6.pemToDer=function(e){var t=m3.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return m3.util.createBuffer(t.body)};x6.privateKeyFromPem=function(e){var t=m3.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=DI.fromDer(t.body);return x6.privateKeyFromAsn1(n)};x6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:DI.toDer(x6.privateKeyToAsn1(e)).getBytes()};return m3.pem.encode(r,{maxline:t})};x6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:DI.toDer(e).getBytes()};return m3.pem.encode(r,{maxline:t})}});var qI=y0((z3e,mO)=>{var q0=dn();R1();u6();Bv();Sd();BI();Wf();m6();Ki();var Zv=o(function(e,t,r,n){var s=q0.util.createBuffer(),l=e.length>>1,a=l+(e.length&1),f=e.substr(0,a),c=e.substr(l,a),u=q0.util.createBuffer(),d=q0.hmac.create();r=t+r;var h=Math.ceil(n/16),m=Math.ceil(n/20);d.start("MD5",f);var p=q0.util.createBuffer();u.putBytes(r);for(var v=0;v<h;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),p.putBuffer(d.digest());d.start("SHA1",c);var x=q0.util.createBuffer();u.clear(),u.putBytes(r);for(var v=0;v<m;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),x.putBuffer(d.digest());return s.putBytes(q0.util.xorBytes(p.getBytes(),x.getBytes(),n)),s},"prf_TLS1"),qZ=o(function(e,t,r){var n=q0.hmac.create();n.start("SHA1",e);var s=q0.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},"hmac_sha1"),$Z=o(function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=q0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"deflate"),HZ=o(function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=q0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"inflate"),xf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return q0.util.createBuffer(e.getBytes(r))},"readVector"),Zf=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var l=t.fragment,a=l.length();if(n={version:{major:l.getByte(),minor:l.getByte()},random:q0.util.createBuffer(l.getBytes(32)),session_id:xf(l,1),extensions:[]},s?(n.cipher_suite=l.getBytes(2),n.compression_method=l.getByte()):(n.cipher_suites=xf(l,2),n.compression_methods=xf(l,1)),a=r-(a-l.length()),a>0){for(var f=xf(l,2);f.length()>0;)n.extensions.push({type:[f.getByte(),f.getByte()],data:xf(f,2)});if(!s)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var d=xf(u.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;e.session.extensions.server_name.serverNameList.push(xf(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var m=q0.util.createBuffer(n.cipher_suites.bytes());m.length()>0&&(e.session.cipherSuite=X.getCipherSuite(m.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:q0.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,l=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:l}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=cO,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=VZ,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=s,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),l=null;if(e.sessionCache&&(l=e.sessionCache.getSession(s),l===null?s="":(l.version.major!==n.version.major||l.version.minor>n.version.minor)&&(l=null,s="")),s.length===0&&(s=q0.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},l)e.version=e.session.version=l.version,e.session.sp=l.sp;else{for(var a,f=1;f<X.SupportedVersions.length&&(a=X.SupportedVersions[f],!(a.minor<=n.version.minor));++f);e.version={major:a.major,minor:a.minor},e.session.version=e.version}l!==null?(e.expect=MI,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?XZ:OI,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:xf(n,3)},l,a,f=[];try{for(;s.certificate_list.length()>0;)l=xf(s.certificate_list,3),a=q0.asn1.fromDer(l),l=q0.pki.certificateFromAsn1(a,!0),f.push(l)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&f.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):f.length===0?e.expect=c?lO:OI:(c?e.session.serverCertificate=f[0]:e.session.clientCertificate=f[0],X.verifyCertificateChain(e,f)&&(e.expect=c?lO:OI)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=zZ,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:xf(n,2).getBytes()},l=null;if(e.getPrivateKey)try{l=e.getPrivateKey(e,e.session.serverCertificate),l=q0.pki.privateKeyFromPem(l)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(l===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=l.decrypt(s.enc_pre_master_secret);var f=e.session.clientHelloVersion;if(f.major!==a.pre_master_secret.charCodeAt(0)||f.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=q0.random.getBytes(48)}e.expect=MI,e.session.clientCertificate!==null&&(e.expect=ZZ),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:xf(n,1),certificate_authorities:xf(n,2)};e.session.certificateRequest=s,e.expect=GZ,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l={signature:xf(n,2).getBytes()},a=q0.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var f=e.session.clientCertificate;if(!f.publicKey.verify(a,l.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=MI,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},s=0,l=e.verify(e,n.alert.description,s,[]);if(l!==!0)return(l||l===0)&&(typeof l=="object"&&!q0.util.isArray(l)?(l.message&&(n.message=l.message),l.alert&&(n.alert.description=l.alert)):typeof l=="number"&&(n.alert.description=l)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=YZ;var a=o(function(f,c){f.session.certificateRequest!==null&&f.session.clientCertificate!==null&&X.queue(f,X.createRecord(f,{type:X.ContentType.handshake,data:X.createCertificateVerify(f,c)})),X.queue(f,X.createRecord(f,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),f.state.pending=X.createConnectionState(f),f.state.current.write=f.state.pending.write,X.queue(f,X.createRecord(f,{type:X.ContentType.handshake,data:X.createFinished(f)})),f.expect=cO,X.flush(f),f.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?KZ:QZ,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l=t.fragment.getBytes();n=q0.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,f=a?"server finished":"client finished",c=e.session.sp,u=12,d=Zv;if(n=d(c.master_secret,f,n.getBytes(),u),n.getBytes()!==l)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?WZ:eQ,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case X.Alert.Description.close_notify:s="Connection closed.";break;case X.Alert.Description.unexpected_message:s="Unexpected message.";break;case X.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case X.Alert.Description.decryption_failed:s="Decryption failed.";break;case X.Alert.Description.record_overflow:s="Record overflow.";break;case X.Alert.Description.decompression_failure:s="Decompression failed.";break;case X.Alert.Description.handshake_failure:s="Handshake failure.";break;case X.Alert.Description.bad_certificate:s="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case X.Alert.Description.certificate_expired:s="Certificate expired.";break;case X.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case X.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case X.Alert.Description.access_denied:s="Access denied.";break;case X.Alert.Description.decode_error:s="Decode error.";break;case X.Alert.Description.decrypt_error:s="Decrypt error.";break;case X.Alert.Description.export_restriction:s="Export restriction.";break;case X.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:s="Insufficient security.";break;case X.Alert.Description.internal_error:s="Internal error.";break;case X.Alert.Description.user_canceled:s="User canceled.";break;case X.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=q0.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var l=r.bytes(s+4);r.read+=4,n in Xv[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:q0.md.md5.create(),sha1:q0.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(l),e.session.sha1.update(l)),Xv[e.entity][e.expect][n](e,t,s)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),l=r.getBytes(s);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>l.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,l)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(l!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,q0.util.createBuffer(l))}e.process()};var jZ=0,VZ=1,lO=2,zZ=3,GZ=4,cO=5,KZ=6,WZ=7,YZ=8,JZ=0,XZ=1,OI=2,ZZ=3,MI=4,QZ=5,eQ=6,Y=X.handleUnexpected,uO=X.handleChangeCipherSpec,Xa=X.handleAlert,Sl=X.handleHandshake,dO=X.handleApplicationData,Za=X.handleHeartbeat,UI=[];UI[X.ConnectionEnd.client]=[[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[uO,Xa,Y,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,dO,Za],[Y,Xa,Sl,Y,Za]];UI[X.ConnectionEnd.server]=[[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,Y,Za],[uO,Xa,Y,Y,Za],[Y,Xa,Sl,Y,Za],[Y,Xa,Sl,dO,Za],[Y,Xa,Sl,Y,Za]];var p3=X.handleHelloRequest,tQ=X.handleServerHello,hO=X.handleCertificate,fO=X.handleServerKeyExchange,LI=X.handleCertificateRequest,Yv=X.handleServerHelloDone,gO=X.handleFinished,Xv=[];Xv[X.ConnectionEnd.client]=[[Y,Y,tQ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,hO,fO,LI,Yv,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,fO,LI,Yv,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,LI,Yv,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Yv,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,gO],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[p3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y]];var rQ=X.handleClientHello,nQ=X.handleClientKeyExchange,iQ=X.handleCertificateVerify;Xv[X.ConnectionEnd.server]=[[Y,rQ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,hO,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,nQ,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,iQ,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,gO],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y]];X.generateKeys=function(e,t){var r=Zv,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,l=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;l&&(s+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,s),f={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return l&&(f.client_write_IV=a.getBytes(t.fixed_iv_length),f.server_write_IV=a.getBytes(t.fixed_iv_length)),f};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var l={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){l.sequenceNumber[1]===4294967295?(l.sequenceNumber[1]=0,++l.sequenceNumber[0]):++l.sequenceNumber[1]}};return l},"createMode"),n={read:r(),write:r()};if(n.read.update=function(l,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(l,a,n.read)||l.error(l,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):l.error(l,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!l.fail},n.write.update=function(l,a){return n.write.compressFunction(l,a,n.write)?n.write.cipherFunction(a,n.write)||l.error(l,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):l.error(l,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!l.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=X.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=HZ,n.write.compressFunction=$Z;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=q0.util.createBuffer();return r.putInt32(t),r.putBytes(q0.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=q0.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=q0.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),l=q0.util.createBuffer();l.putByte(X.CompressionMethod.none);var a=l.length(),f=q0.util.createBuffer();if(e.virtualHost){var c=q0.util.createBuffer();c.putByte(0),c.putByte(0);var u=q0.util.createBuffer();u.putByte(0),Zf(u,2,q0.util.createBuffer(e.virtualHost));var d=q0.util.createBuffer();Zf(d,2,u),Zf(c,2,d),f.putBuffer(c)}var h=f.length();h>0&&(h+=2);var m=e.session.id,p=m.length+1+2+4+28+2+s+1+a+h,v=q0.util.createBuffer();return v.putByte(X.HandshakeType.client_hello),v.putInt24(p),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),Zf(v,1,q0.util.createBuffer(m)),Zf(v,2,t),Zf(v,1,l),h>0&&Zf(v,2,f),v};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=q0.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Zf(n,1,q0.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=q0.util.createBuffer();if(r!==null)try{q0.util.isArray(r)||(r=[r]);for(var l=null,a=0;a<r.length;++a){var f=q0.pem.decode(r[a])[0];if(f.type!=="CERTIFICATE"&&f.type!=="X509 CERTIFICATE"&&f.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=f.type,c}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=q0.util.createBuffer(f.body);l===null&&(l=q0.asn1.fromDer(u.bytes(),!1));var d=q0.util.createBuffer();Zf(d,3,u),s.putBuffer(d)}r=q0.pki.certificateFromAsn1(l),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var h=3+s.length(),m=q0.util.createBuffer();return m.putByte(X.HandshakeType.certificate),m.putInt24(h),Zf(m,3,s),m};X.createClientKeyExchange=function(e){var t=q0.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(q0.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,l=q0.util.createBuffer();return l.putByte(X.HandshakeType.client_key_exchange),l.putInt24(s),l.putInt16(t.length),l.putBytes(t),l};X.createServerKeyExchange=function(e){var t=0,r=q0.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=q0.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,l){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=q0.pki.privateKeyFromPem(a)}catch(f){n.error(n,{message:"Could not get private key.",cause:f,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s=a.sign(s,null),l(n,s)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=q0.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=q0.util.createBuffer();t.putByte(1);var r=q0.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],l=q0.pki.distinguishedNameToAsn1(s.subject),a=q0.asn1.toDer(l);r.putInt16(a.length()),r.putBuffer(a)}var f=1+t.length()+2+r.length(),c=q0.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(f),Zf(c,1,t),Zf(c,2,r),c};X.createServerHelloDone=function(e){var t=q0.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=q0.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=q0.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,s=12,l=Zv,a=r?"client finished":"server finished";t=l(n.master_secret,a,t.getBytes(),s);var f=q0.util.createBuffer();return f.putByte(X.HandshakeType.finished),f.putInt24(t.length()),f.putBuffer(t),f};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=q0.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),l=Math.max(16,s-r-3);return n.putBytes(q0.random.getBytes(l)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:q0.util.createBuffer(s.slice(0,X.MaxFragment))})),s=s.slice(X.MaxFragment);s.length>0&&n.push(X.createRecord(e,{type:t.type,data:q0.util.createBuffer(s)}))}for(var l=0;l<n.length&&!e.fail;++l){var a=n[l],f=e.state.current.write;f.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var FI=o(function(e){switch(e){case!0:return!0;case q0.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case q0.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case q0.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case q0.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case q0.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case q0.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),sQ=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return q0.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return q0.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return q0.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return q0.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return q0.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return q0.pki.certificateError.unknown_ca;default:return q0.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(l,a,f){var c=FI(l),u=e.verify(e,l,a,f);if(u!==!0){if(typeof u=="object"&&!q0.util.isArray(u)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(d.message=u.message),u.alert&&(d.alert.description=u.alert),d}u!==l&&(u=sQ(u))}return u},q0.pki.verifyCertificateChain(e.caStore,t,r)}catch(l){var s=l;(typeof s!="object"||q0.util.isArray(s))&&(s={send:!0,alert:{level:X.Alert.Level.fatal,description:FI(l)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:X.Alert.Level.fatal,description:FI(s.error)}),e.error(e,s)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var l=null,a=null;if(s?a=q0.util.bytesToHex(s):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){l=r.cache[a],delete r.cache[a];for(var f in r.order)if(r.order[f]===a){r.order.splice(f,1);break}}return l},r.setSession=function(s,l){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=q0.util.bytesToHex(s);r.order.push(a),r.cache[a]=l}}return r};X.createConnection=function(e){var t=null;e.caStore?q0.util.isArray(e.caStore)?t=q0.pki.createCaStore(e.caStore):t=e.caStore:t=q0.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var s=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,l=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:l,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,h,m,p){return h},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:q0.util.createBuffer(),tlsData:q0.util.createBuffer(),data:q0.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,h){h.origin=h.origin||(d.entity===X.ConnectionEnd.client?"client":"server"),h.send&&(X.queue(d,X.createAlert(d,h.alert)),X.flush(d));var m=h.fatal!==!1;m&&(d.fail=!0),e.error(d,h),m&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(d){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?jZ:JZ,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(d||typeof d>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var f=o(function(d,h){var m=h.type-X.ContentType.change_cipher_spec,p=UI[d.entity][d.expect];m in p?p[m](d,h):X.handleUnexpected(d,h)},"_update"),c=o(function(d){var h=0,m=d.input,p=m.length();if(p<5)h=5-p;else{d.record={type:m.getByte(),version:{major:m.getByte(),minor:m.getByte()},length:m.getInt16(),fragment:q0.util.createBuffer(),ready:!1};var v=d.record.version.major===d.version.major;v&&d.session&&d.session.version&&(v=d.record.version.minor===d.version.minor),v||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),u=o(function(d){var h=0,m=d.input,p=m.length();if(p<d.record.length)h=d.record.length-p;else{d.record.fragment.putBytes(m.getBytes(d.record.length)),m.compact();var v=d.state.current.read;v.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return a.handshake=function(d){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,d=d||"";var h=null;d.length>0&&(a.sessionCache&&(h=a.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&a.sessionCache&&(h=a.sessionCache.getSession(),h!==null&&(d=h.id)),a.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:q0.md.md5.create(),sha1:q0.md.sha1.create()},h&&(a.version=h.version,a.session.sp=h.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(d){var h=0;return d&&a.input.putBytes(d),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(h=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(h=u(a)),!a.fail&&a.record!==null&&a.record.ready&&f(a,a.record)),h},a.prepare=function(d){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:q0.util.createBuffer(d)})),X.flush(a)},a.prepareHeartbeatRequest=function(d,h){return d instanceof q0.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),a.expectedHeartbeatPayload=d,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,d,h)})),X.flush(a)},a.close=function(d){if(!a.fail&&a.sessionCache&&a.session){var h={id:a.session.id,version:a.session.version,sp:a.session.sp};h.sp.keys=null,a.sessionCache.setSession(h.id,h)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(d)},a};mO.exports=q0.tls=q0.tls||{};for(Jv in X)typeof X[Jv]!="function"&&(q0.tls[Jv]=X[Jv]);var Jv;q0.tls.prf_tls1=Zv;q0.tls.hmac_sha1=qZ;q0.tls.createSessionCache=X.createSessionCache;q0.tls.createConnection=X.createConnection});var vO=y0((K3e,yO)=>{var y3=dn();c3();qI();var Qf=yO.exports=y3.tls;Qf.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Qf.BulkCipherAlgorithm.aes,e.cipher_type=Qf.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Qf.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:pO};Qf.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Qf.BulkCipherAlgorithm.aes,e.cipher_type=Qf.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Qf.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:pO};function pO(e,t,r){var n=t.entity===y3.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:y3.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:y3.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=fQ,e.write.cipherFunction=oQ,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Qf.hmac_sha1}o(pO,"initConnectionState");function oQ(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===Qf.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=y3.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:s}),e.version.minor>=Qf.Versions.TLS_1_1.minor&&l.output.putBytes(s),l.update(e.fragment),l.finish(aQ)&&(e.fragment=l.output,e.length=e.fragment.length(),r=!0),r}o(oQ,"encrypt_aes_cbc_sha1");function aQ(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(aQ,"encrypt_aes_cbc_sha1_padding");function lQ(e,t,r){var n=!0;if(r){for(var s=t.length(),l=t.last(),a=s-1-l;a<s-1;++a)n=n&&t.at(a)==l;n&&t.truncate(l+1)}return n}o(lQ,"decrypt_aes_cbc_sha1_padding");function fQ(e,t){var r=!1,n;e.version.minor===Qf.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(lQ);var l=t.macLength,a=y3.random.getBytesSync(l),f=s.output.length();f>=l?(e.fragment=s.output.getBytes(f-l),a=s.output.getBytes(l)):e.fragment=s.output.getBytes(),e.fragment=y3.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=cQ(t.macKey,a,c)&&r,r}o(fQ,"decrypt_aes_cbc_sha1");function cQ(e,t,r){var n=y3.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(cQ,"compareMacs")});var jI=y0((Y3e,CO)=>{var Ss=dn();yc();Ki();var w7=CO.exports=Ss.sha512=Ss.sha512||{};Ss.md.sha512=Ss.md.algorithms.sha512=w7;var _O=Ss.sha384=Ss.sha512.sha384=Ss.sha512.sha384||{};_O.create=function(){return w7.create("SHA-384")};Ss.md.sha384=Ss.md.algorithms.sha384=_O;Ss.sha512.sha256=Ss.sha512.sha256||{create:function(){return w7.create("SHA-512/256")}};Ss.md["sha512/256"]=Ss.md.algorithms["sha512/256"]=Ss.sha512.sha256;Ss.sha512.sha224=Ss.sha512.sha224||{create:function(){return w7.create("SHA-512/224")}};Ss.md["sha512/224"]=Ss.md.algorithms["sha512/224"]=Ss.sha512.sha224;w7.create=function(e){if(bO||uQ(),typeof e>"u"&&(e="SHA-512"),!(e in Nd))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Nd[e],r=null,n=Ss.util.createBuffer(),s=new Array(80),l=0;l<80;++l)s[l]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var c=f.messageLengthSize/4,u=0;u<c;++u)f.fullMessageLength.push(0);n=Ss.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return f},f.start(),f.update=function(c,u){u==="utf8"&&(c=Ss.util.encodeUtf8(c));var d=c.length;f.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=f.fullMessageLength.length-1;h>=0;--h)f.fullMessageLength[h]+=d[1],d[1]=d[0]+(f.fullMessageLength[h]/4294967296>>>0),f.fullMessageLength[h]=f.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),xO(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),f},f.digest=function(){var c=Ss.util.createBuffer();c.putBytes(n.bytes());var u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,d=u&f.blockLength-1;c.putBytes($I.substr(0,f.blockLength-d));for(var h,m,p=f.fullMessageLength[0]*8,v=0;v<f.fullMessageLength.length-1;++v)h=f.fullMessageLength[v+1]*8,m=h/4294967296>>>0,p+=m,c.putInt32(p>>>0),p=h>>>0;c.putInt32(p);for(var x=new Array(r.length),v=0;v<r.length;++v)x[v]=r[v].slice(0);xO(x,s,c);var E=Ss.util.createBuffer(),I;e==="SHA-512"?I=x.length:e==="SHA-384"?I=x.length-2:I=x.length-4;for(var v=0;v<I;++v)E.putInt32(x[v][0]),(v!==I-1||e!=="SHA-512/224")&&E.putInt32(x[v][1]);return E},f};var $I=null,bO=!1,HI=null,Nd=null;function uQ(){$I="\x80",$I+=Ss.util.fillString("\0",128),HI=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Nd={},Nd["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Nd["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Nd["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Nd["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],bO=!0}o(uQ,"_init");function xO(e,t,r){for(var n,s,l,a,f,c,u,d,h,m,p,v,x,E,I,P,L,F,B,V,de,ve,n0,d0,r0,m0,$e,we,o0,u0,l0,N0,t0,f0,ce,Se=r.length();Se>=128;){for(o0=0;o0<16;++o0)t[o0][0]=r.getInt32()>>>0,t[o0][1]=r.getInt32()>>>0;for(;o0<80;++o0)N0=t[o0-2],u0=N0[0],l0=N0[1],n=((u0>>>19|l0<<13)^(l0>>>29|u0<<3)^u0>>>6)>>>0,s=((u0<<13|l0>>>19)^(l0<<3|u0>>>29)^(u0<<26|l0>>>6))>>>0,f0=t[o0-15],u0=f0[0],l0=f0[1],l=((u0>>>1|l0<<31)^(u0>>>8|l0<<24)^u0>>>7)>>>0,a=((u0<<31|l0>>>1)^(u0<<24|l0>>>8)^(u0<<25|l0>>>7))>>>0,t0=t[o0-7],ce=t[o0-16],l0=s+t0[1]+a+ce[1],t[o0][0]=n+t0[0]+l+ce[0]+(l0/4294967296>>>0)>>>0,t[o0][1]=l0>>>0;for(x=e[0][0],E=e[0][1],I=e[1][0],P=e[1][1],L=e[2][0],F=e[2][1],B=e[3][0],V=e[3][1],de=e[4][0],ve=e[4][1],n0=e[5][0],d0=e[5][1],r0=e[6][0],m0=e[6][1],$e=e[7][0],we=e[7][1],o0=0;o0<80;++o0)u=((de>>>14|ve<<18)^(de>>>18|ve<<14)^(ve>>>9|de<<23))>>>0,d=((de<<18|ve>>>14)^(de<<14|ve>>>18)^(ve<<23|de>>>9))>>>0,h=(r0^de&(n0^r0))>>>0,m=(m0^ve&(d0^m0))>>>0,f=((x>>>28|E<<4)^(E>>>2|x<<30)^(E>>>7|x<<25))>>>0,c=((x<<4|E>>>28)^(E<<30|x>>>2)^(E<<25|x>>>7))>>>0,p=(x&I|L&(x^I))>>>0,v=(E&P|F&(E^P))>>>0,l0=we+d+m+HI[o0][1]+t[o0][1],n=$e+u+h+HI[o0][0]+t[o0][0]+(l0/4294967296>>>0)>>>0,s=l0>>>0,l0=c+v,l=f+p+(l0/4294967296>>>0)>>>0,a=l0>>>0,$e=r0,we=m0,r0=n0,m0=d0,n0=de,d0=ve,l0=V+s,de=B+n+(l0/4294967296>>>0)>>>0,ve=l0>>>0,B=L,V=F,L=I,F=P,I=x,P=E,l0=s+a,x=n+l+(l0/4294967296>>>0)>>>0,E=l0>>>0;l0=e[0][1]+E,e[0][0]=e[0][0]+x+(l0/4294967296>>>0)>>>0,e[0][1]=l0>>>0,l0=e[1][1]+P,e[1][0]=e[1][0]+I+(l0/4294967296>>>0)>>>0,e[1][1]=l0>>>0,l0=e[2][1]+F,e[2][0]=e[2][0]+L+(l0/4294967296>>>0)>>>0,e[2][1]=l0>>>0,l0=e[3][1]+V,e[3][0]=e[3][0]+B+(l0/4294967296>>>0)>>>0,e[3][1]=l0>>>0,l0=e[4][1]+ve,e[4][0]=e[4][0]+de+(l0/4294967296>>>0)>>>0,e[4][1]=l0>>>0,l0=e[5][1]+d0,e[5][0]=e[5][0]+n0+(l0/4294967296>>>0)>>>0,e[5][1]=l0>>>0,l0=e[6][1]+m0,e[6][0]=e[6][0]+r0+(l0/4294967296>>>0)>>>0,e[6][1]=l0>>>0,l0=e[7][1]+we,e[7][0]=e[7][0]+$e+(l0/4294967296>>>0)>>>0,e[7][1]=l0>>>0,Se-=128}}o(xO,"_update")});var EO=y0(VI=>{var dQ=dn();R1();var Ba=dQ.asn1;VI.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};VI.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ba.Class.UNIVERSAL,type:Ba.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var FO=y0((Z3e,LO)=>{var Qa=dn();E7();Wf();jI();Ki();var PO=EO(),hQ=PO.publicKeyValidator,gQ=PO.privateKeyValidator;typeof TO>"u"&&(TO=Qa.jsbn.BigInteger);var TO,KI=Qa.util.ByteBuffer,Wl=typeof Buffer>"u"?Uint8Array:Buffer;Qa.pki=Qa.pki||{};LO.exports=Qa.pki.ed25519=Qa.ed25519=Qa.ed25519||{};var ki=Qa.ed25519;ki.constants={};ki.constants.PUBLIC_KEY_BYTE_LENGTH=32;ki.constants.PRIVATE_KEY_BYTE_LENGTH=64;ki.constants.SEED_BYTE_LENGTH=32;ki.constants.SIGN_BYTE_LENGTH=64;ki.constants.HASH_BYTE_LENGTH=64;ki.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Qa.random.getBytesSync(ki.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==ki.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ki.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Mu({message:t,encoding:"binary"});for(var r=new Wl(ki.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Wl(ki.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return vQ(r,n),{publicKey:r,privateKey:n}};ki.privateKeyFromAsn1=function(e){var t={},r=[],n=Qa.asn1.validate(e,gQ,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=Qa.asn1.derToOid(t.privateKeyOid),a=Qa.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.privateKey,c=Mu({message:Qa.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:c}};ki.publicKeyFromAsn1=function(e){var t={},r=[],n=Qa.asn1.validate(e,hQ,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=Qa.asn1.derToOid(t.publicKeyOid),a=Qa.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.ed25519PublicKey;if(f.length!==ki.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Mu({message:f,encoding:"binary"})};ki.publicKeyFromPrivateKey=function(e){e=e||{};var t=Mu({message:e.privateKey,encoding:"binary"});if(t.length!==ki.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ki.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Wl(ki.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};ki.sign=function(e){e=e||{};var t=Mu(e),r=Mu({message:e.privateKey,encoding:"binary"});if(r.length===ki.constants.SEED_BYTE_LENGTH){var n=ki.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==ki.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ki.constants.SEED_BYTE_LENGTH+" or "+ki.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new Wl(ki.constants.SIGN_BYTE_LENGTH+t.length);xQ(s,t,t.length,r);for(var l=new Wl(ki.constants.SIGN_BYTE_LENGTH),a=0;a<l.length;++a)l[a]=s[a];return l};ki.verify=function(e){e=e||{};var t=Mu(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Mu({message:e.signature,encoding:"binary"});if(r.length!==ki.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ki.constants.SIGN_BYTE_LENGTH);var n=Mu({message:e.publicKey,encoding:"binary"});if(n.length!==ki.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ki.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new Wl(ki.constants.SIGN_BYTE_LENGTH+t.length),l=new Wl(ki.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<ki.constants.SIGN_BYTE_LENGTH;++a)s[a]=r[a];for(a=0;a<t.length;++a)s[a+ki.constants.SIGN_BYTE_LENGTH]=t[a];return _Q(l,s,s.length,n)>=0};function Mu(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Wl)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new KI(t,r)}else if(!(t instanceof KI))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Wl(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}o(Mu,"messageToNativeBuffer");var WI=Rr(),Qv=Rr([1]),mQ=Rr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),pQ=Rr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),SO=Rr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),IO=Rr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),zI=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),yQ=Rr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A7(e,t){var r=Qa.md.sha512.create(),n=new KI(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var l=new Wl(ki.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)l[a]=s.charCodeAt(a);return l}o(A7,"sha512");function vQ(e,t){var r=[Rr(),Rr(),Rr(),Rr()],n,s=A7(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,ZI(r,s),XI(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(vQ,"crypto_sign_keypair");function xQ(e,t,r,n){var s,l,a=new Float64Array(64),f=[Rr(),Rr(),Rr(),Rr()],c=A7(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=c[32+s];var d=A7(e.subarray(32),r+32);for(YI(d),ZI(f,d),XI(e,f),s=32;s<64;++s)e[s]=n[s];var h=A7(e,r+64);for(YI(h),s=32;s<64;++s)a[s]=0;for(s=0;s<32;++s)a[s]=d[s];for(s=0;s<32;++s)for(l=0;l<32;l++)a[s+l]+=h[s]*c[l];return RO(e.subarray(32),a),u}o(xQ,"crypto_sign");function _Q(e,t,r,n){var s,l,a=new Wl(32),f=[Rr(),Rr(),Rr(),Rr()],c=[Rr(),Rr(),Rr(),Rr()];if(l=-1,r<64||bQ(c,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var u=A7(e,r);if(YI(u),DO(f,c,u),ZI(c,t.subarray(32)),JI(f,c),XI(a,f),r-=64,NO(t,0,a,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return l=r,l}o(_Q,"crypto_sign_open");function RO(e,t){var r,n,s,l;for(n=63;n>=32;--n){for(r=0,s=n-32,l=n-12;s<l;++s)t[s]+=r-16*t[n]*zI[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*zI[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*zI[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(RO,"modL");function YI(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;RO(e,t)}o(YI,"reduce");function JI(e,t){var r=Rr(),n=Rr(),s=Rr(),l=Rr(),a=Rr(),f=Rr(),c=Rr(),u=Rr(),d=Rr();b6(r,e[1],e[0]),b6(d,t[1],t[0]),ys(r,r,d),_6(n,e[0],e[1]),_6(d,t[0],t[1]),ys(n,n,d),ys(s,e[3],t[3]),ys(s,s,pQ),ys(l,e[2],t[2]),_6(l,l,l),b6(a,n,r),b6(f,l,s),_6(c,l,s),_6(u,n,r),ys(e[0],a,f),ys(e[1],u,c),ys(e[2],c,f),ys(e[3],a,u)}o(JI,"add");function wO(e,t,r){for(var n=0;n<4;++n)BO(e[n],t[n],r)}o(wO,"cswap");function XI(e,t){var r=Rr(),n=Rr(),s=Rr();SQ(s,t[2]),ys(r,t[0],s),ys(n,t[1],s),ex(e,n),e[31]^=kO(r)<<7}o(XI,"pack");function ex(e,t){var r,n,s,l=Rr(),a=Rr();for(r=0;r<16;++r)a[r]=t[r];for(GI(a),GI(a),GI(a),n=0;n<2;++n){for(l[0]=a[0]-65517,r=1;r<15;++r)l[r]=a[r]-65535-(l[r-1]>>16&1),l[r-1]&=65535;l[15]=a[15]-32767-(l[14]>>16&1),s=l[15]>>16&1,l[14]&=65535,BO(a,l,1-s)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(ex,"pack25519");function bQ(e,t){var r=Rr(),n=Rr(),s=Rr(),l=Rr(),a=Rr(),f=Rr(),c=Rr();return v3(e[2],Qv),CQ(e[1],t),kd(s,e[1]),ys(l,s,mQ),b6(s,s,e[2]),_6(l,e[2],l),kd(a,l),kd(f,a),ys(c,f,a),ys(r,c,s),ys(r,r,l),EQ(r,r),ys(r,r,s),ys(r,r,l),ys(r,r,l),ys(e[0],r,l),kd(n,e[0]),ys(n,n,l),AO(n,s)&&ys(e[0],e[0],yQ),kd(n,e[0]),ys(n,n,l),AO(n,s)?-1:(kO(e[0])===t[31]>>7&&b6(e[0],WI,e[0]),ys(e[3],e[0],e[1]),0)}o(bQ,"unpackneg");function CQ(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(CQ,"unpack25519");function EQ(e,t){var r=Rr(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)kd(r,r),n!==1&&ys(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(EQ,"pow2523");function AO(e,t){var r=new Wl(32),n=new Wl(32);return ex(r,e),ex(n,t),NO(r,0,n,0)}o(AO,"neq25519");function NO(e,t,r,n){return TQ(e,t,r,n,32)}o(NO,"crypto_verify_32");function TQ(e,t,r,n,s){var l,a=0;for(l=0;l<s;++l)a|=e[t+l]^r[n+l];return(1&a-1>>>8)-1}o(TQ,"vn");function kO(e){var t=new Wl(32);return ex(t,e),t[0]&1}o(kO,"par25519");function DO(e,t,r){var n,s;for(v3(e[0],WI),v3(e[1],Qv),v3(e[2],Qv),v3(e[3],WI),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,wO(e,t,n),JI(t,e),JI(e,e),wO(e,t,n)}o(DO,"scalarmult");function ZI(e,t){var r=[Rr(),Rr(),Rr(),Rr()];v3(r[0],SO),v3(r[1],IO),v3(r[2],Qv),ys(r[3],SO,IO),DO(e,r,t)}o(ZI,"scalarbase");function v3(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(v3,"set25519");function SQ(e,t){var r=Rr(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)kd(r,r),n!==2&&n!==4&&ys(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(SQ,"inv25519");function GI(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(GI,"car25519");function BO(e,t,r){for(var n,s=~(r-1),l=0;l<16;++l)n=s&(e[l]^t[l]),e[l]^=n,t[l]^=n}o(BO,"sel25519");function Rr(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(Rr,"gf");function _6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(_6,"A");function b6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(b6,"Z");function kd(e,t){ys(e,t,t)}o(kd,"S");function ys(e,t,r){var n,s,l=0,a=0,f=0,c=0,u=0,d=0,h=0,m=0,p=0,v=0,x=0,E=0,I=0,P=0,L=0,F=0,B=0,V=0,de=0,ve=0,n0=0,d0=0,r0=0,m0=0,$e=0,we=0,o0=0,u0=0,l0=0,N0=0,t0=0,f0=r[0],ce=r[1],Se=r[2],C0=r[3],z0=r[4],O0=r[5],v0=r[6],Jt=r[7],ue=r[8],B0=r[9],Ve=r[10],L0=r[11],D0=r[12],G0=r[13],hr=r[14],Vr=r[15];n=t[0],l+=n*f0,a+=n*ce,f+=n*Se,c+=n*C0,u+=n*z0,d+=n*O0,h+=n*v0,m+=n*Jt,p+=n*ue,v+=n*B0,x+=n*Ve,E+=n*L0,I+=n*D0,P+=n*G0,L+=n*hr,F+=n*Vr,n=t[1],a+=n*f0,f+=n*ce,c+=n*Se,u+=n*C0,d+=n*z0,h+=n*O0,m+=n*v0,p+=n*Jt,v+=n*ue,x+=n*B0,E+=n*Ve,I+=n*L0,P+=n*D0,L+=n*G0,F+=n*hr,B+=n*Vr,n=t[2],f+=n*f0,c+=n*ce,u+=n*Se,d+=n*C0,h+=n*z0,m+=n*O0,p+=n*v0,v+=n*Jt,x+=n*ue,E+=n*B0,I+=n*Ve,P+=n*L0,L+=n*D0,F+=n*G0,B+=n*hr,V+=n*Vr,n=t[3],c+=n*f0,u+=n*ce,d+=n*Se,h+=n*C0,m+=n*z0,p+=n*O0,v+=n*v0,x+=n*Jt,E+=n*ue,I+=n*B0,P+=n*Ve,L+=n*L0,F+=n*D0,B+=n*G0,V+=n*hr,de+=n*Vr,n=t[4],u+=n*f0,d+=n*ce,h+=n*Se,m+=n*C0,p+=n*z0,v+=n*O0,x+=n*v0,E+=n*Jt,I+=n*ue,P+=n*B0,L+=n*Ve,F+=n*L0,B+=n*D0,V+=n*G0,de+=n*hr,ve+=n*Vr,n=t[5],d+=n*f0,h+=n*ce,m+=n*Se,p+=n*C0,v+=n*z0,x+=n*O0,E+=n*v0,I+=n*Jt,P+=n*ue,L+=n*B0,F+=n*Ve,B+=n*L0,V+=n*D0,de+=n*G0,ve+=n*hr,n0+=n*Vr,n=t[6],h+=n*f0,m+=n*ce,p+=n*Se,v+=n*C0,x+=n*z0,E+=n*O0,I+=n*v0,P+=n*Jt,L+=n*ue,F+=n*B0,B+=n*Ve,V+=n*L0,de+=n*D0,ve+=n*G0,n0+=n*hr,d0+=n*Vr,n=t[7],m+=n*f0,p+=n*ce,v+=n*Se,x+=n*C0,E+=n*z0,I+=n*O0,P+=n*v0,L+=n*Jt,F+=n*ue,B+=n*B0,V+=n*Ve,de+=n*L0,ve+=n*D0,n0+=n*G0,d0+=n*hr,r0+=n*Vr,n=t[8],p+=n*f0,v+=n*ce,x+=n*Se,E+=n*C0,I+=n*z0,P+=n*O0,L+=n*v0,F+=n*Jt,B+=n*ue,V+=n*B0,de+=n*Ve,ve+=n*L0,n0+=n*D0,d0+=n*G0,r0+=n*hr,m0+=n*Vr,n=t[9],v+=n*f0,x+=n*ce,E+=n*Se,I+=n*C0,P+=n*z0,L+=n*O0,F+=n*v0,B+=n*Jt,V+=n*ue,de+=n*B0,ve+=n*Ve,n0+=n*L0,d0+=n*D0,r0+=n*G0,m0+=n*hr,$e+=n*Vr,n=t[10],x+=n*f0,E+=n*ce,I+=n*Se,P+=n*C0,L+=n*z0,F+=n*O0,B+=n*v0,V+=n*Jt,de+=n*ue,ve+=n*B0,n0+=n*Ve,d0+=n*L0,r0+=n*D0,m0+=n*G0,$e+=n*hr,we+=n*Vr,n=t[11],E+=n*f0,I+=n*ce,P+=n*Se,L+=n*C0,F+=n*z0,B+=n*O0,V+=n*v0,de+=n*Jt,ve+=n*ue,n0+=n*B0,d0+=n*Ve,r0+=n*L0,m0+=n*D0,$e+=n*G0,we+=n*hr,o0+=n*Vr,n=t[12],I+=n*f0,P+=n*ce,L+=n*Se,F+=n*C0,B+=n*z0,V+=n*O0,de+=n*v0,ve+=n*Jt,n0+=n*ue,d0+=n*B0,r0+=n*Ve,m0+=n*L0,$e+=n*D0,we+=n*G0,o0+=n*hr,u0+=n*Vr,n=t[13],P+=n*f0,L+=n*ce,F+=n*Se,B+=n*C0,V+=n*z0,de+=n*O0,ve+=n*v0,n0+=n*Jt,d0+=n*ue,r0+=n*B0,m0+=n*Ve,$e+=n*L0,we+=n*D0,o0+=n*G0,u0+=n*hr,l0+=n*Vr,n=t[14],L+=n*f0,F+=n*ce,B+=n*Se,V+=n*C0,de+=n*z0,ve+=n*O0,n0+=n*v0,d0+=n*Jt,r0+=n*ue,m0+=n*B0,$e+=n*Ve,we+=n*L0,o0+=n*D0,u0+=n*G0,l0+=n*hr,N0+=n*Vr,n=t[15],F+=n*f0,B+=n*ce,V+=n*Se,de+=n*C0,ve+=n*z0,n0+=n*O0,d0+=n*v0,r0+=n*Jt,m0+=n*ue,$e+=n*B0,we+=n*Ve,o0+=n*L0,u0+=n*D0,l0+=n*G0,N0+=n*hr,t0+=n*Vr,l+=38*B,a+=38*V,f+=38*de,c+=38*ve,u+=38*n0,d+=38*d0,h+=38*r0,m+=38*m0,p+=38*$e,v+=38*we,x+=38*o0,E+=38*u0,I+=38*l0,P+=38*N0,L+=38*t0,s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=I+s+65535,s=Math.floor(n/65536),I=n-s*65536,n=P+s+65535,s=Math.floor(n/65536),P=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,n=F+s+65535,s=Math.floor(n/65536),F=n-s*65536,l+=s-1+37*(s-1),s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=I+s+65535,s=Math.floor(n/65536),I=n-s*65536,n=P+s+65535,s=Math.floor(n/65536),P=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,n=F+s+65535,s=Math.floor(n/65536),F=n-s*65536,l+=s-1+37*(s-1),e[0]=l,e[1]=a,e[2]=f,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=m,e[8]=p,e[9]=v,e[10]=x,e[11]=E,e[12]=I,e[13]=P,e[14]=L,e[15]=F}o(ys,"M")});var qO=y0((e2e,UO)=>{var _f=dn();Ki();Wf();E7();UO.exports=_f.kem=_f.kem||{};var OO=_f.jsbn.BigInteger;_f.kem.rsa={};_f.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||_f.random,n={};return n.encrypt=function(s,l){var a=Math.ceil(s.n.bitLength()/8),f;do f=new OO(_f.util.bytesToHex(r.getBytesSync(a)),16).mod(s.n);while(f.compareTo(OO.ONE)<=0);f=_f.util.hexToBytes(f.toString(16));var c=a-f.length;c>0&&(f=_f.util.fillString("\0",c)+f);var u=s.encrypt(f,"NONE"),d=e.generate(f,l);return{encapsulation:u,key:d}},n.decrypt=function(s,l,a){var f=s.decrypt(l,"NONE");return e.generate(f,a)},n};_f.kem.kdf1=function(e,t){MO(this,e,0,t||e.digestLength)};_f.kem.kdf2=function(e,t){MO(this,e,1,t||e.digestLength)};function MO(e,t,r,n){e.generate=function(s,l){for(var a=new _f.util.ByteBuffer,f=Math.ceil(l/n)+r,c=new _f.util.ByteBuffer,u=r;u<f;++u){c.putInt32(u),t.start(),t.update(s+c.getBytes());var d=t.digest();a.putBytes(d.getBytes(n))}return a.truncate(a.length()-l),a.getBytes()}}o(MO,"_createKDF")});var VO=y0((r2e,jO)=>{var Fi=dn();Ki();jO.exports=Fi.log=Fi.log||{};Fi.log.levels=["none","error","warning","info","debug","verbose","max"];var tx={},tw=[],R7=null;Fi.log.LEVEL_LOCKED=2;Fi.log.NO_LEVEL_CHECK=4;Fi.log.INTERPOLATE=8;for(Sc=0;Sc<Fi.log.levels.length;++Sc)QI=Fi.log.levels[Sc],tx[QI]={index:Sc,name:QI.toUpperCase()};var QI,Sc;Fi.log.logMessage=function(e){for(var t=tx[e.level].index,r=0;r<tw.length;++r){var n=tw[r];if(n.flags&Fi.log.NO_LEVEL_CHECK)n.f(e);else{var s=tx[n.level].index;t<=s&&n.f(n,e)}}};Fi.log.prepareStandard=function(e){"standard"in e||(e.standard=tx[e.level].name+" ["+e.category+"] "+e.message)};Fi.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Fi.util.format.apply(this,t)}};Fi.log.prepareStandardFull=function(e){"standardFull"in e||(Fi.log.prepareStandard(e),e.standardFull=e.standard)};for(ew=["error","warning","info","debug","verbose"],Sc=0;Sc<ew.length;++Sc)(function(t){Fi.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),l={timestamp:new Date,level:t,category:r,message:n,arguments:s};Fi.log.logMessage(l)}})(ew[Sc]);var ew,Sc;Fi.log.makeLogger=function(e){var t={flags:0,f:e};return Fi.log.setLevel(t,"none"),t};Fi.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Fi.log.LEVEL_LOCKED))for(var n=0;n<Fi.log.levels.length;++n){var s=Fi.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};Fi.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Fi.log.LEVEL_LOCKED:e.flags&=~Fi.log.LEVEL_LOCKED};Fi.log.addLogger=function(e){tw.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?($O={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},N7=o(function(e,t){Fi.log.prepareStandard(t);var r=$O[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),C6=Fi.log.makeLogger(N7)):(N7=o(function(t,r){Fi.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),C6=Fi.log.makeLogger(N7)),Fi.log.setLevel(C6,"debug"),Fi.log.addLogger(C6),R7=C6):console={log:function(){}};var C6,$O,N7;R7!==null&&typeof window<"u"&&window.location&&(P7=new URL(window.location.href).searchParams,P7.has("console.level")&&Fi.log.setLevel(R7,P7.get("console.level").slice(-1)[0]),P7.has("console.lock")&&(HO=P7.get("console.lock").slice(-1)[0],HO=="true"&&Fi.log.lock(R7)));var P7,HO;Fi.log.consoleLogger=R7});var GO=y0((i2e,zO)=>{zO.exports=yc();Bv();m6();gI();jI()});var YO=y0((s2e,WO)=>{var J0=dn();c3();R1();b7();u3();Sd();AI();Wf();Ki();Wv();var e0=J0.asn1,Il=WO.exports=J0.pkcs7=J0.pkcs7||{};Il.messageFromPem=function(e){var t=J0.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=e0.fromDer(t.body);return Il.messageFromAsn1(n)};Il.messageToPem=function(e,t){var r={type:"PKCS7",body:e0.toDer(e.toAsn1()).getBytes()};return J0.pem.encode(r,{maxline:t})};Il.messageFromAsn1=function(e){var t={},r=[];if(!e0.validate(e,Il.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=e0.derToOid(t.contentType),l;switch(s){case J0.pki.oids.envelopedData:l=Il.createEnvelopedData();break;case J0.pki.oids.encryptedData:l=Il.createEncryptedData();break;case J0.pki.oids.signedData:l=Il.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return l.fromAsn1(t.content.value[0]),l};Il.createSignedData=function(){var e=null;return e={type:J0.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(nw(e,n,Il.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,l=0;l<s.length;++l)e.certificates.push(J0.pki.certificateFromAsn1(s[l]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(J0.pki.certificateToAsn1(e.certificates[s]));var l=[],a=e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,n)),l.length>0&&a.value[0].value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,1,!0,l)),a.value[0].value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,e.signerInfos)),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var s=n.issuer,l=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=J0.pki.certificateFromPem(a)),s=a.issuer.attributes,l=a.serialNumber}var f=n.key;if(!f)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof f=="string"&&(f=J0.pki.privateKeyFromPem(f));var c=n.digestAlgorithm||J0.pki.oids.sha1;switch(c){case J0.pki.oids.sha1:case J0.pki.oids.sha256:case J0.pki.oids.sha384:case J0.pki.oids.sha512:case J0.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var d=!1,h=!1,m=0;m<u.length;++m){var p=u[m];if(!d&&p.type===J0.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&p.type===J0.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:f,version:1,issuer:s,serialNumber:l,digestAlgorithm:c,signatureAlgorithm:J0.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(J0.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof J0.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=J0.util.encodeUtf8(e.content)),n.detached?e.detachedContent=e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var l=t();r(l)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=J0.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var l=e.signers[s],a=l.digestAlgorithm;a in n||(n[a]=J0.md[J0.pki.oids[a]].create()),l.authenticatedAttributes.length===0?l.md=n[a]:l.md=J0.md[J0.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(a).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var l=e0.derToOid(e.contentInfo.value[0].value),a=e0.toDer(s);a.getByte(),e0.getBerValueLength(a),a=a.getBytes();for(var f in n)n[f].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var d=e.signers[u];if(d.authenticatedAttributes.length===0){if(l!==J0.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,[]),m=0;m<d.authenticatedAttributes.length;++m){var p=d.authenticatedAttributes[m];p.type===J0.pki.oids.messageDigest?p.value=n[d.digestAlgorithm].digest():p.type===J0.pki.oids.signingTime&&(p.value||(p.value=c)),h.value.push(rw(p)),d.authenticatedAttributesAsn1.value.push(rw(p))}a=e0.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=NQ(e.signers)}o(r,"addSignerInfos")};Il.createEncryptedData=function(){var e=null;return e={type:J0.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:J0.pki.oids["aes256-CBC"]},fromAsn1:function(t){nw(e,t,Il.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),KO(e)}},e};Il.createEnvelopedData=function(){var e=null;return e={type:J0.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:J0.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=nw(e,t,Il.asn1.envelopedDataValidator);e.recipients=AQ(r.recipientInfos.value)},toAsn1:function(){return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,PQ(e.recipients)),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,kQ(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],l=s.issuer;if(s.serialNumber===t.serialNumber&&l.length===r.length){for(var a=!0,f=0;f<r.length;++f)if(l[f].type!==r[f].type||l[f].value!==r[f].value){a=!1;break}if(a)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case J0.pki.oids.rsaEncryption:case J0.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=J0.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}KO(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:J0.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,l;switch(r){case J0.pki.oids["aes128-CBC"]:n=16,s=16,l=J0.aes.createEncryptionCipher;break;case J0.pki.oids["aes192-CBC"]:n=24,s=16,l=J0.aes.createEncryptionCipher;break;case J0.pki.oids["aes256-CBC"]:n=32,s=16,l=J0.aes.createEncryptionCipher;break;case J0.pki.oids["des-EDE3-CBC"]:n=24,s=8,l=J0.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=J0.util.createBuffer(J0.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=J0.util.createBuffer(J0.random.getBytes(s));var a=l(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var f=0;f<e.recipients.length;++f){var c=e.recipients[f];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case J0.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function IQ(e){var t={},r=[];if(!e0.validate(e,Il.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:J0.pki.RDNAttributesAsArray(t.issuer),serialNumber:J0.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:e0.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(IQ,"_recipientFromAsn1");function wQ(e){return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[J0.pki.distinguishedNameToAsn1({attributes:e.issuer}),e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,J0.util.hexToBytes(e.serialNumber))]),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.encryptedContent.algorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")]),e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(wQ,"_recipientToAsn1");function AQ(e){for(var t=[],r=0;r<e.length;++r)t.push(IQ(e[r]));return t}o(AQ,"_recipientsFromAsn1");function PQ(e){for(var t=[],r=0;r<e.length;++r)t.push(wQ(e[r]));return t}o(PQ,"_recipientsToAsn1");function RQ(e){var t=e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[J0.pki.distinguishedNameToAsn1({attributes:e.issuer}),e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,J0.util.hexToBytes(e.serialNumber))]),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.digestAlgorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.signatureAlgorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")])),t.value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=e0.create(e0.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(rw(s))}t.value.push(r)}return t}o(RQ,"_signerToAsn1");function NQ(e){for(var t=[],r=0;r<e.length;++r)t.push(RQ(e[r]));return t}o(NQ,"_signersToAsn1");function rw(e){var t;if(e.type===J0.pki.oids.contentType)t=e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.value).getBytes());else if(e.type===J0.pki.oids.messageDigest)t=e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===J0.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var l=Date.parse(s);isNaN(l)?s.length===13?s=e0.utcTimeToDate(s):s=e0.generalizedTimeToDate(s):s=new Date(l)}s>=r&&s<n?t=e0.create(e0.Class.UNIVERSAL,e0.Type.UTCTIME,!1,e0.dateToUtcTime(s)):t=e0.create(e0.Class.UNIVERSAL,e0.Type.GENERALIZEDTIME,!1,e0.dateToGeneralizedTime(s))}return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,[t])])}o(rw,"_attributeToAsn1");function kQ(e){return[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(J0.pki.oids.data).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.algorithm).getBytes()),e.parameter?e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(kQ,"_encryptedContentToAsn1");function nw(e,t,r){var n={},s=[];if(!e0.validate(t,r,n,s)){var l=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw l.errors=l,l}var a=e0.derToOid(n.contentType);if(a!==J0.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var f="";if(J0.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==e0.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");f+=n.encryptedContent[c].value}else f=n.encryptedContent;e.encryptedContent={algorithm:e0.derToOid(n.encAlgorithm),parameter:J0.util.createBuffer(n.encParameter.value),content:J0.util.createBuffer(f)}}if(n.content){var f="";if(J0.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==e0.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=n.content[c].value}else f=n.content;e.content=J0.util.createBuffer(f)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(nw,"_fromAsn1");function KO(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case J0.pki.oids["aes128-CBC"]:case J0.pki.oids["aes192-CBC"]:case J0.pki.oids["aes256-CBC"]:t=J0.aes.createDecryptionCipher(e.encryptedContent.key);break;case J0.pki.oids.desCBC:case J0.pki.oids["des-EDE3-CBC"]:t=J0.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(KO,"_decryptContent")});var XO=y0((a2e,JO)=>{var ua=dn();c3();u6();Bv();m6();Ki();var nx=JO.exports=ua.ssh=ua.ssh||{};nx.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: "+n+`\r
`;l+="Encryption: "+s+`\r
`,l+="Comment: "+r+`\r
`;var a=ua.util.createBuffer();E6(a,n),Ic(a,e.e),Ic(a,e.n);var f=ua.util.encode64(a.bytes(),64),c=Math.floor(f.length/66)+1;l+="Public-Lines: "+c+`\r
`,l+=f;var u=ua.util.createBuffer();Ic(u,e.d),Ic(u,e.p),Ic(u,e.q),Ic(u,e.qInv);var d;if(!t)d=ua.util.encode64(u.bytes(),64);else{var h=u.length()+16-1;h-=h%16;var m=rx(u.bytes());m.truncate(m.length()-h+u.length()),u.putBuffer(m);var p=ua.util.createBuffer();p.putBuffer(rx("\0\0\0\0",t)),p.putBuffer(rx("\0\0\0",t));var v=ua.aes.createEncryptionCipher(p.truncate(8),"CBC");v.start(ua.util.createBuffer().fillWithByte(0,16)),v.update(u.copy()),v.finish();var x=v.output;x.truncate(16),d=ua.util.encode64(x.bytes(),64)}c=Math.floor(d.length/66)+1,l+=`\r
Private-Lines: `+c+`\r
`,l+=d;var E=rx("putty-private-key-file-mac-key",t),I=ua.util.createBuffer();E6(I,n),E6(I,s),E6(I,r),I.putInt32(a.length()),I.putBuffer(a),I.putInt32(u.length()),I.putBuffer(u);var P=ua.hmac.create();return P.start("sha1",E),P.update(I.bytes()),l+=`\r
Private-MAC: `+P.digest().toHex()+`\r
`,l};nx.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=ua.util.createBuffer();return E6(n,r),Ic(n,e.e),Ic(n,e.n),r+" "+ua.util.encode64(n.bytes())+" "+t};nx.privateKeyToOpenSSH=function(e,t){return t?ua.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):ua.pki.privateKeyToPem(e)};nx.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||ua.md.md5.create(),n="ssh-rsa",s=ua.util.createBuffer();E6(s,n),Ic(s,e.e),Ic(s,e.n),r.start(),r.update(s.getBytes());var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};function Ic(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=ua.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(Ic,"_addBigIntegerToBuffer");function E6(e,t){e.putInt32(t.length),e.putString(t)}o(E6,"_addStringToBuffer");function rx(){for(var e=ua.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(rx,"_sha1")});var QO=y0((f2e,ZO)=>{ZO.exports=dn();c3();vO();R1();wv();b7();FO();u6();qO();VO();GO();PI();Mv();Sd();EI();kI();YO();BI();SI();mI();zv();Wf();vI();XO();qI();Ki()});var eM=y0((c2e,DQ)=>{DQ.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var nM=y0((u2e,iw)=>{var sx=QO(),tM=eM(),ix=iw.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function rM(e){let t=sx.pki.pemToDer(e),r=sx.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,s=n[0],l=s.tagClass===r.Class.CONTEXT_SPECIFIC&&s.type===0&&s.constructed,a=n.slice(l);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(rM,"myASN");function BQ(e){let t=rM(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),s=t.valid.value.map(a=>a.value).join(" - "),l=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${s}`,`Saved	${r.toLocaleDateString()} ${l} by ${tM.name}@${tM.version}`,String(e)].join(`
`)}o(BQ,"txtFormat");iw.exports.transform=function(e){return function(t){try{switch(e){case ix.der:return sx.pki.pemToDer(t);case ix.pem:return t;case ix.txt:return BQ(t);case ix.asn1:return rM(t);default:return sx.pki.certificateFromPem(t)}}catch{return}}}});var iM=y0((h2e,T6)=>{var sw=require("https"),ow=nM();if(process.platform!=="darwin")T6.exports.all=()=>[],T6.exports.each=()=>{};else{let f=function(u,d,h){return h.indexOf(u)===d};LQ=f,o(f,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],s=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),l=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);sw.globalAgent.options.ca=sw.globalAgent.options.ca||[];let a=sw.globalAgent.options.ca,c=s.concat(l);c.filter(f).forEach(u=>a.push(u)),T6.exports.der2=ow.validFormats,T6.exports.all=function(u){return c.map(ow.transform(u)).filter(d=>d)},T6.exports.each=function(u,d){return typeof u=="function"&&(d=u,u=void 0),c.map(ow.transform(u)).filter(h=>h).forEach(d)}}var LQ});var sM=y0((m2e,aw)=>{function FQ(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),s=[],l=new n.Crypt32;try{let a;for(;a=l.next();){let f=new e(a);s.push(f.toString())}}finally{l.done()}return Array.from(new Set(s))}o(FQ,"all");process.platform!=="win32"?aw.exports.all=()=>[]:aw.exports.all=FQ});var uM=y0((_2e,cM)=>{var ax=require("path").sep||"/";cM.exports=MQ;function MQ(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=ax+ax+n),s=s.replace(/^(.+)\|/,"$1:"),ax=="\\"&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=ax+s),n+s}o(MQ,"fileUriToPath")});var pM=y0((cx,mM)=>{var Sw=require("fs"),fx=require("path"),UQ=uM(),lx=fx.join,gM=fx.dirname,dM=Sw.accessSync&&function(e){try{Sw.accessSync(e)}catch{return!1}return!0}||Sw.existsSync||fx.existsSync,hM={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function qQ(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(hM).map(function(c){c in e||(e[c]=hM[c])}),e.module_root||(e.module_root=gM(__filename)),fx.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,s=e.try.length,l,a,f;n<s;n++){l=lx.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(l);try{return a=e.path?t.resolve(l):t(l),e.path||(a.path=l),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw f=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),f.tries=r,f}o(qQ,"bindings");mM.exports=cx=qQ;cx.getFileName=o(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,s={},l;Error.stackTraceLimit=10,Error.prepareStackTrace=function(f,c){for(var u=0,d=c.length;u<d;u++)if(l=c[u].getFileName(),l!==__filename)if(t){if(l!==t)return}else return},Error.captureStackTrace(s),new Error(s.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return l.indexOf(a)===0&&(l=UQ(l)),l},"getFileName");cx.getRoot=o(function(t){for(var r=gM(t),n;;){if(r==="."&&(r=process.cwd()),dM(lx(r,"package.json"))||dM(lx(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=lx(r,"..")}},"getRoot")});var xM=y0((E2e,vM)=>{"use strict";function yM(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let s=typeof e;if(n.type&&s!==n.type){if(n.required===!1&&t.slice(r).some(l=>l.type===s))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(yM,"validateParameter");function $Q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o($Q,"hasOwnProperty");function HQ(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let l=0,a=0;l<t.length;++l,++a){let f=t[l],c=r[a];$Q(f,"default")&&c==null&&(c=f.default),f.type==="object"&&f.default!=null&&(c=Object.assign({},f.default,c)),f.name==="options"&&(typeof c=="function"||c==null)&&(c={}),yM(c,t,l)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((l,a)=>{n.push((f,c)=>{if(f)return a(f);l(c)}),e.apply(this,n)});e.apply(this,n)}}o(HQ,"defineOperation");vM.exports={defineOperation:HQ,validateParameter:yM}});var Iw=y0((S2e,CM)=>{"use strict";var I6=pM()("kerberos"),S6=I6.KerberosClient,_M=I6.KerberosServer,x3=xM().defineOperation,jQ=1,VQ=2,zQ=4,GQ=8,KQ=16,WQ=32,YQ=64,JQ=128,XQ=256,bM=0,ZQ=9,QQ=6;S6.prototype.step=x3(S6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);S6.prototype.wrap=x3(S6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);S6.prototype.unwrap=x3(S6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);_M.prototype.step=x3(_M.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var eee=x3(I6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),tee=x3(I6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),ree=x3(I6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:bM}},{name:"callback",type:"function",required:!1}]),nee=x3(I6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);CM.exports={initializeClient:ree,initializeServer:nee,principalDetails:tee,checkPassword:eee,GSS_C_DELEG_FLAG:jQ,GSS_C_MUTUAL_FLAG:VQ,GSS_C_REPLAY_FLAG:zQ,GSS_C_SEQUENCE_FLAG:GQ,GSS_C_CONF_FLAG:KQ,GSS_C_INTEG_FLAG:WQ,GSS_C_ANON_FLAG:YQ,GSS_C_PROT_READY_FLAG:JQ,GSS_C_TRANS_FLAG:XQ,GSS_C_NO_OID:bM,GSS_MECH_OID_KRB5:ZQ,GSS_MECH_OID_SPNEGO:QQ}});var EM=y0((I2e,iee)=>{iee.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var SM=y0((w2e,TM)=>{"use strict";var see=require("dns"),oee=Iw(),Aw=class Aw{constructor(t,r,n,s){s=s||{},this.host=t,this.port=r,this.serviceName=n||s.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof s.gssapiCanonicalizeHostName=="boolean"?s.gssapiCanonicalizeHostName:!1,this._transition=aee(this),this.retries=10}init(t,r,n){let s=this;this.username=t,this.password=r;function l(a,f,c){if(!a)return c();see.resolveCname(f,(u,d)=>{if(u)return c(u);Array.isArray(d)&&d.length>0&&(s.host=d[0]),c()})}o(l,"performGssapiCanonicalizeHostName"),l(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let f={};r!=null&&Object.assign(f,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;oee.initializeClient(c,f,(u,d)=>{if(u)return n(u,null);s.client=d,n(null,d)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};o(Aw,"MongoAuthProcess");var ww=Aw;function aee(e){return(t,r)=>{e.client.step("",(n,s)=>{if(n)return r(n);e._transition=lee(e),r(null,s)})}}o(aee,"firstTransition");function lee(e){return(t,r)=>{e.client.step(t,(n,s)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=fee(e),r(null,s||"")})}}o(lee,"secondTransition");function fee(e){return(t,r)=>{e.client.unwrap(t,(n,s)=>{if(n)return r(n,!1);e.client.wrap(s,{user:e.username},(l,a)=>{if(l)return r(l,!1);e._transition=cee(e),r(null,a)})})}}o(fee,"thirdTransition");function cee(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(cee,"fourthTransition");TM.exports={MongoAuthProcess:ww}});var wM=y0((P2e,k7)=>{"use strict";var IM=Iw();k7.exports=IM;k7.exports.Kerberos=IM;k7.exports.version=EM().version;k7.exports.processes={MongoAuthProcess:SM().MongoAuthProcess}});var Cu=_n(ql()),xE=_n(aP());var lP=_n(require("crypto"));var Bm=new Uint8Array(256),Dm=Bm.length;function Pb(){return Dm>Bm.length-16&&(lP.default.randomFillSync(Bm),Dm=0),Bm.slice(Dm,Dm+=16)}o(Pb,"rng");var Ka=[];for(let e=0;e<256;++e)Ka.push((e+256).toString(16).slice(1));function fP(e,t=0){return Ka[e[t+0]]+Ka[e[t+1]]+Ka[e[t+2]]+Ka[e[t+3]]+"-"+Ka[e[t+4]]+Ka[e[t+5]]+"-"+Ka[e[t+6]]+Ka[e[t+7]]+"-"+Ka[e[t+8]]+Ka[e[t+9]]+"-"+Ka[e[t+10]]+Ka[e[t+11]]+Ka[e[t+12]]+Ka[e[t+13]]+Ka[e[t+14]]+Ka[e[t+15]]}o(fP,"unsafeStringify");var cP=_n(require("crypto")),Rb={randomUUID:cP.default.randomUUID};function iH(e,t,r){if(Rb.randomUUID&&!t&&!e)return Rb.randomUUID();e=e||{};let n=e.random||(e.rng||Pb)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return fP(n)}o(iH,"v4");var Z2=iH;var kb=class kb extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};o(kb,"CopilotAuthError");var hu=kb;var Xp=_n(gu());var Lm="github.copilot";var qf=_n(gu());var Db=class Db{now(){return new Date}};o(Db,"Clock");var td=Db;var vR=_n(_p());var Fb=class Fb{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};o(Fb,"LRUCacheMap");var Rs=Fb;var bp=class bp{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return xR(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new bp({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};o(bp,"ExpConfig");var E1=bp;var B8=_n(BN(),1),$te={ALPN_HTTP2:B8.default.ALPN_HTTP2,ALPN_HTTP2C:B8.default.ALPN_HTTP2C,ALPN_HTTP1_1:B8.default.ALPN_HTTP1_1,ALPN_HTTP1_0:B8.default.ALPN_HTTP1_0},{fetch:Hte,context:LN,reset:jte,noCache:Vte,h1:zte,keepAlive:Gte,h1NoCache:Kte,keepAliveNoCache:Wte,cacheStats:Yte,clearCache:Jte,offPush:Xte,onPush:Zte,createUrl:Qte,timeoutSignal:ere,Body:tre,Headers:rre,Request:nre,Response:ire,AbortController:FN,AbortError:ON,AbortSignal:sre,FetchBaseError:ore,FetchError:B9,ALPN_HTTP2:are,ALPN_HTTP2C:lre,ALPN_HTTP1_1:fre,ALPN_HTTP1_0:cre}=B8.default;var UN=_n(require("util")),qN=require("util");var wC=class wC{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};o(wC,"HeaderContributors");var ld=wC;var RC=class RC{set rejectUnauthorized(t){this._rejectUnauthorized=t}get rejectUnauthorized(){return this._rejectUnauthorized}};o(RC,"Fetcher");var wa=RC;function AC(e){return e instanceof ON||e.name==="AbortError"||e instanceof B9&&e.code==="ABORT_ERR"}o(AC,"isAbortError");var NC=class NC extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};o(NC,"JsonParseError");var L8=NC,kC=class kC extends Error{constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}};o(kC,"FetchResponseError");var fd=kC,JV=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE"]);function $N(e){var t;return e instanceof B9||e instanceof Error&&e.name==="FetchError"||e instanceof L8||e instanceof fd||e instanceof Error&&JV.has(e.code)||((t=e==null?void 0:e.message)==null?void 0:t.startsWith("net::"))}o($N,"isNetworkError");var DC=class DC{constructor(t,r,n,s,l,a){this.status=t;this.statusText=r;this.headers=n;this.getText=s;this.getBody=l;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new L8(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let s=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(s&&parseInt(s[2],10)==t.length||n.message==="Unexpected end of JSON input"){let l=new qN.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new L8(`Response body truncated: actualLength=${l}`,"Truncated"):new L8(`Response body truncated: actualLength=${l}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};o(DC,"Response");var zp=DC,XV=30*1e3;function PC(e,t,r,n,s,l,a){let f={Authorization:UN.format("Bearer %s",r),"X-Request-Id":s,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(aa).sessionId,"VScode-MachineId":e.get(aa).machineId,...BC(e)};e.get(ld).contributeHeaders(t,f),n&&(f["OpenAI-Intent"]=n);let c={method:"POST",headers:f,json:l,timeout:XV},u=e.get(wa);if(a){let h=u.makeAbortController();a.onCancellationRequested(()=>{Ai(e,"networking.cancelRequest",ps.createAndMarkAsIssued({headerRequestId:s})),h.abort()}),c.signal=h.signal}return u.fetch(t,c).catch(h=>{if(h.code=="ECONNRESET"||h.code=="ETIMEDOUT"||h.code=="ERR_HTTP2_INVALID_SESSION"||h.message=="ERR_HTTP2_GOAWAY_SESSION")return Ai(e,"networking.disconnectAll"),u.disconnectAll().then(()=>u.fetch(t,c));throw h})}o(PC,"postRequest");var LC=class LC{};o(LC,"ExpConfigMaker");var cd=LC,ZV="https://default.exp-tas.com",FC=class FC extends cd{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var u;let s=r.get(wa),l;try{l=await s.fetch(ZV+this.expPath,{method:"GET",headers:n})}catch(d){return E1.createFallbackConfig(r,`Error fetching ExP config: ${d}`)}if(!l.ok)return E1.createFallbackConfig(r,`ExP responded with ${l.status}`);let a;try{a=await l.json()}catch(d){if(d instanceof SyntaxError)return Uf(r,d,"fetchExperiments"),E1.createFallbackConfig(r,"ExP responded with invalid JSON");throw d}let f=(u=a.Configs.find(d=>d.Id==="vscode"))!=null?u:{Id:"vscode",Parameters:{}},c=Object.entries(f.Parameters).map(([d,h])=>d+(h?"":"cf"));return new E1(f.Parameters,a.AssignmentContext,c.join(";"))}};o(FC,"ExpConfigFromTAS");var Gp=FC;var QV={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Kp=class Kp{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let s=QV[r];s!==void 0&&(t.properties[s]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new Kp({...this.filters,[t]:r})}};o(Kp,"FilterSettings");var ud=Kp;var MC=class MC{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};o(MC,"GranularityImplementation");var Wp=MC,UC=class UC extends Wp{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};o(UC,"ConstantGranularity");var OC=UC,HN=o(e=>new OC(e),"DEFAULT_GRANULARITY"),qC=class qC extends Wp{constructor(r,n=.5,s=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=s}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],s=this.getUpcomingTimePeriodBucketStrings(r),l=this.getUpcomingByCallBucketStrings();for(let a of s)for(let f of l)n.push(this.prefix+a+f);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};o(qC,"TimeBucketGranularity");var Yp=qC;var jN="X-Copilot-ClientTimeBucket",$C=class $C{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=HN(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let s=new Yp(this.prefix);isNaN(r)||s.setByCallBuckets(r),isNaN(n)||s.setTimePeriod(n*3600*1e3),this.specs.set(t,s)}}extendFilters(t){let r=this.selectGranularity(t),[n,s]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(jN,n),otherFilterSettingsToPrefetch:s.map(l=>t.withChange(jN,l))}}};o($C,"GranularityDirectory");var Jp=$C;var VC=class VC{constructor(t){this.ctx=t;this.cache=new Rs(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new jC(()=>this.ctx.get(cd).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};o(VC,"FilterSettingsToExpConfigs");var HC=VC,zC=class zC{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};o(zC,"Task");var jC=zC,bu=class bu{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new HC(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments({repoNwo:t,fileType:r,userKind:n,dogFood:s,retrievalOrg:l,customModel:a},f){var I,P;if(f instanceof L9)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let c={"X-Copilot-Repository":t,"X-Copilot-FileType":r,"X-Copilot-UserKind":n,"X-Copilot-Dogfood":s,"X-Copilot-CustomModel":a,"X-Copilot-RetrievalOrg":l},u=this.getGranularityDirectory(),d=this.makeFilterSettings(c),h=u.extendFilters(d),m=await this.getExpConfig(h.newFilterSettings);u.update(d,+((I=m.variables.copilotbycallbuckets)!=null?I:NaN),+((P=m.variables.copilottimeperiodsizeinh)!=null?P:NaN));let p=u.extendFilters(d),v=p.newFilterSettings,x=await this.getExpConfig(v),E=new Promise(L=>setTimeout(L,bu.upcomingDynamicFilterCheckDelayMs));for(let L of p.otherFilterSettingsToPrefetch)E=E.then(async()=>{await new Promise(F=>setTimeout(F,bu.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(L)});return this.prepareForUpcomingFilters(v),new L9(f.properties,f.measurements,f.issuedTime,{filters:v,exp:x})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(aa).machineId;this.granularityDirectory=new Jp(t,this.ctx.get(td))}return this.granularityDirectory}makeFilterSettings(t){return new ud({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return E1.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-bu.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,bu.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new ud({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}requestMultilineExploration(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultilineexploration)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:15}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:10}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:qf.DEFAULT_NUM_OF_SNIPPETS}neighboringTabsOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return qf.NeighboringTabsOption.None;case"conservative":return qf.NeighboringTabsOption.Conservative;case"medium":return qf.NeighboringTabsOption.Medium;case"eager":return qf.NeighboringTabsOption.Eager;case"eagerbutlittle":return qf.NeighboringTabsOption.EagerButLittle;case"eagerbutmedium":return qf.NeighboringTabsOption.EagerButMedium;case"eagerbutmuch":return qf.NeighboringTabsOption.EagerButMuch;case"retrievalcomparable":return qf.NeighboringTabsOption.RetrievalComparable;default:return qf.NeighboringTabsOption.Eager}}retrievalStrategy(t){var r;return(r=t.filtersAndExp.exp.variables.retrieval)!=null?r:!1}cppHeaders(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcppheaders)!=null?r:!1}retrievalServerRoute(t){let r=t.filtersAndExp.exp.variables.retrievalserverroute;switch(r){case"aims":return"2";case"devdiv":return"1";case"githubnext":return"0";default:return r!=null?r:"0"}}maxPromptCompletionTokens(t,r){var n;return(n=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?n:r}hybridInference(t){var r;return(r=t.filtersAndExp.exp.variables.hybridinference)!=null?r:!1}hybridInferenceThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.hybridinferencethreshold)!=null?r:-100)/100}requestMultiOnNewLine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultionnewline)!=null?r:!1}requestMultiModel(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultimodel)!=null?r:!1}requestMultiModelThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.copilotrequestmultimodelthreshold)!=null?r:100)/100}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}defaultCommentMarker(t){var s,l;let r=(s=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?s:void 0,n=(l=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?l:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideAgentChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxtokens)!=null?r:-1}ideAgentChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxrequesttokens)!=null?r:-1}ideAgentChatExpTestModelGpt4(t){var r;return(r=t.filtersAndExp.exp.variables.exptestmodelgpt4)!=null?r:""}ideAgentChatExpTestModelGpt35(t){var r;return(r=t.filtersAndExp.exp.variables.exptestmodelgpt35)!=null?r:""}};o(bu,"Features"),bu.upcomingDynamicFilterCheckDelayMs=20,bu.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var ma=bu;var VN=GC(),hd={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var WC=class WC{};o(WC,"BlockModeConfig");var F8=WC,YC=class YC extends F8{async forLanguage(t,r,n){let s=t.get(ma).overrideBlockMode(n);return s?iz(s,r):r=="ruby"?"parsing":(0,Xp.isSupportedLanguageId)(r)?"parsingandserver":"server"}};o(YC,"ConfigBlockModeConfig");var Zp=YC;function iz(e,t){switch(e){case"parsing":return(0,Xp.isSupportedLanguageId)(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return(0,Xp.isSupportedLanguageId)(t)?"parsingandserver":"server"}}o(iz,"toApplicableBlockMode");var JC=class JC{};o(JC,"ConfigProvider");var dd=JC,XC=class XC extends dd{getConfig(t){return oz(t)}getOptionalConfig(t){return zN(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};o(XC,"DefaultsOnlyConfigProvider");var Qp=XC;function sz(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}o(sz,"isContributesObject");function oz(e){let t=zN(e);if(t!==void 0)return t;throw new Error(`Missing config default value: ${Lm}.${e}`)}o(oz,"getConfigDefaultForKey");function zN(e){try{let t=VN.contributes.configuration[0],r=[],n=`${Lm}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let s=t.properties[r.join(".")];if(sz(s))r.length=0,t=s;else if(n.length==0&&(s==null?void 0:s.default)!==void 0)return s.default}}catch(t){throw new Error(`Error inspecting config default value ${Lm}.${e}: ${t}`)}}o(zN,"getOptionalConfigDefaultForKey");function gd(e,t){return e.get(dd).getConfig(t)}o(gd,"getConfig");function GN(e){return e.get(dd).dumpForTelemetry()}o(GN,"dumpForTelemetry");var ZC=class ZC{constructor(){this.packageJson=VN}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};o(ZC,"BuildInfo");var bl=ZC;function KN(e){return e.get(bl).isProduction()}o(KN,"isProduction");function KC(e){return e.get(bl).getBuildType()}o(KC,"getBuildType");function WN(e){return e.get(bl).getBuild()}o(WN,"getBuild");function YN(e){return e.get(bl).getVersion()}o(YN,"getVersion");var QC=class QC{constructor(t,r){this.sessionId=t;this.machineId=r}};o(QC,"EditorSession");var aa=QC;function uc({name:e,version:t}){return`${e}/${t}`}o(uc,"formatNameAndVersion");var eE=class eE{};o(eE,"EditorAndPluginInfo");var Aa=eE;function BC(e){let t=e.get(Aa);return{"Editor-Version":uc(t.getEditorInfo()),"Editor-Plugin-Version":uc(t.getEditorPluginInfo())}}o(BC,"editorVersionHeaders");var ey=_n(_p()),ty=_n(require("os"));var az=require("events"),tE=class tE extends az{constructor(){super(),this.setMaxListeners(13)}emit(t,r,n){return super.emit(t,r,n)}};o(tE,"CopilotTokenNotifier");var hf=tE;var rE=class rE{constructor(t,r,n,s){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=s!=null?s:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(hf).on("onCopilotToken",r=>{var u;let n=r.getTokenValue("rt")==="1",s=(u=r.getTokenValue("ft"))!=null?u:"",l=r.getTokenValue("tid"),a=r.organization_list,f=r.enterprise_list,c=r.getTokenValue("sku");l!==void 0&&(this.trackingId=l,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=f==null?void 0:f.toString(),this.sku=c,this.optedIn=n,this.ftFlag=s)})}};o(rE,"TelemetryUserConfig");var hl=rE;var lz=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function fz(e){var n,s,l,a,f,c;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let u of r.slice(e.toString().length+1).split(/\n/).reverse()){let d=u.match(lz),h={filename:"",function:""};d&&(h.function=(a=(l=(s=d[2])==null?void 0:s.trim())==null?void 0:l.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:h.function,h.filename=(c=(f=d[4])==null?void 0:f.trim())!=null?c:h.filename,d[5]&&d[5]!==":0"&&(h.lineno=d[5].slice(1)),d[6]&&d[5]!==":0"&&(h.colno=d[6].slice(1)),h.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(h.filename)),t.stacktrace.push(h)}}return t}o(fz,"buildExceptionDetail");function cz(e,t){var a,f;let r=e.get(Aa),n=r.getEditorInfo(),s=e.get(hl),l={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":uc({name:(f=n.devName)!=null?f:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":uc(r.getEditorPluginInfo()),"#session_id":e.get(aa).sessionId,"#machine_id":e.get(aa).machineId,"#architecture":ty.arch(),"#os_platform":ty.platform(),...t};return s.trackingId&&(l.user=s.trackingId,l["#tracking_id"]=s.trackingId),l}o(cz,"buildContext");function JN(e,t){var u,d,h,m;let r=e.get(bl),n=e.get(Aa).getEditorInfo(),s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotIDEAgent",context:cz(e,{"#node_version":process.versions.node}),sensitive_context:{}},l=[];s.exception_detail=[];let a=0,f=t;for(;f instanceof Error&&a<10;){let p=fz(f);s.exception_detail.unshift(p),l.unshift([f,p]),a+=1,f=f.cause}let c=[];for(let[p,v]of l)if(v.stacktrace&&v.stacktrace.length>0){c.push(`${v.type}: ${(u=p.code)!=null?u:""}`);let x=[...v.stacktrace].reverse();for(let E of x)if((d=E.filename)!=null&&d.startsWith("./dist/"))return s;for(let E of x)if(E.in_app){c.push(`${(h=E.filename)==null?void 0:h.replace(/^\.\//,"")}:${E.lineno}:${E.colno}`);break}c.push(`${(m=x[0].filename)==null?void 0:m.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,ey.SHA256)(ey.enc.Utf16.parse(c.join(`
`))).toString()),s}o(JN,"buildPayload");var ry=class ry{constructor(t){this.flags=t}static fromEnvironment(t){return new ry({debug:dz(process.argv,process.env),verboseLogging:hz(process.env),telemetryLogging:gz(process.env),testMode:t})}};o(ry,"RuntimeMode");var md=ry;function X5(e){return e.get(md).flags.testMode}o(X5,"isRunningInTest");function F9(e){return X5(e)}o(F9,"shouldFailForDebugPurposes");function XN(e){return e.get(md).flags.verboseLogging}o(XN,"isVerboseLoggingEnabled");function dz(e,t){return e.includes("--debug")||nE(t,"DEBUG")}o(dz,"determineDebugFlag");function hz(e){var t;return e.COPILOT_AGENT_VERBOSE==="1"||((t=e.COPILOT_AGENT_VERBOSE)==null?void 0:t.toLowerCase())==="true"||nE(e,"VERBOSE")}o(hz,"determineVerboseLoggingEnabled");function gz(e){return nE(e,"LOG_TELEMETRY")}o(gz,"determineTelemetryLoggingEnabled");function nE(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||(n==null?void 0:n.toLowerCase())==="true"}return!1}o(nE,"determineEnvFlagEnabled");var iE=class iE{};o(iE,"NetworkConfiguration");var jl=iE;var nk=_n(QN()),ik=_n(tk()),dc=_n(require("os"));var la=(s=>(s[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s))(la||{}),sE=class sE{constructor(t){this.logVerbose=t}};o(sE,"LogVerbose");var O8=sE;function rk(e){return e.get(O8).logVerbose}o(rk,"verboseLogging");var oE=class oE{shouldLog(t,r){}};o(oE,"LogTarget");var M8=oE,aE=class aE extends M8{constructor(r){super();this.console=r}logIt(r,n,s,...l){n==3?this.console.error(s,...l):(n==2||rk(r))&&this.console.warn(s,...l)}};o(aE,"ConsoleLog");var sy=aE;var lE=class lE{constructor(t,r){this.minLoggedLevel=t,this.context=r}setLevel(t){this.minLoggedLevel=t}stringToLevel(t){return la[t]}log(t,r,...n){let s=t.get(M8),l=s.shouldLog(t,r);if(l===!1||l===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;s.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){M9(t,r,ps.createAndMarkAsIssued({context:this.context,level:la[3],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var f,c;if(rk(t))return!0;let s=gd(t,hd.DebugFilterLogCategories);if(s.length>0&&!s.includes(n))return!1;if(KN(t))return r>=this.minLoggedLevel;let l=gd(t,hd.DebugOverrideLogLevels),a=(c=(f=this.stringToLevel(l["*"]))!=null?f:this.stringToLevel(l[this.context]))!=null?c:this.minLoggedLevel;return r>=a}debug(t,...r){this.log(t,0,...r)}info(t,...r){this.log(t,1,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,3,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let s=n;n.startsWith(".")&&(s=n.substring(1),n=`${this.context}${n}`),Uf(t,r,n);let l=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,3,`${s}:`,l)}};o(lE,"Logger");var Pi=lE;var O9=new Pi(1,"default");var fE=class fE{constructor(t,r,n,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var l;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(l=t.headers)!=null?l:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let s={method:"POST",headers:n,body:t.data,forceUseHelix:!0};this.ctx.get(wa).fetch(t.urlString,s).then(a=>a.text().then(f=>{r(a.status,a.headers,f)})).catch(a=>{O9.error(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new ik.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(jl).getTelemetryUrl(),extensionConfig:{[nk.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=mz(t),this.commonProperties=pz(t),t.get(hf).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let s=this.qualifyEventName(t);this.client.track({name:s,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:s,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(hf).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(fE,"AppInsightsReporter");var U8=fE;function mz(e){let t={},r=e.get(aa);t["ai.session.id"]=r.sessionId;let n=e.get(hl);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${dc.type()} ${dc.release()}`,t["ai.device.osArchitecture"]=dc.arch(),t["ai.device.osPlatform"]=dc.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(bl).getVersion(),t}o(mz,"getTags");function pz(e){let t={};t.common_os=dc.platform(),t.common_platformversion=dc.release();let r=e.get(aa);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}o(pz,"getCommonProperties");var sk="7d7048df-6dd0-4048-bb23-b716c1461f8f",ok="3fdd7f28-937a-48c8-9a21-ba337db23bd1",yz="f0000000-0000-0000-0000-000000000000",uE=class uE{constructor(){this._initialized=!1}get isInitialized(){return this._initialized}async initialize(t,r,n){let s=t.get($f).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let l=t.get($f);l.setReporter(new U8(t,r,sk)),l.setRestrictedReporter(new U8(t,r,ok)),l.setFTReporter(new U8(t,r,yz,!0))}await s}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};o(uE,"TelemetryInitialization");var Z5=uE;function cE(e,t,r){return e.get(Z5).initialize(e,t,r)}o(cE,"setupTelemetryReporters");var dE=class dE{constructor(){this.promises=new Set}async register(t){return this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};o(dE,"PromiseQueue");var Cl=dE;var hE=class hE extends Cl{async awaitPromises(){await Promise.all(this.promises)}};o(hE,"TestPromiseQueue");var ay=hE;var gE=class gE{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,s){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};o(gE,"FailingTelemetryReporter");var U9=gE;var fk=require("os"),ck=_n(require("path"));function q9(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(q9,"redactPaths");var vz=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),xz=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function pE(e){if(vz.has(e))return e;for(let t of xz)if(t.test(e))return e;return q9(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(pE,"redactMessage");function ly(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(ly,"escapeForRegExp");var _z=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+ly((0,fk.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function mE(e){return e.replace(_z,"~")}o(mE,"redactHomeDir");var uk="[\\\\/]?([^:)]*)(?=:\\d)",ak=new RegExp(ly(ck.sep),"g"),lk=new RegExp(ly(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+uk,"gi");function yE(e,t,r=!1,n=[]){var f;let s=new Error(t(e));s.name=e.name,typeof e.syscall=="string"&&(s.syscall=e.syscall),typeof e.code=="string"&&(s.code=e.code),typeof e.errno=="number"&&(s.errno=e.errno),s.stack=void 0;let l=(f=e.stack)==null?void 0:f.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let c of[e.toString(),`${e.name}: ${e.message}`])if(l!=null&&l.startsWith(c+`
`)){a=l.slice(c.length+1).split(/\n/);break}if(a){s.stack=s.toString();for(let c of a)if(lk.test(c))s.stack+=`
${q9(c.replace(lk,(u,d)=>"./"+d.replace(ak,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))s.stack+=`
${q9(c)}`;else{let u=!1;for(let{prefix:d,path:h}of n){let m=new RegExp(ly(h.replace(/[\\/]$/,""))+uk,"gi");if(m.test(c)){s.stack+=`
${q9(c.replace(m,(p,v)=>d+v.replace(ak,"/")))}`,u=!0;break}}if(u)continue;r?s.stack+=`
${mE(c)}`:s.stack+=`
    at [redacted]:0:0`}}else r&&l&&(s.stack=mE(l));return e.cause instanceof Error&&(s.cause=yE(e.cause,t,r,n)),s}o(yE,"cloneError");function dk(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(dk,"errorMessageWithoutPath");function hk(e,t){return yE(e,o(function(n){return mE(dk(n))},"prepareMessage"),!0,t)}o(hk,"prepareErrorForRestrictedTelemetry");function vE(e,t,r=!1){return yE(e,o(function(s){if(r)return pE(dk(s));let l="[redacted]";return s.syscall&&s.code!==void 0?l=`${q9(s.syscall.toString())} ${s.code} ${l}`:s instanceof B9&&s.erroredSysCall&&s.code!==void 0?l=`${s.erroredSysCall} ${s.code} ${l}`:s.code!==void 0&&(l=`${s.code} ${l}`),l},"prepareMessage"),!1,t)}o(vE,"redactError");function q8(e){return e===1}o(q8,"isRestricted");var bz=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var CE=class CE{getReporter(t,r=0){return q8(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(cy(t))return this.reporterRestricted;if(F9(t))return new U9}getFTReporter(t){if(gk(t))return this.reporterFT;if(F9(t))return new U9}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};o(CE,"TelemetryReporters");var $f=CE,Cz=Cu.Type.Object({},{additionalProperties:Cu.Type.String()}),Ez=Cu.Type.Object({meanLogProb:Cu.Type.Optional(Cu.Type.Number()),meanAlternativeLogProb:Cu.Type.Optional(Cu.Type.Number())},{additionalProperties:Cu.Type.Number()}),Tz=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Sz(e){var t;return Tz.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Sz,"isOomError");function Iz(e){return $N(e)?"network":Sz(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(Iz,"getErrorType");var pa=class pa{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new pa(t||{},r||{},Eu())}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},l=new pa(n,s,this.issuedTime);return l.displayedTime=this.displayedTime,l}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Eu())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(ma).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=uc(t.get(Aa).getEditorInfo()),this.properties.editor_plugin_version=uc(t.get(Aa).getEditorPluginInfo());let r=t.get(aa);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${YN(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(Aa);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=uc(n.getEditorInfo());let s=t.get(wa);this.properties.fetcher=s.name;let l=s.proxySettings;this.properties.proxy_enabled=l?"true":"false",this.properties.proxy_auth=l!=null&&l.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=l!=null&&l.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=GN(t);r["copilot.build"]=WN(t),r["copilot.buildType"]=KC(t);let n=t.get(hl);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(q8(t))return r;let n={};for(let s in r)pa.keysToRemoveFromStandardTelemetryHack.includes(s)||(n[s]=r[s]);return n}sanitizeKeys(){this.properties=pa.sanitizeKeys(this.properties),this.measurements=pa.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let s=pa.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[s]=t[n]}return r}updateMeasurements(){let t=Eu()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=Eu()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=Pz())}validateData(t,r){var s;let n;if(pa.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...pa.validateTelemetryProperties.Errors(this.properties)])}),!pa.validateTelemetryMeasurements.Check(this.measurements)){let l=JSON.stringify([...pa.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:l}:(n.problem="both",n.error+=`; ${l}`)}if(n===void 0)return!0;if(F9(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return M9(t,"invalidTelemetryData",pa.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),q8(r)&&M9(t,"invalidTelemetryData_in_secure",pa.createAndMarkAsIssued({problem:n.problem,requestId:(s=this.properties.requestId)!=null?s:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),kz(t,this.properties)}};o(pa,"TelemetryData"),pa.validateTelemetryProperties=xE.TypeCompiler.Compile(Cz),pa.validateTelemetryMeasurements=xE.TypeCompiler.Compile(Ez),pa.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],pa.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var ps=pa,$9=class $9 extends ps{constructor(t,r,n,s){super(t,r,n),this.filtersAndExp=s}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},l=new $9(n,s,this.issuedTime,this.filtersAndExp);return l.displayedTime=this.displayedTime,l}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new $9({},{},0,{filters:new ud({}),exp:E1.createEmptyConfig()})}};o($9,"TelemetryWithExp");var L9=$9;function fy(e,t,r,n){var s;(s=e.get($f).getReporter(e,t))==null||s.sendTelemetryEvent(r,ps.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(fy,"sendTelemetryEvent");function wz(e,t,r,n){var s;(s=e.get($f).getReporter(e,t))==null||s.sendTelemetryErrorEvent(r,ps.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(wz,"sendTelemetryErrorEvent");function Az(e,t,r,n){var s;(s=e.get($f).getFTReporter(e))==null||s.sendTelemetryEvent(r,ps.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Az,"sendFTTelemetryEvent");function bE(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(bE,"telemetrizePromptLength");function Eu(){return Date.now()}o(Eu,"now");function Pz(){return Math.floor(Eu()/1e3)}o(Pz,"nowSeconds");function cy(e){return e.get(hl).optedIn}o(cy,"shouldSendRestricted");function gk(e){return e.get(hl).ftFlag!==""}o(gk,"shouldSendFinetuningTelemetry");async function Ai(e,t,r,n){await e.get(Cl).register(Rz(e,t,r,n))}o(Ai,"telemetry");async function Rz(e,t,r,n=0){let s=r||ps.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!q8(n)||cy(e))&&fy(e,n,t,s),q8(n)&&bz.includes(t)&&gk(e)&&Az(e,n,t,s)}o(Rz,"_telemetry");async function xR(e,t){await e.get(Cl).register(Nz(e,t))}o(xR,"telemetryExpProblem");async function Nz(e,t){let r="expProblem",n=ps.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),fy(e,0,r,n)}o(Nz,"_telemetryExpProblem");function kz(e,t){t.unique_id=Z2();let r=e.get(Aa);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=uc(r.getEditorInfo())}o(kz,"addRequiredProperties");var EE=class EE extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError"}};o(EE,"CopilotNonError");var _E=EE;async function Uf(e,t,r,n,s){var a;let l;if(t instanceof Error){if(l=t,l.name==="Canceled"&&l.message==="Canceled"||l.name==="CodeExpectedError"||l instanceof hu)return}else if(l=new _E(t),(a=l.stack)!=null&&a.startsWith(`${l}
`)){let f=l.stack.slice(`${l}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(f[0])&&f.shift(),l.stack=`${l}
${f.join(`
`)}`}await e.get(Cl).register(Dz(e,l,r,n,s))}o(Uf,"telemetryException");async function Dz(e,t,r,n,s){var m,p;let l=e.get(Aa).getEditorInfo(),a;l.root&&(a=[{prefix:`${l.name}:`,path:l.root}]);let f=vE(t,a),c=cy(e),u=Iz(t),d=u==="exception",h=ps.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(m=t.code)!=null?m:""}`,reason:f.stack||f.toString(),message:f.message,...n});if(await h.makeReadyForSending(e,0,"IncludeExp"),s!=null&&s.exception_detail)for(let v of s.exception_detail)v.value&&(c?v.value=pE(v.value):v.value="[redacted]");if(s!=null||(s=JN(e,vE(t,a,c))),s.context={...s.context,"copilot_event.unique_id":h.properties.unique_id,"#restricted_telemetry":c?"true":"false"},r&&(s.context["#origin"]=r,s.transaction=r),s.rollup_id!=="auto"&&(h.properties.errno=s.rollup_id),s.created_at=new Date(h.issuedTime).toISOString(),c){let v=hk(t,a),x=ps.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:v.stack||v.toString(),message:v.message,...n});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp"),x.properties.unique_id=h.properties.unique_id,h.properties.restricted_unique_id=x.properties.unique_id,fy(e,1,`error.${u}`,x)}d&&(h.properties.failbot_payload=JSON.stringify(s)),fy(e,0,`error.${u}`,h)}o(Dz,"_telemetryException");async function M9(e,t,r,n){await e.get(Cl).register(Bz(e,t,r,n))}o(M9,"telemetryError");async function Bz(e,t,r,n=0){if(q8(n)&&!cy(e))return;let s=r||ps.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n,"IncludeExp"),wz(e,n,t,s)}o(Bz,"_telemetryError");async function mk(e,t,r,n,s){var a;let l=ps.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:s.toString()});if(r.logprobs)for(let[f,c]of Object.entries(r.logprobs))l.properties["logprobs_"+f]=(a=JSON.stringify(c))!=null?a:"unset";l.extendWithRequestId(n),await Ai(e,"engine.completion",l,1)}o(mk,"logEngineCompletion");async function pk(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let s=r.extendedBy(n);await Ai(e,"engine.prompt",s,1)}o(pk,"logEnginePrompt");var TE=class TE{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?Ai(t,"installed.reinstall"):Ai(t,"installed.new")}async handleUpgrade(t){Ai(t,"installed.upgrade")}async handleUninstall(t){Ai(t,"uninstalled")}};o(TE,"InstallationManager");var uy=TE;var SE=class SE extends uy{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};o(SE,"VsCodeUninstallationManager");var dy=SE;var GM=require("child_process");var $w=_n(gu());var IE=class IE{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};o(IE,"Context");var hy=IE;var wE=class wE{};o(wE,"NotificationSender");var H9=wE;var Aie=Rk(),LE=class LE{};o(LE,"UrlOpener");var j9=LE;var Gz=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],Nk="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",kk="https://gh.io/copilot-network-errors",FE=class FE{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){Gz.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new Pi(3,"certificates").error(t,`${Nk} Please visit ${kk} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(H9).showWarningMessage(Nk,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(j9).open(kk)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};o(FE,"UserErrorNotifier");var pd=FE;var OE=class OE{constructor(){this._cache=new Rs(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};o(OE,"CompletionsCache");var H8=OE;var ME=class ME{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};o(ME,"ContextualFilterManager");var j8=ME;var WY=_n(gu()),YY=_n(_p());var UE=class UE{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};o(UE,"Debouncer");var vy=UE;async function*Dk(e,t){for await(let r of e)yield t(r)}o(Dk,"asyncIterableMap");async function*Bk(e,t){for await(let r of e)await t(r)&&(yield r)}o(Bk,"asyncIterableFilter");var iD=_n(require("util"));var Lk=require("events");var pse=new Pi(1,"auth");var Ose=new Pi(1,"auth"),$E=class $E{constructor(){this.tokenRefreshEventEmitter=new Lk.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};o($E,"CopilotTokenManager");var Vl=$E;var HE=class HE{};o(HE,"StatusReporter");var Tu=HE;var Qk=_n(Yk()),K9=require("path"),by=_n(Q5());var GE=require("os"),xy=require("path"),V8=_n(Q5());function z9(e){return Jk(e)}o(z9,"isSupportedUriScheme");function Jk(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}o(Jk,"isFsScheme");function Xk(e){return Jk(e.scheme)&&(!e.authority||(0,GE.platform)()=="win32")}o(Xk,"isFsUri");function _y(e){if(Xk(e))if((0,GE.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,xy.normalize)(t)}else return e.authority?void 0:e.path}o(_y,"getFsPath");function G9(e,t){return Xk(e)?V8.URI.file((0,xy.resolve)(_y(e),t)):V8.Utils.resolvePath(e,fG(t))}o(G9,"resolveFilePath");function fG(e){return cG(e)?e.replaceAll("\\","/"):e}o(fG,"pathToURIPath");function cG(e){return/^[^/\\]*\\/.test(e)}o(cG,"isWinPath");function Zk(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?V8.Utils.dirname(e).with({scheme:"file",fragment:""}):V8.Utils.dirname(e)}o(Zk,"dirname");var KE=class KE{};o(KE,"FileSystem");var hc=KE;function YE(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(YE,"tryGetGitHubNWO");var foe=mG(uG,1e4);async function uG(e,t){var c;if(!z9(t.scheme))return;let r=await hG(e,t.fsPath);if(!r)return;let n=e.get(hc),s=(0,K9.join)(r,".git","config"),l;try{l=await n.readFileString(by.URI.file(s))}catch{return}let a=(c=gG(l))!=null?c:"",f=dG(a);return f===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...f}}o(uG,"extractRepoInfo");function dG(e){let t={};try{if(t=(0,Qk.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}o(dG,"parseRepoUrl");async function hG(e,t){let r=t+"_add_to_make_longer",n=e.get(hc);for(;t.length>1&&t.length<r.length;){let s=(0,K9.join)(t,".git","config"),l=!1;try{await n.stat(by.URI.file(s)),l=!0}catch{l=!1}if(l)return t;r=t,t=(0,K9.dirname)(t)}}o(hG,"getRepoBaseFolder");function gG(e){var c;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,s=/^\s*\[/,l,a,f=!1;for(let u of e.split(`
`))if(f&&l!==void 0){if(l+=u,u.endsWith("\\"))l=l.substring(0,l.length-1);else if(f=!1,a==="origin")return l}else{let d=(c=u.match(t))!=null?c:u.match(r);if(d)a=d[1];else if(u.match(s))a=void 0;else{if(l&&a!=="origin")continue;{let h=u.match(n);if(h){if(l=h[1],l.endsWith("\\"))l=l.substring(0,l.length-1),f=!0;else if(a==="origin")return l}}}}return l}o(gG,"getRepoUrlFromConfigText");var JE=class JE{constructor(t){this.result=t}};o(JE,"CompletedComputation");var WE=JE;function mG(e,t){let r=new Rs(t),n=new Set;return(s,...l)=>{let a=JSON.stringify(l),f=r.get(a);if(f)return f.result;if(n.has(a))return 0;let c=e(s,...l);return n.add(a),c.then(u=>{r.set(a,new WE(u)),n.delete(a)}),0}}o(mG,"computeInBackgroundAndMemoize");function eD(e,t,r,n,s,l,a,f){return mk(e,t,r,s,n),{completionText:t,meanLogProb:pG(e,r),meanAlternativeLogProb:yG(e,r),choiceIndex:n,requestId:s,modelInfo:f,blockFinished:l,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}o(eD,"convertToAPIChoice");function pG(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--)n+=t.logprobs.token_logprobs[a],s+=1;return s>0?n/s:void 0}catch(n){O9.exception(e,n,"Error calculating mean prob")}}o(pG,"calculateMeanLogProb");function yG(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--){let f={...t.logprobs.top_logprobs[a]};delete f[t.logprobs.tokens[a]],n+=Math.max(...Object.values(f)),s+=1}return s>0?n/s:void 0}catch(n){O9.exception(e,n,"Error calculating mean prob")}}o(yG,"calculateMeanAlternativeLogProb");function XE(e,t){return X5(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(XE,"getTemperatureForSamples");var vG={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function tD(e,t){var r;return(r=vG[t!=null?t:""])!=null?r:[`


`,"\n```"]}o(tD,"getStops");function rD(e){return 1}o(rD,"getTopP");function ZE(e){return 500}o(ZE,"getMaxSolutionTokens");var zl=new Pi(1,"streamChoices"),iT=class iT{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new tT;this.function_call=new eT}append(t){var r,n,s,l,a,f,c;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((s=t.logprobs.text_offset)!=null?s:[]),this.logprobs.push((l=t.logprobs.token_logprobs)!=null?l:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(f=t.delta)!=null&&f.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(c=t.delta)!=null&&c.function_call&&this.function_call.update(t.delta.function_call)}};o(iT,"APIJsonDataStreaming");var QE=iT;function _G(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(_G,"splitChunk");var sT=class sT{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};o(sT,"StreamingFunctionCall");var eT=sT,oT=class oT{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(s=>this.update_namespace(r,s))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],s=n.findIndex(l=>l.id===r.id);s>=0?n[s]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};o(oT,"StreamCopilotAnnotations");var tT=oT,Ey=class Ey{constructor(t,r,n,s,l,a,f,c){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=s;this.telemetryData=l;this.dropCompletionReasons=a;this.fastCancellation=f;this.cancellationToken=c;this.requestId=W9(this.response);this.stats=new rT(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,s,l,a){let f=await n.body();f.setEncoding("utf8");let c=t.get(ma).fastCancellation(s);return new Ey(t,r,n,f,s,l!=null?l:["content_filter"],c,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),zl.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),zl.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,s,l,a;let r="";e:for await(let f of this.body){if(this.maybeCancel("after awaiting body chunk"))return;zl.debug(this.ctx,"chunk",f.toString());let[c,u]=_G(r+f.toString());r=u;for(let d of c){let h=d.slice(5).trim();if(h=="[DONE]"){yield*this.finishSolutions();return}let m;try{m=JSON.parse(h)}catch{zl.error(this.ctx,"Error parsing JSON stream data",d);continue}if(m.choices===void 0){m.error!==void 0?zl.error(this.ctx,"Error in response:",m.error.message):zl.error(this.ctx,"Unexpected response with no choices or error: "+h);continue}if(this.requestId.created==0&&(this.requestId=W9(this.response,m),this.requestId.created==0&&zl.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let p=0;p<m.choices.length;p++){let v=m.choices[p];zl.debug(this.ctx,"choice",v),this.stats.add(v.index),v.index in this.solutions||(this.solutions[v.index]=new QE);let x=this.solutions[v.index];if(x==null)continue;x.append(v);let E,I=((n=v.text)==null?void 0:n.indexOf(`
`))>-1||((l=(s=v.delta)==null?void 0:s.content)==null?void 0:l.indexOf(`
`))>-1;if((v.finish_reason||I)&&(E=await t(x.text.join(""),x.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(v.finish_reason||E!==void 0))continue;let L=(a=v.finish_reason)!=null?a:"client-trimmed";if(Ai(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:L})),this.dropCompletionReasons.includes(v.finish_reason)?this.solutions[v.index]=null:(this.stats.markYielded(v.index),yield{solution:x,finishOffset:E,reason:v.finish_reason,requestId:this.requestId,index:v.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[v.index]=null}}}for(let[f,c]of Object.entries(this.solutions)){let u=Number(f);if(c!=null&&(this.stats.markYielded(u),yield{solution:c,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let f=JSON.parse(r);f.error!==void 0&&zl.error(this.ctx,`Error in response: ${f.error.message}`,f.error)}catch{zl.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(zl.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};o(Ey,"SSEProcessor");var Cy=Ey;function nD(e,t,r){let n=t.solution.text.join(""),s=!1;t.finishOffset!==void 0&&(zl.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),s=!0),zl.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),zl.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let l=bG(t.solution);return eD(e,n,l,t.index,t.requestId,s,r)}o(nD,"prepareSolutionForReturn");function bG(e){let t=e.text.join(""),r=CG(e),n={text:t,tokens:e.text,function_call:r};if(e.logprobs.length===0)return n;let s=e.logprobs.reduce((c,u)=>c.concat(u),[]),l=e.top_logprobs.reduce((c,u)=>c.concat(u),[]),a=e.text_offset.reduce((c,u)=>c.concat(u),[]),f=e.tokens.reduce((c,u)=>c.concat(u),[]);return{...n,logprobs:{token_logprobs:s,top_logprobs:l,text_offset:a,tokens:f}}}o(bG,"convertToAPIJsonData");function CG(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t}}}o(CG,"extractFunctionCall");var aT=class aT{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new nT)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};o(aT,"ChunkStats");var rT=aT,lT=class lT{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};o(lT,"ChoiceStats");var nT=lT;var gf=new Pi(1,"fetchCompletions");function W9(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(W9,"getRequestId");function EG(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(EG,"getProcessingTime");function fT(e,t){let r=t.split("/").pop();return r||(gf.error(e,"Malformed engine URL: "+t),t)}o(fT,"extractEngineName");function TG(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(TG,"uiKindToIntent");var cT=class cT{};o(cT,"OpenAIFetcher");var yd=cT;function SG(e,t,r,n,s,l,a,f,c,u){var x;let d=e.get(Tu),h=iD.format("%s/%s",r,n);if(!a){gf.error(e,`Failed to send request to ${h} due to missing key`);return}let m=ps.createAndMarkAsIssued({endpoint:n,engineName:fT(e,r),uiKind:f},bE(t));u&&(m=m.extendedBy(u));for(let[E,I]of Object.entries(l))E=="prompt"||E=="suffix"||(m.properties[`request.option.${E}`]=(x=JSON.stringify(I))!=null?x:"undefined");m.properties.headerRequestId=s,Ai(e,"request.sent",m);let p=Eu(),v=TG(f);return PC(e,h,a,v,s,l,c).then(E=>{let I=W9(E,void 0);m.extendWithRequestId(I);let P=Eu()-p;return m.measurements.totalTimeMs=P,gf.info(e,`request.response: [${h}] took ${P} ms`),gf.debug(e,"request.response properties",m.properties),gf.debug(e,"request.response measurements",m.measurements),gf.debug(e,"prompt:",t),Ai(e,"request.response",m),E}).catch(E=>{var L,F,B,V;if(AC(E))throw E;d.setWarning(E.message);let I=m.extendedBy({error:"Network exception"});Ai(e,"request.shownWarning",I),m.properties.message=String((L=E.name)!=null?L:""),m.properties.code=String((F=E.code)!=null?F:""),m.properties.errno=String((B=E.errno)!=null?B:""),m.properties.type=String((V=E.type)!=null?V:"");let P=Eu()-p;throw m.measurements.totalTimeMs=P,gf.debug(e,`request.response: [${h}] took ${P} ms`),gf.debug(e,"request.error properties",m.properties),gf.debug(e,"request.error measurements",m.measurements),Ai(e,"request.error",m),E}).finally(()=>{pk(e,t,m)})}o(SG,"fetchWithInstrumentation");function IG(e,t){return t!=null&&t?e:Bk(e,async r=>r.completionText.trim().length>0)}o(IG,"postProcessChoices");var uT=class uT extends yd{async fetchAndStreamCompletions(t,r,n,s,l,a){let f=t.get(Tu),c="completions",u=await this.fetchWithParameters(t,c,r,n,l,a);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(l!=null&&l.isCancellationRequested){let v=await u.body();try{v.destroy()}catch(x){gf.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u===void 0){let v=this.createTelemetryData(c,t,r);return f.setWarning(),v.properties.error="Response was undefined",Ai(t,"request.shownWarning",v),{type:"failed",reason:"fetch response was undefined"}}if(u.status!==200){let v=this.createTelemetryData(c,t,r);return this.handleError(t,f,v,u)}let d=t.get(ma).dropCompletionReasons(n),m=(await Cy.create(t,r.count,u,n,d,l)).processSSE(s),p=Dk(m,async v=>nD(t,v,n));return{type:"success",choices:IG(p,r.allowEmptyChoices),getProcessingTime:()=>EG(u)}}createTelemetryData(t,r,n){return ps.createAndMarkAsIssued({endpoint:t,engineName:fT(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,s,l,a){let f=t.get(ma).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:ZE(t),temperature:XE(t,n.count),top_p:rD(t),n:n.count,stop:tD(t,n.languageId)};(n.requestLogProbs||!f)&&(c.logprobs=2);let u=YE(n.repoInfo);return u!==void 0&&(c.nwo=u),n.postOptions&&Object.assign(c,n.postOptions),await new Promise((h,m)=>{setImmediate(h)}),l!=null&&l.isCancellationRequested?"not-sent":await SG(t,n.prompt,n.engineUrl,r,n.ourRequestId,c,(await t.get(Vl).getCopilotToken(t)).token,n.uiKind,l,a)}async handleError(t,r,n,s){if(r.setWarning(),n.properties.error=`Response status was ${s.status}`,n.properties.status=String(s.status),Ai(t,"request.shownWarning",n),s.status===401||s.status===403)return t.get(Vl).resetCopilotToken(t,s.status),{type:"failed",reason:`token expired or invalid: ${s.status}`};if(s.status===499)return gf.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let l=await s.text();return s.status===466?(r.setError(l),gf.info(t,l),{type:"failed",reason:`client not supported: ${l}`}):(gf.error(t,"Unhandled status from server:",s.status,l),{type:"failed",reason:`unhandled status from server: ${s.status} ${l}`})}};o(uT,"LiveOpenAIFetcher");var Y9=uT;var J9=class J9{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(J9.isIncremental(n)){let s=oD(n.range),l=this.offsetAt(s.start),a=this.offsetAt(s.end);this._content=this._content.substring(0,l)+n.text+this._content.substring(a,this._content.length);let f=Math.max(s.start.line,0),c=Math.max(s.end.line,0),u=this._lineOffsets,d=sD(n.text,!1,l);if(c-f===d.length)for(let m=0,p=d.length;m<p;m++)u[m+f+1]=d[m];else d.length<1e4?u.splice(f+1,c-f,...d):this._lineOffsets=u=u.slice(0,f+1).concat(d,u.slice(c+1));let h=n.text.length-(a-l);if(h!==0)for(let m=f+1+d.length,p=u.length;m<p;m++)u[m]=u[m]+h}else if(J9.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=sD(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return{line:0,character:t};for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return{line:l,character:t-r[l]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};o(J9,"FullTextDocument");var Ty=J9,dT;(function(e){function t(s,l,a,f){return new Ty(s,l,a,f)}o(t,"create"),e.create=t;function r(s,l,a){if(s instanceof Ty)return s.update(l,a),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(s,l){let a=s.getText(),f=hT(l.map(wG),(d,h)=>{let m=d.range.start.line-h.range.start.line;return m===0?d.range.start.character-h.range.start.character:m}),c=0,u=[];for(let d of f){let h=s.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&u.push(a.substring(c,h)),d.newText.length&&u.push(d.newText),c=s.offsetAt(d.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(dT||(dT={}));function hT(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);hT(n,t),hT(s,t);let l=0,a=0,f=0;for(;l<n.length&&a<s.length;)t(n[l],s[a])<=0?e[f++]=n[l++]:e[f++]=s[a++];for(;l<n.length;)e[f++]=n[l++];for(;a<s.length;)e[f++]=s[a++];return e}o(hT,"mergeSort");function sD(e,t,r=0){let n=t?[r]:[];for(let s=0;s<e.length;s++){let l=e.charCodeAt(s);(l===13||l===10)&&(l===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,n.push(r+s+1))}return n}o(sD,"computeLineOffsets");function oD(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(oD,"getWellformedRange");function wG(e){let t=oD(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(wG,"getWellformedEdit");var aD;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(aD||(aD={}));var gT;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(gT||(gT={}));var lD;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(lD||(lD={}));var Sy;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Sy||(Sy={}));var Hf;(function(e){function t(n,s){return n===Number.MAX_VALUE&&(n=Sy.MAX_VALUE),s===Number.MAX_VALUE&&(s=Sy.MAX_VALUE),{line:n,character:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.line)&&p0.uinteger(s.character)}o(r,"is"),e.is=r})(Hf||(Hf={}));var js;(function(e){function t(n,s,l,a){if(p0.uinteger(n)&&p0.uinteger(s)&&p0.uinteger(l)&&p0.uinteger(a))return{start:Hf.create(n,s),end:Hf.create(l,a)};if(Hf.is(n)&&Hf.is(s))return{start:n,end:s};throw new Error(`Range#create called with invalid arguments[${n}, ${s}, ${l}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Hf.is(s.start)&&Hf.is(s.end)}o(r,"is"),e.is=r})(js||(js={}));var Iy;(function(e){function t(n,s){return{uri:n,range:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&js.is(s.range)&&(p0.string(s.uri)||p0.undefined(s.uri))}o(r,"is"),e.is=r})(Iy||(Iy={}));var fD;(function(e){function t(n,s,l,a){return{targetUri:n,targetRange:s,targetSelectionRange:l,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&js.is(s.targetRange)&&p0.string(s.targetUri)&&js.is(s.targetSelectionRange)&&(js.is(s.originSelectionRange)||p0.undefined(s.originSelectionRange))}o(r,"is"),e.is=r})(fD||(fD={}));var mT;(function(e){function t(n,s,l,a){return{red:n,green:s,blue:l,alpha:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.numberRange(s.red,0,1)&&p0.numberRange(s.green,0,1)&&p0.numberRange(s.blue,0,1)&&p0.numberRange(s.alpha,0,1)}o(r,"is"),e.is=r})(mT||(mT={}));var cD;(function(e){function t(n,s){return{range:n,color:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&js.is(s.range)&&mT.is(s.color)}o(r,"is"),e.is=r})(cD||(cD={}));var uD;(function(e){function t(n,s,l){return{label:n,textEdit:s,additionalTextEdits:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.undefined(s.textEdit)||G8.is(s))&&(p0.undefined(s.additionalTextEdits)||p0.typedArray(s.additionalTextEdits,G8.is))}o(r,"is"),e.is=r})(uD||(uD={}));var dD;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(dD||(dD={}));var hD;(function(e){function t(n,s,l,a,f,c){let u={startLine:n,endLine:s};return p0.defined(l)&&(u.startCharacter=l),p0.defined(a)&&(u.endCharacter=a),p0.defined(f)&&(u.kind=f),p0.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.startLine)&&p0.uinteger(s.startLine)&&(p0.undefined(s.startCharacter)||p0.uinteger(s.startCharacter))&&(p0.undefined(s.endCharacter)||p0.uinteger(s.endCharacter))&&(p0.undefined(s.kind)||p0.string(s.kind))}o(r,"is"),e.is=r})(hD||(hD={}));var pT;(function(e){function t(n,s){return{location:n,message:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Iy.is(s.location)&&p0.string(s.message)}o(r,"is"),e.is=r})(pT||(pT={}));var gD;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(gD||(gD={}));var mD;(function(e){e.Unnecessary=1,e.Deprecated=2})(mD||(mD={}));var pD;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&p0.string(n.href)}o(t,"is"),e.is=t})(pD||(pD={}));var wy;(function(e){function t(n,s,l,a,f,c){let u={range:n,message:s};return p0.defined(l)&&(u.severity=l),p0.defined(a)&&(u.code=a),p0.defined(f)&&(u.source=f),p0.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var s;let l=n;return p0.defined(l)&&js.is(l.range)&&p0.string(l.message)&&(p0.number(l.severity)||p0.undefined(l.severity))&&(p0.integer(l.code)||p0.string(l.code)||p0.undefined(l.code))&&(p0.undefined(l.codeDescription)||p0.string((s=l.codeDescription)===null||s===void 0?void 0:s.href))&&(p0.string(l.source)||p0.undefined(l.source))&&(p0.undefined(l.relatedInformation)||p0.typedArray(l.relatedInformation,pT.is))}o(r,"is"),e.is=r})(wy||(wy={}));var z8;(function(e){function t(n,s,...l){let a={title:n,command:s};return p0.defined(l)&&l.length>0&&(a.arguments=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.title)&&p0.string(s.command)}o(r,"is"),e.is=r})(z8||(z8={}));var G8;(function(e){function t(l,a){return{range:l,newText:a}}o(t,"replace"),e.replace=t;function r(l,a){return{range:{start:l,end:l},newText:a}}o(r,"insert"),e.insert=r;function n(l){return{range:l,newText:""}}o(n,"del"),e.del=n;function s(l){let a=l;return p0.objectLiteral(a)&&p0.string(a.newText)&&js.is(a.range)}o(s,"is"),e.is=s})(G8||(G8={}));var yT;(function(e){function t(n,s,l){let a={label:n};return s!==void 0&&(a.needsConfirmation=s),l!==void 0&&(a.description=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(p0.string(s.description)||s.description===void 0)}o(r,"is"),e.is=r})(yT||(yT={}));var K8;(function(e){function t(r){let n=r;return p0.string(n)}o(t,"is"),e.is=t})(K8||(K8={}));var yD;(function(e){function t(l,a,f){return{range:l,newText:a,annotationId:f}}o(t,"replace"),e.replace=t;function r(l,a,f){return{range:{start:l,end:l},newText:a,annotationId:f}}o(r,"insert"),e.insert=r;function n(l,a){return{range:l,newText:"",annotationId:a}}o(n,"del"),e.del=n;function s(l){let a=l;return G8.is(a)&&(yT.is(a.annotationId)||K8.is(a.annotationId))}o(s,"is"),e.is=s})(yD||(yD={}));var vT;(function(e){function t(n,s){return{textDocument:n,edits:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&ET.is(s.textDocument)&&Array.isArray(s.edits)}o(r,"is"),e.is=r})(vT||(vT={}));var xT;(function(e){function t(n,s,l){let a={kind:"create",uri:n};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="create"&&p0.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||K8.is(s.annotationId))}o(r,"is"),e.is=r})(xT||(xT={}));var _T;(function(e){function t(n,s,l,a){let f={kind:"rename",oldUri:n,newUri:s};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(f.options=l),a!==void 0&&(f.annotationId=a),f}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="rename"&&p0.string(s.oldUri)&&p0.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||K8.is(s.annotationId))}o(r,"is"),e.is=r})(_T||(_T={}));var bT;(function(e){function t(n,s,l){let a={kind:"delete",uri:n};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="delete"&&p0.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||p0.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||p0.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||K8.is(s.annotationId))}o(r,"is"),e.is=r})(bT||(bT={}));var CT;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(s=>p0.string(s.kind)?xT.is(s)||_T.is(s)||bT.is(s):vT.is(s)))}o(t,"is"),e.is=t})(CT||(CT={}));var vD;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)}o(r,"is"),e.is=r})(vD||(vD={}));var xD;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.integer(s.version)}o(r,"is"),e.is=r})(xD||(xD={}));var ET;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&(s.version===null||p0.integer(s.version))}o(r,"is"),e.is=r})(ET||(ET={}));var _D;(function(e){function t(n,s,l,a){return{uri:n,languageId:s,version:l,text:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.string(s.languageId)&&p0.integer(s.version)&&p0.string(s.text)}o(r,"is"),e.is=r})(_D||(_D={}));var TT;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(TT||(TT={}));var X9;(function(e){function t(r){let n=r;return p0.objectLiteral(r)&&TT.is(n.kind)&&p0.string(n.value)}o(t,"is"),e.is=t})(X9||(X9={}));var bD;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(bD||(bD={}));var CD;(function(e){e.PlainText=1,e.Snippet=2})(CD||(CD={}));var ED;(function(e){e.Deprecated=1})(ED||(ED={}));var TD;(function(e){function t(n,s,l){return{newText:n,insert:s,replace:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.newText)&&js.is(s.insert)&&js.is(s.replace)}o(r,"is"),e.is=r})(TD||(TD={}));var SD;(function(e){e.asIs=1,e.adjustIndentation=2})(SD||(SD={}));var ID;(function(e){function t(r){let n=r;return n&&(p0.string(n.detail)||n.detail===void 0)&&(p0.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(ID||(ID={}));var wD;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(wD||(wD={}));var AD;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(AD||(AD={}));var Ay;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let s=n;return p0.string(s)||p0.objectLiteral(s)&&p0.string(s.language)&&p0.string(s.value)}o(r,"is"),e.is=r})(Ay||(Ay={}));var PD;(function(e){function t(r){let n=r;return!!n&&p0.objectLiteral(n)&&(X9.is(n.contents)||Ay.is(n.contents)||p0.typedArray(n.contents,Ay.is))&&(r.range===void 0||js.is(r.range))}o(t,"is"),e.is=t})(PD||(PD={}));var RD;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(RD||(RD={}));var ND;(function(e){function t(r,n,...s){let l={label:r};return p0.defined(n)&&(l.documentation=n),p0.defined(s)?l.parameters=s:l.parameters=[],l}o(t,"create"),e.create=t})(ND||(ND={}));var kD;(function(e){e.Text=1,e.Read=2,e.Write=3})(kD||(kD={}));var DD;(function(e){function t(r,n){let s={range:r};return p0.number(n)&&(s.kind=n),s}o(t,"create"),e.create=t})(DD||(DD={}));var BD;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(BD||(BD={}));var LD;(function(e){e.Deprecated=1})(LD||(LD={}));var FD;(function(e){function t(r,n,s,l,a){let f={name:r,kind:n,location:{uri:l,range:s}};return a&&(f.containerName=a),f}o(t,"create"),e.create=t})(FD||(FD={}));var OD;(function(e){function t(r,n,s,l){return l!==void 0?{name:r,kind:n,location:{uri:s,range:l}}:{name:r,kind:n,location:{uri:s}}}o(t,"create"),e.create=t})(OD||(OD={}));var MD;(function(e){function t(n,s,l,a,f,c){let u={name:n,detail:s,kind:l,range:a,selectionRange:f};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.name)&&p0.number(s.kind)&&js.is(s.range)&&js.is(s.selectionRange)&&(s.detail===void 0||p0.string(s.detail))&&(s.deprecated===void 0||p0.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}o(r,"is"),e.is=r})(MD||(MD={}));var UD;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(UD||(UD={}));var Py;(function(e){e.Invoked=1,e.Automatic=2})(Py||(Py={}));var qD;(function(e){function t(n,s,l){let a={diagnostics:n};return s!=null&&(a.only=s),l!=null&&(a.triggerKind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.typedArray(s.diagnostics,wy.is)&&(s.only===void 0||p0.typedArray(s.only,p0.string))&&(s.triggerKind===void 0||s.triggerKind===Py.Invoked||s.triggerKind===Py.Automatic)}o(r,"is"),e.is=r})(qD||(qD={}));var $D;(function(e){function t(n,s,l){let a={title:n},f=!0;return typeof s=="string"?(f=!1,a.kind=s):z8.is(s)?a.command=s:a.edit=s,f&&l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.title)&&(s.diagnostics===void 0||p0.typedArray(s.diagnostics,wy.is))&&(s.kind===void 0||p0.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||z8.is(s.command))&&(s.isPreferred===void 0||p0.boolean(s.isPreferred))&&(s.edit===void 0||CT.is(s.edit))}o(r,"is"),e.is=r})($D||($D={}));var HD;(function(e){function t(n,s){let l={range:n};return p0.defined(s)&&(l.data=s),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&js.is(s.range)&&(p0.undefined(s.command)||z8.is(s.command))}o(r,"is"),e.is=r})(HD||(HD={}));var jD;(function(e){function t(n,s){return{tabSize:n,insertSpaces:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.uinteger(s.tabSize)&&p0.boolean(s.insertSpaces)}o(r,"is"),e.is=r})(jD||(jD={}));var VD;(function(e){function t(n,s,l){return{range:n,target:s,data:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&js.is(s.range)&&(p0.undefined(s.target)||p0.string(s.target))}o(r,"is"),e.is=r})(VD||(VD={}));var zD;(function(e){function t(n,s){return{range:n,parent:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&js.is(s.range)&&(s.parent===void 0||e.is(s.parent))}o(r,"is"),e.is=r})(zD||(zD={}));var GD;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(GD||(GD={}));var KD;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(KD||(KD={}));var WD;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(WD||(WD={}));var YD;(function(e){function t(n,s){return{range:n,text:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&js.is(s.range)&&p0.string(s.text)}o(r,"is"),e.is=r})(YD||(YD={}));var JD;(function(e){function t(n,s,l){return{range:n,variableName:s,caseSensitiveLookup:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&js.is(s.range)&&p0.boolean(s.caseSensitiveLookup)&&(p0.string(s.variableName)||s.variableName===void 0)}o(r,"is"),e.is=r})(JD||(JD={}));var XD;(function(e){function t(n,s){return{range:n,expression:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&js.is(s.range)&&(p0.string(s.expression)||s.expression===void 0)}o(r,"is"),e.is=r})(XD||(XD={}));var ZD;(function(e){function t(n,s){return{frameId:n,stoppedLocation:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&js.is(n.stoppedLocation)}o(r,"is"),e.is=r})(ZD||(ZD={}));var ST;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(ST||(ST={}));var IT;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&(s.tooltip===void 0||p0.string(s.tooltip)||X9.is(s.tooltip))&&(s.location===void 0||Iy.is(s.location))&&(s.command===void 0||z8.is(s.command))}o(r,"is"),e.is=r})(IT||(IT={}));var QD;(function(e){function t(n,s,l){let a={position:n,label:s};return l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Hf.is(s.position)&&(p0.string(s.label)||p0.typedArray(s.label,IT.is))&&(s.kind===void 0||ST.is(s.kind))&&s.textEdits===void 0||p0.typedArray(s.textEdits,G8.is)&&(s.tooltip===void 0||p0.string(s.tooltip)||X9.is(s.tooltip))&&(s.paddingLeft===void 0||p0.boolean(s.paddingLeft))&&(s.paddingRight===void 0||p0.boolean(s.paddingRight))}o(r,"is"),e.is=r})(QD||(QD={}));var eB;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(eB||(eB={}));var tB;(function(e){function t(r,n,s,l){return{insertText:r,filterText:n,range:s,command:l}}o(t,"create"),e.create=t})(tB||(tB={}));var rB;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(rB||(rB={}));var nB;(function(e){e.Invoked=0,e.Automatic=1})(nB||(nB={}));var iB;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(iB||(iB={}));var sB;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(sB||(sB={}));var oB;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&gT.is(n.uri)&&p0.string(n.name)}o(t,"is"),e.is=t})(oB||(oB={}));var aB;(function(e){function t(l,a,f,c){return new wT(l,a,f,c)}o(t,"create"),e.create=t;function r(l){let a=l;return!!(p0.defined(a)&&p0.string(a.uri)&&(p0.undefined(a.languageId)||p0.string(a.languageId))&&p0.uinteger(a.lineCount)&&p0.func(a.getText)&&p0.func(a.positionAt)&&p0.func(a.offsetAt))}o(r,"is"),e.is=r;function n(l,a){let f=l.getText(),c=s(a,(d,h)=>{let m=d.range.start.line-h.range.start.line;return m===0?d.range.start.character-h.range.start.character:m}),u=f.length;for(let d=c.length-1;d>=0;d--){let h=c[d],m=l.offsetAt(h.range.start),p=l.offsetAt(h.range.end);if(p<=u)f=f.substring(0,m)+h.newText+f.substring(p,f.length);else throw new Error("Overlapping edit");u=m}return f}o(n,"applyEdits"),e.applyEdits=n;function s(l,a){if(l.length<=1)return l;let f=l.length/2|0,c=l.slice(0,f),u=l.slice(f);s(c,a),s(u,a);let d=0,h=0,m=0;for(;d<c.length&&h<u.length;)a(c[d],u[h])<=0?l[m++]=c[d++]:l[m++]=u[h++];for(;d<c.length;)l[m++]=c[d++];for(;h<u.length;)l[m++]=u[h++];return l}o(s,"mergeSort")})(aB||(aB={}));var AT=class AT{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let s=0;s<r.length;s++){n&&(t.push(s),n=!1);let l=r.charAt(s);n=l==="\r"||l===`
`,l==="\r"&&s+1<r.length&&r.charAt(s+1)===`
`&&s++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return Hf.create(0,t);for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return Hf.create(l,t-r[l])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}};o(AT,"FullTextDocument");var wT=AT,p0;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function s(p){return p===!0||p===!1}o(s,"boolean"),e.boolean=s;function l(p){return t.call(p)==="[object String]"}o(l,"string"),e.string=l;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function f(p,v,x){return t.call(p)==="[object Number]"&&v<=p&&p<=x}o(f,"numberRange"),e.numberRange=f;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function d(p){return t.call(p)==="[object Function]"}o(d,"func"),e.func=d;function h(p){return p!==null&&typeof p=="object"}o(h,"objectLiteral"),e.objectLiteral=h;function m(p,v){return Array.isArray(p)&&p.every(v)}o(m,"typedArray"),e.typedArray=m})(p0||(p0={}));var Su=_n(gu());var AG=["getFunctionPositions","isEmptyBlockStart","isBlockBodyFinished","getNodeStart","parsesWithoutError"],PG=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],oae=[...AG,...PG];var NG=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),hae=new RegExp(`^(${NG.join("|")})`);var Du=_n(gu());function DG(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}o(DG,"isDocumentTooLarge");async function PT(e,t){var n;if(DG(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(Z9).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}o(PT,"isDocumentValid");var BG=require("path"),RT=class RT{constructor(t){this.ctx=t}async textDocuments(){let t=await this.getOpenTextDocuments(),r=[];for(let n of t)(await PT(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentWithValidation(t){try{let n=(await this.getOpenTextDocuments()).find(s=>s.uri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):PT(this.ctx,n)}catch{return await this.notFoundResult(t)}}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.uri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.uri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return BG.basename(t.uri.fsPath)}}};o(RT,"TextDocumentManager");var mf=RT;var fB="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var Ry={isBlocked:!1,reason:"VALID_FILE"},Iu={isBlocked:!1,reason:"NO_MATCHING_POLICY"},Q9={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var NT=class NT{};o(NT,"PolicyEvaluator");var W8=NT;var vf=_n(ql());var Ny=new WeakMap;function ky(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",s=0,l=Object.prototype.toString.call(e);if(l!=="[object RegExp]"&&l!=="[object Date]"&&Ny.has(e))return Ny.get(e);switch(Ny.set(e,"~"+ ++t),l){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";s<r.length;n+=ky(r[s++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();s<r.length;n+=r[s]+ky(e[r[s++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();s<r.length;n+=r[s]+ky(e.get(r[s++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return Ny.set(e,n),n}o(ky,"t");function Dy(e){return ky(e,0)}o(Dy,"r");var kT=new WeakMap;function cB(e,t,r=Dy(t)){let n,s,l=kT.get(e);l||(kT.set(e,l=[[],s=[],n=[]]),queueMicrotask(function(){let u,d=0;function h(m){for(;u=n[d++];u.r(m));}o(h,"o"),kT.delete(e),e(s).then(function(m){if(m.length!==n.length)return h(new Error("loader value length mismatch"));for(;u=m[d++],d<=m.length;u instanceof Error?n[d-1].r(u):n[d-1].s(u));},h)}));let a=l[0].indexOf(r);if(~a)return l[2][a].p;let f=l[0].push(r)-1,c=l[2][f]={};return l[1][f]=t,c.p=new Promise(function(u,d){c.s=u,c.r=d})}o(cB,"n");var uB=new WeakMap;function LG(e,t,r,n=Dy(r)){if(t||(t=uB.get(e)),t||uB.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let s=cB(e,r,n);return t.set(n,s),s.catch(()=>t.delete(n)),s}o(LG,"n");function By(e,t){return function(r,n){return LG(e,t,r,n)}}o(By,"o");var BB=_n(TB(),1);var t7=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var jG={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},r7=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),VG=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),SB=o(e=>e.join(""),"rangesToString"),IB=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],s=[],l=r+1,a=!1,f=!1,c=!1,u=!1,d=r,h="";e:for(;l<e.length;){let x=e.charAt(l);if((x==="!"||x==="^")&&l===r+1){u=!0,l++;continue}if(x==="]"&&a&&!c){d=l+1;break}if(a=!0,x==="\\"&&!c){c=!0,l++;continue}if(x==="["&&!c){for(let[E,[I,P,L]]of Object.entries(jG))if(e.startsWith(E,l)){if(h)return["$.",!1,e.length-r,!0];l+=E.length,L?s.push(I):n.push(I),f=f||P;continue e}}if(c=!1,h){x>h?n.push(r7(h)+"-"+r7(x)):x===h&&n.push(r7(x)),h="",l++;continue}if(e.startsWith("-]",l+1)){n.push(r7(x+"-")),l+=2;continue}if(e.startsWith("-",l+1)){h=x,l+=2;continue}n.push(r7(x)),l++}if(d<l)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[VG(x),!1,d-r,!1]}let m="["+(u?"^":"")+SB(n)+"]",p="["+(u?"":"^")+SB(s)+"]";return[n.length&&s.length?"("+m+"|"+p+")":n.length?m:p,f,d-r,!0]},"parseClass");var e3=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var zG=new Set(["!","?","+","*","@"]),wB=o(e=>zG.has(e),"isExtglobType"),GG="(?!(?:^|/)\\.\\.?(?:$|/))",Ly="(?!\\.)",KG=new Set(["[","."]),WG=new Set(["..","."]),YG=new Set("().*{}+?[]^$\\!"),JG=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),FT="[^/]",AB=FT+"*?",PB=FT+"+?",ya,Pa,wu,Ns,fa,t3,vd,r3,Au,xd,n7,Oy,RB,Y8,Fy,i7,LT,My,NB,Ya=class Ya{constructor(t,r,n={}){qi(this,Oy);qi(this,i7);ia(this,"type");qi(this,ya,void 0);qi(this,Pa,void 0);qi(this,wu,!1);qi(this,Ns,[]);qi(this,fa,void 0);qi(this,t3,void 0);qi(this,vd,void 0);qi(this,r3,!1);qi(this,Au,void 0);qi(this,xd,void 0);qi(this,n7,!1);this.type=t,t&&Ii(this,Pa,!0),Ii(this,fa,r),Ii(this,ya,P0(this,fa)?P0(P0(this,fa),ya):this),Ii(this,Au,P0(this,ya)===this?n:P0(P0(this,ya),Au)),Ii(this,vd,P0(this,ya)===this?[]:P0(P0(this,ya),vd)),t==="!"&&!P0(P0(this,ya),r3)&&P0(this,vd).push(this),Ii(this,t3,P0(this,fa)?P0(P0(this,fa),Ns).length:0)}get hasMagic(){if(P0(this,Pa)!==void 0)return P0(this,Pa);for(let t of P0(this,Ns))if(typeof t!="string"&&(t.type||t.hasMagic))return Ii(this,Pa,!0);return P0(this,Pa)}toString(){return P0(this,xd)!==void 0?P0(this,xd):this.type?Ii(this,xd,this.type+"("+P0(this,Ns).map(t=>String(t)).join("|")+")"):Ii(this,xd,P0(this,Ns).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Ya&&P0(r,fa)===this))throw new Error("invalid part: "+r);P0(this,Ns).push(r)}}toJSON(){var r;let t=this.type===null?P0(this,Ns).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...P0(this,Ns).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===P0(this,ya)||P0(P0(this,ya),r3)&&((r=P0(this,fa))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(P0(this,ya)===this)return!0;if(!((r=P0(this,fa))!=null&&r.isStart()))return!1;if(P0(this,t3)===0)return!0;let t=P0(this,fa);for(let n=0;n<P0(this,t3);n++){let s=P0(t,Ns)[n];if(!(s instanceof Ya&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(P0(this,ya)===this||((r=P0(this,fa))==null?void 0:r.type)==="!")return!0;if(!((n=P0(this,fa))!=null&&n.isEnd()))return!1;if(!this.type)return(s=P0(this,fa))==null?void 0:s.isEnd();let t=P0(this,fa)?P0(P0(this,fa),Ns).length:0;return P0(this,t3)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Ya(this.type,t);for(let n of P0(this,Ns))r.copyIn(n);return r}static fromGlob(t,r={}){var s;let n=new Ya(null,void 0,r);return cl(s=Ya,Y8,Fy).call(s,t,n,0,r),n}toMMPattern(){if(this!==P0(this,ya))return P0(this,ya).toMMPattern();let t=this.toString(),[r,n,s,l]=this.toRegExpSource();if(!(s||P0(this,Pa)||P0(this,Au).nocase&&!P0(this,Au).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let f=(P0(this,Au).nocase?"i":"")+(l?"u":"");return Object.assign(new RegExp(`^${r}$`,f),{_src:r,_glob:t})}toRegExpSource(t){var c;let r=t!=null?t:!!P0(this,Au).dot;if(P0(this,ya)===this&&cl(this,Oy,RB).call(this),!this.type){let u=this.isStart()&&this.isEnd(),d=P0(this,Ns).map(v=>{var L;let[x,E,I,P]=typeof v=="string"?cl(L=Ya,My,NB).call(L,v,P0(this,Pa),u):v.toRegExpSource(t);return Ii(this,Pa,P0(this,Pa)||I),Ii(this,wu,P0(this,wu)||P),x}).join(""),h="";if(this.isStart()&&typeof P0(this,Ns)[0]=="string"&&!(P0(this,Ns).length===1&&WG.has(P0(this,Ns)[0]))){let x=KG,E=r&&x.has(d.charAt(0))||d.startsWith("\\.")&&x.has(d.charAt(2))||d.startsWith("\\.\\.")&&x.has(d.charAt(4)),I=!r&&!t&&x.has(d.charAt(0));h=E?GG:I?Ly:""}let m="";return this.isEnd()&&P0(P0(this,ya),r3)&&((c=P0(this,fa))==null?void 0:c.type)==="!"&&(m="(?:$|\\/)"),[h+d+m,e3(d),Ii(this,Pa,!!P0(this,Pa)),P0(this,wu)]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",l=cl(this,i7,LT).call(this,r);if(this.isStart()&&this.isEnd()&&!l&&this.type!=="!"){let u=this.toString();return Ii(this,Ns,[u]),this.type=null,Ii(this,Pa,void 0),[u,e3(this.toString()),!1,!1]}let a=!n||t||r||!Ly?"":cl(this,i7,LT).call(this,!0);a===l&&(a=""),a&&(l=`(?:${l})(?:${a})*?`);let f="";if(this.type==="!"&&P0(this,n7))f=(this.isStart()&&!r?Ly:"")+PB;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Ly:"")+AB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;f=s+l+u}return[f,e3(l),Ii(this,Pa,!!P0(this,Pa)),P0(this,wu)]}};ya=new WeakMap,Pa=new WeakMap,wu=new WeakMap,Ns=new WeakMap,fa=new WeakMap,t3=new WeakMap,vd=new WeakMap,r3=new WeakMap,Au=new WeakMap,xd=new WeakMap,n7=new WeakMap,Oy=new WeakSet,RB=o(function(){if(this!==P0(this,ya))throw new Error("should only call on root");if(P0(this,r3))return this;this.toString(),Ii(this,r3,!0);let t;for(;t=P0(this,vd).pop();){if(t.type!=="!")continue;let r=t,n=P0(r,fa);for(;n;){for(let s=P0(r,t3)+1;!n.type&&s<P0(n,Ns).length;s++)for(let l of P0(t,Ns)){if(typeof l=="string")throw new Error("string part in extglob AST??");l.copyIn(P0(n,Ns)[s])}r=n,n=P0(r,fa)}}return this},"#fillNegs"),Y8=new WeakSet,Fy=o(function(t,r,n,s){var p,v;let l=!1,a=!1,f=-1,c=!1;if(r.type===null){let x=n,E="";for(;x<t.length;){let I=t.charAt(x++);if(l||I==="\\"){l=!l,E+=I;continue}if(a){x===f+1?(I==="^"||I==="!")&&(c=!0):I==="]"&&!(x===f+2&&c)&&(a=!1),E+=I;continue}else if(I==="["){a=!0,f=x,c=!1,E+=I;continue}if(!s.noext&&wB(I)&&t.charAt(x)==="("){r.push(E),E="";let P=new Ya(I,r);x=cl(p=Ya,Y8,Fy).call(p,t,P,x,s),r.push(P);continue}E+=I}return r.push(E),x}let u=n+1,d=new Ya(null,r),h=[],m="";for(;u<t.length;){let x=t.charAt(u++);if(l||x==="\\"){l=!l,m+=x;continue}if(a){u===f+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(u===f+2&&c)&&(a=!1),m+=x;continue}else if(x==="["){a=!0,f=u,c=!1,m+=x;continue}if(wB(x)&&t.charAt(u)==="("){d.push(m),m="";let E=new Ya(x,d);d.push(E),u=cl(v=Ya,Y8,Fy).call(v,t,E,u,s);continue}if(x==="|"){d.push(m),m="",h.push(d),d=new Ya(null,r);continue}if(x===")")return m===""&&P0(r,Ns).length===0&&Ii(r,n7,!0),d.push(m),m="",r.push(...h,d),u;m+=x}return r.type=null,Ii(r,Pa,void 0),Ii(r,Ns,[t.substring(n-1)]),u},"#parseAST"),i7=new WeakSet,LT=o(function(t){return P0(this,Ns).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,s,l,a]=r.toRegExpSource(t);return Ii(this,wu,P0(this,wu)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),My=new WeakSet,NB=o(function(t,r,n=!1){let s=!1,l="",a=!1;for(let f=0;f<t.length;f++){let c=t.charAt(f);if(s){s=!1,l+=(YG.has(c)?"\\":"")+c;continue}if(c==="\\"){f===t.length-1?l+="\\\\":s=!0;continue}if(c==="["){let[u,d,h,m]=IB(t,f);if(h){l+=u,a=a||d,f+=h-1,r=r||m;continue}}if(c==="*"){n&&t==="*"?l+=PB:l+=AB,r=!0;continue}if(c==="?"){l+=FT,r=!0;continue}l+=JG(c)}return[l,e3(t),!!r,a]},"#parseGlob"),qi(Ya,Y8),qi(Ya,My),o(Ya,"AST");var J8=Ya;var OT=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Ja=o((e,t,r={})=>(t7(t),!r.nocomment&&t.charAt(0)==="#"?!1:new X8(t,r).match(e)),"minimatch"),XG=/^\*+([^+@!?\*\[\(]*)$/,ZG=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),QG=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),eK=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),tK=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),rK=/^\*+\.\*+$/,nK=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),iK=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),sK=/^\.\*+$/,oK=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),aK=/^\*+$/,lK=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),fK=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),cK=/^\?+([^+@!?\*\[\(]*)?$/,uK=o(([e,t=""])=>{let r=LB([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),dK=o(([e,t=""])=>{let r=FB([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),hK=o(([e,t=""])=>{let r=FB([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),gK=o(([e,t=""])=>{let r=LB([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),LB=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),FB=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),OB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",kB={win32:{sep:"\\"},posix:{sep:"/"}},mK=OB==="win32"?kB.win32.sep:kB.posix.sep;Ja.sep=mK;var Vf=Symbol("globstar **");Ja.GLOBSTAR=Vf;var pK="[^/]",yK=pK+"*?",vK="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",xK="(?:(?!(?:\\/|^)\\.).)*?",_K=o((e,t={})=>r=>Ja(r,e,t),"filter");Ja.filter=_K;var jf=o((e,t={})=>Object.assign({},e,t),"ext"),bK=o(e=>{var n,s;if(!e||typeof e!="object"||!Object.keys(e).length)return Ja;let t=Ja;return Object.assign(o((l,a,f={})=>t(l,a,jf(e,f)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,f={}){super(a,jf(e,f))}static defaults(a){return t.defaults(jf(e,a)).Minimatch}},o(n,"Minimatch"),n),AST:(s=class extends t.AST{constructor(a,f,c={}){super(a,f,jf(e,c))}static fromGlob(a,f={}){return t.AST.fromGlob(a,jf(e,f))}},o(s,"AST"),s),unescape:(l,a={})=>t.unescape(l,jf(e,a)),escape:(l,a={})=>t.escape(l,jf(e,a)),filter:(l,a={})=>t.filter(l,jf(e,a)),defaults:l=>t.defaults(jf(e,l)),makeRe:(l,a={})=>t.makeRe(l,jf(e,a)),braceExpand:(l,a={})=>t.braceExpand(l,jf(e,a)),match:(l,a,f={})=>t.match(l,a,jf(e,f)),sep:t.sep,GLOBSTAR:Vf})},"defaults");Ja.defaults=bK;var MB=o((e,t={})=>(t7(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,BB.default)(e)),"braceExpand");Ja.braceExpand=MB;var CK=o((e,t={})=>new X8(e,t).makeRe(),"makeRe");Ja.makeRe=CK;var EK=o((e,t,r={})=>{let n=new X8(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e},"match");Ja.match=EK;var DB=/[?*]|[+@!]\(.*?\)|\[|\]/,TK=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),MT=class MT{constructor(t,r={}){ia(this,"options");ia(this,"set");ia(this,"pattern");ia(this,"windowsPathsNoEscape");ia(this,"nonegate");ia(this,"negate");ia(this,"comment");ia(this,"empty");ia(this,"preserveMultipleSlashes");ia(this,"partial");ia(this,"globSet");ia(this,"globParts");ia(this,"nocase");ia(this,"isWindows");ia(this,"platform");ia(this,"windowsNoMagicRoot");ia(this,"regexp");t7(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||OB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...l)=>console.error(...l)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(l=>this.slashSplit(l));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((l,a,f)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=l[0]===""&&l[1]===""&&(l[2]==="?"||!DB.test(l[2]))&&!DB.test(l[3]),u=/^[a-z]:/i.test(l[0]);if(c)return[...l.slice(0,4),...l.slice(4).map(d=>this.parse(d))];if(u)return[l[0],...l.slice(1).map(d=>this.parse(d))]}return l.map(c=>this.parse(c))});if(this.debug(this.pattern,s),this.set=s.filter(l=>l.indexOf(!1)===-1),this.isWindows)for(let l=0;l<this.set.length;l++){let a=this.set[l];a[0]===""&&a[1]===""&&this.globParts[l][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{let l=n[n.length-1];return s==="**"&&l==="**"?n:s===".."&&l&&l!==".."&&l!=="."&&l!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let l=t[s];s===1&&l===""&&t[0]===""||(l==="."||l==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let a=s;for(;n[a+1]==="**";)a++;a>s&&n.splice(s+1,a-s);let f=n[s+1],c=n[s+2],u=n[s+3];if(f!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(s,1);let d=n.slice(0);d[s]="**",t.push(d),s--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let f=n[a];a===1&&f===""&&n[0]===""||(f==="."||f==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let l=0;for(;(l=n.indexOf("..",l+1))!==-1;){let a=n[l-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=l===1&&n[l+1]==="**"?["."]:[];n.splice(l-1,2,...c),n.length===0&&n.push(""),l-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);s&&(t[r]=s,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,l=0,a=[],f="";for(;s<t.length&&l<r.length;)if(t[s]===r[l])a.push(f==="b"?r[l]:t[s]),s++,l++;else if(n&&t[s]==="**"&&r[l]===t[s+1])a.push(t[s]),s++;else if(n&&r[l]==="**"&&t[s]===r[l+1])a.push(r[l]),l++;else if(t[s]==="*"&&r[l]&&(this.options.dot||!r[l].startsWith("."))&&r[l]!=="**"){if(f==="b")return!1;f="a",a.push(t[s]),s++,l++}else if(r[l]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(f==="a")return!1;f="b",a.push(r[l]),s++,l++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let s=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),E=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),I=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),P=!I&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),L=E?3:x?0:void 0,F=P?3:I?0:void 0;if(typeof L=="number"&&typeof F=="number"){let[B,V]=[t[L],r[F]];B.toLowerCase()===V.toLowerCase()&&(r[F]=B,F>L?r=r.slice(F):L>F&&(t=t.slice(L)))}}let{optimizationLevel:l=1}=this.options;l>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,f=0,c=t.length,u=r.length;a<c&&f<u;a++,f++){this.debug("matchOne loop");var d=r[f],h=t[a];if(this.debug(r,d,h),d===!1)return!1;if(d===Vf){this.debug("GLOBSTAR",[r,d,h]);var m=a,p=f+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;m<c;){var v=t[m];if(this.debug(`
globstar while`,t,m,r,p,v),this.matchOne(t.slice(m),r.slice(p),n))return this.debug("globstar found match!",m,c,v),!0;if(v==="."||v===".."||!s.dot&&v.charAt(0)==="."){this.debug("dot detected!",t,m,r,p);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,m,r,p),m===c))}let x;if(typeof d=="string"?(x=h===d,this.debug("string match",d,h,x)):(x=d.test(h),this.debug("pattern match",d,h,x)),!x)return!1}if(a===c&&f===u)return!0;if(a===c)return n;if(f===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return MB(this.pattern,this.options)}parse(t){t7(t);let r=this.options;if(t==="**")return Vf;if(t==="")return"";let n,s=null;(n=t.match(aK))?s=r.dot?fK:lK:(n=t.match(XG))?s=(r.nocase?r.dot?tK:eK:r.dot?QG:ZG)(n[1]):(n=t.match(cK))?s=(r.nocase?r.dot?dK:uK:r.dot?hK:gK)(n):(n=t.match(rK))?s=r.dot?iK:nK:(n=t.match(sK))&&(s=oK);let l=J8.fromGlob(t,this.options).toMMPattern();return s?Object.assign(l,{test:s}):l}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?yK:r.dot?vK:xK,s=new Set(r.nocase?["i"]:[]),l=t.map(c=>{let u=c.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))s.add(h);return typeof d=="string"?TK(d):d===Vf?Vf:d._src});return u.forEach((d,h)=>{let m=u[h+1],p=u[h-1];d!==Vf||p===Vf||(p===void 0?m!==void 0&&m!==Vf?u[h+1]="(?:\\/|"+n+"\\/)?"+m:u[h]=n:m===void 0?u[h-1]=p+"(?:\\/|"+n+")?":m!==Vf&&(u[h-1]=p+"(?:\\/|\\/"+n+"\\/)"+m,u[h+1]=Vf))}),u.filter(d=>d!==Vf).join("/")}).join("|"),[a,f]=t.length>1?["(?:",")"]:["",""];l="^"+a+l+f+"$",this.negate&&(l="^(?!"+l+").+$");try{this.regexp=new RegExp(l,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let l=this.set;this.debug(this.pattern,"set",l);let a=s[s.length-1];if(!a)for(let f=s.length-2;!a&&f>=0;f--)a=s[f];for(let f=0;f<l.length;f++){let c=l[f],u=s;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Ja.defaults(t).Minimatch}};o(MT,"Minimatch");var X8=MT;Ja.AST=J8;Ja.Minimatch=X8;Ja.escape=OT;Ja.unescape=e3;var _d=_n(Q5());var UB=require("child_process");var SK=new Pi(1,"repository"),$y=class $y{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),s=`.${r}`.toLowerCase();return Object.keys(this.data).filter(l=>l.startsWith(n)&&l.endsWith(s)).map(l=>l.slice(n.length,-s.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,s])=>(s.forEach(l=>r.add(n,l)),r),new $y)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};o($y,"GitConfigData");var Z8=$y,UT=class UT{};o(UT,"GitConfigLoader");var gc=UT,qT=class qT extends gc{runCommand(t,r,n){return new Promise((s,l)=>{(0,UB.execFile)(r,n,{cwd:t},(a,f)=>{a?l(a):s(f)})})}async tryRunCommand(t,r,n,s){try{return await this.runCommand(r,n,s)}catch(l){SK.info(t,`Failed to run command '${n}' in ${r}: ${l}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new Z8;for(let n of t.split("\0").filter(s=>s)){let s=n.split(`
`,1)[0],l=n.slice(s.length+1);r.add(s,l)}return r}extraArgs(){return[]}};o(qT,"GitCLIConfigLoader");var Uy=qT,$T=class $T extends gc{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let s of this.loaders){let l=await s.getConfig(r,n);if(l)return l}}};o($T,"GitFallbackConfigLoader");var qy=$T;var qB=require("os"),HT=_n(Q5());var jT=class jT{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return HT.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=HT.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,s,l,a;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,qB.platform)()!=="win32"||((s=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?s:0)>1)){let f=(a=(l=t.groups)==null?void 0:l.host)!=null?a:"";return this._scheme="ssh",this.setAuthority(f),this.setPath(this.url.substring(f.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};o(jT,"GitRemoteUrl");var Hy=jT;var VT=class VT{async resolveRemote(t,r){var a,f,c,u;let n=await t.get(gc).getConfig(t,r);if(!n)return;let s=this.getRemotes(n),l=s.filter(d=>d.url.isGitHub());if(l.length)return(f=(a=l.find(d=>d.name==="origin"))==null?void 0:a.url)!=null?f:l[0].url;if(s.length)return(u=(c=s.find(d=>d.name==="origin"))==null?void 0:c.url)!=null?u:s[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var s;return{name:n,url:new Hy(this.applyInsteadOfRules(r,(s=t.get(`remote.${n}.url`))!=null?s:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.base))return n.insteadOf+r.slice(n.base.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};o(VT,"GitRemoteResolver");var jy=VT;var IK=100,GT=class GT{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,s,l,a,f,c,u,d,h;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(s=t==null?void 0:t[1])==null?void 0:s.replace(/\.git$/,"");let m=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((a=(l=this.remote)==null?void 0:l.hostname)!=null?a:"");m&&(this._tenant=(f=m.groups)==null?void 0:f.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((c=this.remote)==null?void 0:c.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let m=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((d=(u=this.remote)==null?void 0:u.hostname)!=null?d:"");m?(this._adoOrganization=(h=m.groups)==null?void 0:h.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};o(GT,"GitRepository");var zT=GT,Vy=class Vy{constructor(t){this.ctx=t;this.remoteResolver=new jy;this.cache=new Rs(IK)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let l=this.cache.get(t.toString());return this.updateCache(n,l),l}n.push(t.toString());let s=await this.tryGetRepoForFolder(t);if(s)return this.updateCache(n,s),s;r=t,t=Zk(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new zT(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await Vy.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(hc),s=_d.Utils.joinPath(r,".git");if((await n.stat(s)).type&1)return await this.getConfigLocationForGitfile(n,r,s);let a=_d.Utils.joinPath(s,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let l=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!l)return;let a=G9(r,l[1]),f=_d.Utils.joinPath(a,"config");if(await this.tryStat(t,f)!==void 0)return f;let c=_d.Utils.joinPath(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=_d.Utils.joinPath(a,"commondir");a=G9(a,(await t.readFileString(u)).trimEnd());let d=_d.Utils.joinPath(a,"config");return await t.stat(d),d}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};o(Vy,"RepositoryManager");var I1=Vy;var _S=_n(gL());var pv=o((e,t)=>{if(_S.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[..._S.Value.Errors(e,t)].map(s=>`${s.path} ${s.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var bS="contentExclusion",Kf,Cd,r6,vv,mL,f7,xv,pL,c7,CS,ES=class ES extends W8{constructor(r){super();qi(this,vv);qi(this,xv);qi(this,c7);qi(this,Kf,void 0);qi(this,Cd,new Rs(1e4));qi(this,r6,new Rs(200));qi(this,f7,By(async r=>{let n=await P0(this,Kf).get(Vl).getGitHubSession(P0(this,Kf));if(!n)throw new hu("No token found");let s=P0(this,Kf).get(jl).getContentRestrictionsUrl(n),l=new URL(s);l.searchParams.set("repos",r.join(","));let a=await P0(this,Kf).get(wa).fetch(l.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),f=await a.json();if(!a.ok){if(a.status===404)return Array.from(r,()=>[]);throw cl(this,c7,CS).call(this,"fetch.error",{message:f.message}),new fd(a)}return cl(this,c7,CS).call(this,"fetch.success"),pv(BY,f).map(c=>c.rules)},P0(this,r6)));Ii(this,Kf,r)}async evaluate(r){let n=r.fsPath;if(P0(this,Cd).has(n))return P0(this,Cd).get(n);try{let l=await cl(this,xv,pL).call(this,r);if(!l)return Iu;let a=r.path.replace(l.baseFolder.path,"");var s=await this.evaluateFileFromRepo(a,l.url)}catch(l){return Uf(P0(this,Kf),l,`${bS}.evaluate`),Q9}return P0(this,Cd).set(n,s),s}async evaluateFileFromRepo(r,n){let s=await cl(this,vv,mL).call(this,n);if(!s)return Iu;for(let l of s)for(let a of l.paths)if(Ja(r,a,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0}))return PY(l);return Ry}async refresh(){try{let r=[...P0(this,r6).keys()];this.reset(),await Promise.all(r.map(n=>P0(this,f7).call(this,n)))}catch(r){Uf(P0(this,Kf),r,`${bS}.refresh`)}}reset(){P0(this,r6).clear(),P0(this,Cd).clear()}};Kf=new WeakMap,Cd=new WeakMap,r6=new WeakMap,vv=new WeakSet,mL=o(async function(r){let n=await P0(this,f7).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),f7=new WeakMap,xv=new WeakSet,pL=o(async function(r){let s=await P0(this,Kf).get(I1).getRepo(r);if(!s||!(s!=null&&s.remote))return;let l=s.remote.getUrlForApi();if(l)return{baseFolder:s.baseFolder,url:l}},"#getGitRepo"),c7=new WeakSet,CS=o(function(r,n,s){Ai(P0(this,Kf),`${bS}.${r}`,ps.createAndMarkAsIssued(n,s))},"#telemetry"),o(ES,"CopilotContentRestrictions");var yv=ES;function PY(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(PY,"fileBlockedEvaluationResult");var RY=vf.Type.Object({name:vf.Type.String(),type:vf.Type.Union([vf.Type.Literal("Organization"),vf.Type.Literal("Repository")])}),NY=vf.Type.Object({paths:vf.Type.Array(vf.Type.String()),source:RY}),kY=vf.Type.Array(NY),DY=vf.Type.Object({rules:kY,last_updated_at:vf.Type.String()}),BY=vf.Type.Array(DY);var ca=_n(ql());var SS=class SS extends W8{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new Rs(200);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=By(async r=>{let n=new URL(fB),s=await this.ctx.get(Vl).getGitHubToken(this.ctx);if(!s)throw new hu("No GitHub token found");let l=this.ctx.get(aa),a=this.ctx.get(Aa),f=this.ctx.get(hl),c=this.ctx.get(wa),u={trackingid:`${f.trackingId}`,githubtoken:`${s}`,machineid:`${l.machineId}`,sessionid:`${l.sessionId}`,extname:`${a.getEditorPluginInfo().name}`,extversion:`${a.getEditorPluginInfo().version}`},d=await c.fetch(n.href,{headers:u,method:"POST",json:{repos:r}});if(d.ok){let m=await d.json();return u7.debug(this.ctx,"repositoryControl.fetch","success"),Ai(this.ctx,"repositoryControl.fetch.success"),pv(UY,m).map(p=>p.rules)}u7.debug(this.ctx,"repositoryControl.fetch","error"),Ai(this.ctx,"repositoryControl.fetch.error");let h=new fd(d);throw Uf(this.ctx,h,"repositoryControl.fetch"),h},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){Uf(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(s=>setTimeout(s,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let s=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,l=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(s>=this.maxRetryCount){Ai(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:s,waitMs:l},this.loaderWithRetry(r)}}async evaluate(r,n){try{let l=await this.ctx.get(I1).getRepo(r);if(!l||!l.remote)return Iu;let a=l.remote.getUrlForApi();if(!a)return Iu;let f=await this.fetchRepositoryPolicy(a);return f==="POLICY_NOT_AVAILABLE"?Q9:f==="NO_MATCHING_POLICY"?Iu:this._evaluate(r,n,f)}catch(s){return Uf(this.ctx,s,"repositoryControl.evaluate"),Q9}}async _evaluate(r,n,s){if(s!=null&&s.blocked)return TS(s);if(s.fileContent&&n){let l=s.fileContent.includes;if(n&&l&&l.length>0&&!new RegExp(l.join("|"),"i").test(n))return TS(s);let a=s.fileContent.excludes;if(n&&a&&a.length>0&&new RegExp(a.join("|"),"i").test(n))return TS(s)}return Ry}};o(SS,"CopilotRepositoryControl");var _v=SS;function TS(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(TS,"getBlockedRepoResponse");var LY=ca.Type.Object({name:ca.Type.String(),type:ca.Type.Union([ca.Type.Literal("Organization"),ca.Type.Literal("Repository")])}),FY=ca.Type.Object({fileContent:ca.Type.Optional(ca.Type.Object({includes:ca.Type.Optional(ca.Type.Array(ca.Type.String())),excludes:ca.Type.Optional(ca.Type.Array(ca.Type.String()))})),blocked:ca.Type.Optional(ca.Type.Boolean()),source:LY}),OY=ca.Type.Array(FY),MY=ca.Type.Object({rules:OY}),UY=ca.Type.Array(MY);var u7=new Pi(1,"contentExclusion");var ku,pc,Ed,bv,yL,Cv,vL,IS=class IS{constructor(t){this.ctx=t;qi(this,bv);qi(this,Cv);qi(this,ku,!1);qi(this,pc,null);qi(this,Ed,new yv(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!P0(this,ku)||!t)return;let r=await this.ctx.get(mf).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",s=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,s)},"onDidChangeActiveTextEditor");this.ctx.get(mf).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(hf).on("onCopilotToken",(r,n)=>{var l,a;Ii(this,ku,(l=n==null?void 0:n.copilotignore_enabled)!=null?l:!1),this.evaluateResultCache.clear(),P0(this,Ed).refresh();let s=(a=r.organization_list)!=null?a:[];cl(this,Cv,vL).call(this,s)})}get enabled(){return P0(this,ku)}async evaluate(t,r,n){var c;if(!P0(this,ku)||!z9(t.scheme))return{isBlocked:!1};let s=[],l=o(async(u,d)=>{let h=Date.now(),m=await d.evaluate(t,r),p=Date.now();return s.push({key:u,result:m,elapsedMs:p-h}),m},"track"),f=(c=(await Promise.all([P0(this,pc)&&l("repositoryControl.evaluate",P0(this,pc)),l("contentExclusion.evaluate",P0(this,Ed))])).find(u=>u==null?void 0:u.isBlocked))!=null?c:{isBlocked:!1};try{for(let u of s)cl(this,bv,yL).call(this,u.key,t,u.result,u.elapsedMs)}catch(u){console.log("Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(f.isBlocked,f.message),f}updateStatusIcon(t,r){P0(this,ku)&&(t?this.ctx.get(Tu).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(Tu).forceNormal())}set __repositoryControl(t){Ii(this,pc,t)}get __repositoryControl(){return P0(this,pc)}set __contentRestrictions(t){Ii(this,Ed,t)}get __contentRestrictions(){return P0(this,Ed)}};ku=new WeakMap,pc=new WeakMap,Ed=new WeakMap,bv=new WeakSet,yL=o(function(t,r,n,s){var u,d;let l=r.path+t;if(this.evaluateResultCache.get(l)===n.reason)return!1;if(this.evaluateResultCache.set(l,(u=n.reason)!=null?u:"UNKNOWN"),n.reason===Iu.reason)return u7.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let f={isBlocked:n.isBlocked?"true":"false",reason:(d=n.reason)!=null?d:"UNKNOWN"},c={elapsedMs:s};return Ai(this.ctx,t,ps.createAndMarkAsIssued(f,c)),Ai(this.ctx,t,ps.createAndMarkAsIssued({...f,path:r.path},c),1),u7.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),Cv=new WeakSet,vL=o(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(s=>t.includes(s));P0(this,ku)&&n?(P0(this,pc)||Ii(this,pc,new _v(this.ctx)),P0(this,pc).refresh()):Ii(this,pc,null)},"#refreshMSFTRepoControl"),o(IS,"CopilotRepositoryControlManager");var Z9=IS;var BS=_n(gu()),LS=require("path"),TL=_n(Q5());var xL=new Rs;function _L(e){return[...e].sort((t,r)=>{var l,a;let n=(l=xL.get(t.uri.toString()))!=null?l:0;return((a=xL.get(r.uri.toString()))!=null?a:0)-n})}o(_L,"sortByAccessTimes");var wS=class wS{constructor(t){this.docManager=t}async truncateDocs(t,r,n,s){let l=[],a=0;for(let f of t)if(!(a+f.getText().length>d7.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(f.uri.scheme==="file"&&r.scheme==="file"&&f.uri.fsPath!==r.fsPath&&AS(n,f.languageId)&&(l.push({uri:f.uri.toString(),relativePath:await this.docManager.getRelativePath(f),languageId:f.languageId,source:f.getText()}),a+=f.getText().length),l.length>=s))break;return l}async getNeighborFiles(t,r,n){let s=[],l=new Map;return s=await this.truncateDocs(_L(await this.docManager.textDocuments()),t,r,n),l.set("opentabs",s.map(a=>a.uri)),{docs:s,neighborSource:l}}};o(wS,"OpenTabFiles");var Ev=wS;function qY(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(qY,"defaultHash");function PS(e,t={}){let{hash:r=qY,cache:n=new Map}=t;return function(...s){let l=r.apply(this,s);if(n.has(l))return n.get(l);let a=e.apply(this,s);return a instanceof Promise&&(a=a.catch(f=>{throw n.delete(l),f})),n.set(l,a),a}}o(PS,"memoize");function bL(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(s=>{setTimeout(s,t,r)})])}}o(bL,"shortCircuit");var kS=class kS extends Rs{constructor(r,n=5*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){return this._cacheTimestamps.set(r,Date.now()),super.set(r,n)}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.get(r)&&super.delete(r)}};o(kS,"LRURelatedFileCacheMap");var RS=kS,Tv=new Pi(1,"relatedFiles"),$Y=1e3,DS=class DS{};o(DS,"RelatedFilesProvider");var NS=DS,CL=new Map,h7=o(async function(t,r,n,s,l){try{return await l.getRelatedFiles(r,n,s)}catch(a){return Tv.debug(t,"Error retrieving related files",a),CL}},"getRelatedFiles");h7=PS(h7,{cache:new RS($Y),hash:(e,t,r,n,s)=>`${t.uri}`});h7=bL(h7,200,CL);async function EL(e,t,r,n){let s=e.get(NS);return h7(e,t,r,n,s)}o(EL,"getRelatedFilesList");function AS(e,t){return(0,BS.normalizeLanguageId)(e)===(0,BS.normalizeLanguageId)(t)}o(AS,"considerNeighborFile");var A1=class A1{static reset(){A1.instance=void 0}static async getNeighborFiles(t,r,n,s){let l=t.get(mf);A1.instance===void 0&&(A1.instance=new Ev(l));let a=await A1.instance.getNeighborFiles(r,n.fileType,A1.MAX_NEIGHBOR_FILES),f=await l.getTextDocument(r);if(!f)return Tv.debug(t,"neighborFiles.getNeighborFiles","Failed to get the document"),a;let c=await l.getWorkspaceFolder(f),u=c?_y(c):void 0;if(c&&u){let d={relativePath:(0,LS.relative)(u,r.fsPath),uri:f.uri.toString(),languageId:f.languageId,source:f.getText()},h=await EL(t,d,c,s);h!=null&&h.size&&(h.forEach((m,p)=>{let v={relativePath:(0,LS.relative)(u,p),uri:TL.URI.file(p).toString(),languageId:f.languageId,source:m};a.docs.unshift(v)}),a.neighborSource.set("languageservice",Array.from(h.keys())))}else Tv.debug(t,"neighborFiles.getNeighborFiles","Failed to get the workspace folder");return a}};o(A1,"NeighborSource"),A1.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,A1.MAX_NEIGHBOR_FILES=20,A1.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var d7=A1;var OS=_n(gu());var v1e=IL(),F1e=new Pi(0,"retrieval");var wL=2.98410452738298,AL=-.838732736843507,PL=1.50314646255716,RL=-.237798634012662,NL={python:.314368072478742},kL={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var mce=new Pi(1,"restraint"),zY={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function GY(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),s=t.get(r),l=t.get(n);return l+(s-l)*(e-n)/(r-n)}o(GY,"linearInterpolation");var US=class US{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(s=>s)}contribution(t){return this.coefficient*this.transformation(t)}};o(US,"Regressor");var n6=US,qS=class qS{constructor(t,r,n){this.link=zY;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let s in n)this.logitsToQuantiles.set(n[s],Number(s))}predict(t,r){let n=this.intercept;for(let s of this.coefficients){let l=r[s.name];if(l===void 0)return NaN;n+=s.contribution(l)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return GY(n,this.logitsToQuantiles)}};o(qS,"LogisticRegression");var MS=qS,pce=new MS(wL,[new n6("compCharLen",AL,e=>Math.log(1+e)),new n6("meanLogProb",PL),new n6("meanAlternativeLogProb",RL)].concat(Object.entries(NL).map(e=>new n6(e[0],e[1]))),kL);var Hue=new Pi(1,"ghostText");var jue=new vy;var g7=class g7{constructor(t=!1){this.requestMultilineOverride=t}};o(g7,"ForceMultiLine"),g7.default=new g7;var m7=g7;var DL=require("events");var $S=class $S extends DL.EventEmitter{};o($S,"PostInsertionNotifier");var i6=$S;var E5e=new Pi(1,"postInsertion");var B5e=new Pi(1,"ghostText"),s6,o6,a6,HS=class HS{constructor(){qi(this,s6,void 0);qi(this,o6,void 0);qi(this,a6,[])}get position(){return P0(this,s6)}get shownCompletions(){return P0(this,a6)||[]}get uri(){return P0(this,o6)}resetState(){Ii(this,o6,void 0),Ii(this,s6,void 0),Ii(this,a6,[])}setState(t,r){Ii(this,o6,t),Ii(this,s6,r),Ii(this,a6,[])}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};s6=new WeakMap,o6=new WeakMap,a6=new WeakMap,o(HS,"LastGhostText");var p7=HS;var l6={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};var BL=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],LL={".php":[".blade"]},FL=Object.keys(l6).flatMap(e=>l6[e].extensions);var Sv=require("path"),WS=class WS{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};o(WS,"Language");var a3=WS,YS=class YS{};o(YS,"LanguageDetection");var Bu=YS;function OL(e){return new jS(new KS(new GS(new zS)),new VS(e))}o(OL,"getLanguageDetection");var JS=class JS extends Bu{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new Rs(100)}detectLanguage(r){let n=Sv.basename(r.uri.path);return JY(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}detectLanguageForRegularFile(r,n){let s=this.cache.get(r);return s||(s=this.delegate.detectLanguage(n),s.isGuess||this.cache.set(r,s)),s}};o(JS,"CachingLanguageDetection");var jS=JS;function JY(e){return e.endsWith(".ipynb")}o(JY,"isNotebook");var XS=class XS extends Bu{constructor(r){super();this.ctx=r}detectLanguage(r){let s=this.ctx.get(mf).findNotebook(r);return s?this.detectCellLanguage(r,s):new a3("python",!1,".ipynb")}detectCellLanguage(r,n){let s=n.getCells().find(l=>l.document.uri.toString()===r.uri.toString());return s?new a3(s.document.languageId,!1,".ipynb"):new a3("unknown",!1,".ipynb")}};o(XS,"NotebookLanguageDetection");var VS=XS,ZS=class ZS extends Bu{detectLanguage(t){let r=Sv.basename(t.uri.path),n=Sv.extname(r).toLowerCase(),s=this.extensionWithoutTemplateLanguage(r,n),l=this.detectLanguageId(r,s);return new a3(l.languageId,l.isGuess,this.computeFullyQualifiedExtension(n,s))}extensionWithoutTemplateLanguage(t,r){if(BL.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),s=Sv.extname(n).toLowerCase();if(s.length>0&&FL.includes(s)&&this.isExtensionValidForTemplateLanguage(r,s))return s}return r}isExtensionValidForTemplateLanguage(t,r){let n=LL[t];return!n||n.includes(r)}detectLanguageId(t,r){var l,a;let n=[],s=[];for(let f in l6){let c=l6[f];if(c.filenames){if(c.filenames.includes(t))return{languageId:f,isGuess:!1};c.filenames.some(u=>t.startsWith(u+"."))&&s.push(f)}c.extensions.includes(r)&&n.push(f)}return(a=(l=this.determineLanguageIdByCandidates(n))!=null?l:this.determineLanguageIdByCandidates(s))!=null?a:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(t){if(t.length===1)return{languageId:t[0],isGuess:!1};if(t.length>1)return{languageId:t[0],isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};o(ZS,"FilenameAndExensionLanguageDetection");var zS=ZS,QS=class QS extends Bu{constructor(r){super();this.delegate=r}detectLanguage(r){let n=this.delegate.detectLanguage(r),s=n.languageId;return s==="c"||s==="cpp"?new a3("cpp",n.isGuess,n.fileExtension):n}};o(QS,"GroupingLanguageDetection");var GS=QS,eI=class eI extends Bu{constructor(r){super();this.delegate=r}detectLanguage(r){return r.uri.scheme==="untitled"?new a3(r.languageId,!0,""):this.delegate.detectLanguage(r)}};o(eI,"UntitledLanguageDetection");var KS=eI;var oM=_n(require("fs")),aM=require("tls");var ox=new Pi(1,"certificates"),pw=class pw{};o(pw,"RootCertificateReader");var Yl=pw;function lM(e,t=process.platform){return new fw(e,[new cw,new uw,OQ(e,t)])}o(lM,"getRootCertificateReader");function OQ(e,t){switch(t){case"linux":return new dw(e);case"darwin":return new hw(e);case"win32":return new gw(e);default:return new mw}}o(OQ,"createPlatformReader");var yw=class yw extends Yl{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return ox.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};o(yw,"ErrorHandlingCertificateReader");var lw=yw,vw=class vw extends Yl{constructor(t,r){super(),this.delegates=r.map(n=>new lw(t,n))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(t=>t.getAllRootCAs()))).flat()),this.certificates}};o(vw,"CachingRootCertificateReader");var fw=vw,xw=class xw extends Yl{async getAllRootCAs(){return aM.rootCertificates}};o(xw,"NodeTlsRootCertificateReader");var cw=xw,_w=class _w extends Yl{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await fM(t):[]}};o(_w,"EnvironmentVariableRootCertificateReader");var uw=_w,bw=class bw extends Yl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let s=await fM(n);ox.debug(this.ctx,`Read ${s.length} certificates from ${n}`),r=r.concat(s)}return r}};o(bw,"LinuxRootCertificateReader");var dw=bw,Cw=class Cw extends Yl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=iM(),n=r.all(r.der2.pem).filter(s=>s!==void 0);return ox.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};o(Cw,"MacRootCertificateReader");var hw=Cw,Ew=class Ew extends Yl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=sM().all();return ox.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};o(Ew,"WindowsRootCertificateReader");var gw=Ew,Tw=class Tw extends Yl{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};o(Tw,"UnsupportedPlatformRootCertificateReader");var mw=Tw;async function fM(e){try{let n=(await oM.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(l=>l.length>0),s=new Set(n);return Array.from(s)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}o(fM,"readCertsFromFile");var AM=_n(require("http"));var uee=407,el=new Pi(0,"proxySocketFactory"),kw=class kw{};o(kw,"ProxySocketFactory");var _3=kw,Dw=class Dw extends Error{constructor(t,r,n){var s,l,a;super(t),this.code=r==null?void 0:r.code,this.syscall=r==null?void 0:r.syscall,this.errno=r==null?void 0:r.errno,/^Failed to establish a socket connection to proxies:/.test((s=r==null?void 0:r.message)!=null?s:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((l=r==null?void 0:r.message)!=null?l:"")?this.code="ProxyInitializeSecurityContext":(r==null?void 0:r.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((a=r==null?void 0:r.message)!=null?a:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};o(Dw,"ProxySocketError");var Dd=Dw;function PM(e){return new Pw(e,new Rw(e))}o(PM,"getProxySocketFactory");var Bw=class Bw extends _3{constructor(r,n,s=new Nw,l=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=s;this.platform=l;this.successfullyAuthorized=new Rs(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(el.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(s){if(s instanceof Dd&&s.code===`ProxyStatusCode${uee}`){el.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let l=await this.authorizeAndCreateSocket(r,n);if(l)return el.debug(this.ctx,"Proxy authorization successful, caching result"),Ai(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),l}throw s}}async reauthorize(r,n){let s=await this.authorize(n);s&&(el.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+s)}async authorizeAndCreateSocket(r,n){let s=await this.authorize(n);if(el.debug(this.ctx,"Proxy authorization successful, received token"),s)return el.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+s,await this.delegate.createSocket(r,n)}async authorize(r){el.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),s=this.computeSpn(r);el.debug(this.ctx,"Initializing kerberos client using spn",s);let l=await n.initializeClient(s);el.debug(this.ctx,"Perform client side kerberos step");let a=await l.step("");return el.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return el.debug(this.ctx,"Using configured kerberos spn",n),n;let s=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return el.debug(this.ctx,"Using default kerberos spn",s),s}getProxyCacheKey(r){return r.host+":"+r.port}};o(Bw,"KerberosProxySocketFactory");var Pw=Bw,Lw=class Lw extends _3{constructor(r){super();this.ctx=r}async createSocket(r,n){let s=this.createConnectRequestOptions(r,n);return new Promise((l,a)=>{el.debug(this.ctx,"Attempting to establish connection to proxy");let f=AM.request(s);f.useChunkedEncodingByDefault=!1,f.once("connect",(c,u,d)=>{el.debug(this.ctx,"Socket Connect returned status code",c.statusCode),f.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new Dd(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):d.length>0?(u.destroy(),a(new Dd(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(el.debug(this.ctx,"Successfully established tunneling connection to proxy"),l(u))}),f.once("error",c=>{el.debug(this.ctx,"Proxy socket connection error",c.message),f.removeAllListeners(),a(new Dd(`tunneling socket could not be established, cause=${c.message}`,c))}),f.on("timeout",()=>{el.debug(this.ctx,"Proxy socket connection timeout"),a(new Dd(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${s.host}:${s.port}`,void 0,"ProxyTimeout"))}),f.end()})}createConnectRequestOptions(r,n){let s=`${r.hostname}:${r.port}`,l={...n,method:"CONNECT",path:s,agent:!1,headers:{host:s,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(l.localAddress=r.localAddress),this.configureProxyAuthorization(l,r),l}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};o(Lw,"TunnelingProxySocketFactory");var Rw=Lw,Fw=class Fw{load(){return wM()}};o(Fw,"KerberosLoader");var Nw=Fw;var DM=require("os"),k1=_n(Q5());var dee=new Pi(1,"repository"),Bd="\\\\",BM="(?:[#;].*)",w6=`(?:[^"${Bd}]|${Bd}.)`,hee="[0-9A-Za-z-]",RM=`[A-Za-z]${hee}*`,LM=`\\s*${BM}?$`,FM=`(?:[^"${Bd};#]|${Bd}.)`,gee=`(?:"${w6}*"|"${w6}*(?<strCont>${Bd})$)`,mee=`(?:${FM}|${gee})+`,pee=`(?:(?<cont>${Bd})$)`,OM=`(?<value>${mee})${pee}?${LM}`,NM=new RegExp(`^${OM}`),yee=new RegExp(`^(?<value>${w6}*(?:(?<strCont>${Bd})$|(?<quote>")))`),vee=new RegExp(`^\\s*(?:(?<key>${RM})\\s*=\\s*${OM}|(?<soloKey>${RM})${LM})`),xee=new RegExp(`(?<value>${FM}+)|"(?<string>${w6}*)"`,"g"),kM="[-.0-9A-Za-z]+",_ee=`\\s+"(?<ext>${w6}*)"`,bee=`\\s+"(?<extOnly>${w6}*)"`,Cee=new RegExp(`^\\s*\\[(?:(?<simple>${kM})${_ee}|${bee}|(?<simpleOnly>${kM}))\\]`),Eee=new RegExp(`^\\s*${BM}$`),Mw=class Mw{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(Cee);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,s,l;let t=this.line.match(vee);if(t){if((r=t.groups)!=null&&r.key){let a=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),a)}else(s=t.groups)!=null&&s.soloKey&&((l=this.configValueHandler)==null||l.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var s,l,a;let r=t,n=[this.matchedValue(r)];for(;(s=r==null?void 0:r.groups)!=null&&s.cont||(l=r==null?void 0:r.groups)!=null&&l.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(yee),r?(n.push(this.matchedValue(r)),(a=r.groups)!=null&&a.quote&&(r=this.line.slice(r[0].length).match(NM),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(NM),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(xee)].map(s=>{var l;return(l=s.groups)!=null&&l.value?(r=!0,this.unescapeValue(s.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(s.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,s)=>r[s]||s)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Eee.test(this.line)&&(this.line="")}};o(Mw,"GitConfigParser");var Ow=Mw,Uw=class Uw extends gc{async getConfig(t,r){let n=await I1.getRepoConfigLocation(t,r);if(!n)return;let s=await this.getParsedConfig(t,n);if(s)return this.mergeConfig(await this.baseConfig(t,n),s)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new Z8)}async getParsedConfig(t,r,n=!0){let s=await this.tryLoadConfig(t,r,n);if(!s)return;let l=new Ow(s),a=new Z8;return l.parse((f,c)=>a.add(f,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(hc).readFileString(r)}catch(s){(n||s.code!=="ENOENT")&&dee.warn(t,`Failed to load git config from ${r.toString()}: ${s}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),s=k1.Utils.joinPath(this.xdgConfigUri(),"git","config"),l=k1.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,s,!1),await this.getParsedConfig(t,l,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(k1.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=k1.Utils.dirname(r),s=k1.Utils.joinPath(n,"commondir");try{let l=(await t.get(hc).readFileString(s)).trimEnd();return k1.Utils.joinPath(G9(n,l),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?k1.URI.file(process.env.XDG_CONFIG_HOME):k1.Utils.joinPath(this.homeUri(),".config")}homeUri(){return k1.URI.file((0,DM.homedir)())}};o(Uw,"GitParsingConfigLoader");var ux=Uw;var UM=_n(require("events"));var MM="onWorkspaceChanged",qw=class qw{constructor(){this.emitter=new UM.default}onChange(t){this.emitter.on(MM,t)}emit(t){this.emitter.emit(MM,t)}};o(qw,"WorkspaceNotifier");var D7=qw;function qM(e){let t=new hy;return t.set(dd,e),t.set(td,new td),t.set(bl,new bl),Tee(t),t.set(H8,new H8),t.set(hf,new hf),t.set(Yl,lM(t)),t.set(_3,PM(t)),t.set(Bu,OL(t)),t.set(ma,new ma(t)),t.set(i6,new i6),t.set(hl,new hl(t)),t.set($f,new $f),t.set(Z5,new Z5),t.set(ld,new ld),t.set(pd,new pd),t.set(j8,new j8),t.set(yd,new Y9),t.set(F8,new Zp),t.set(cd,new Gp),t.set(Cl,new Cl),t.set($w.SnippetOrchestrator,new $w.SnippetOrchestrator),t.set(p7,new p7),t.set(m7,m7.default),t.set(I1,new I1(t)),t.set(gc,new qy([new Uy,new ux])),t.set(D7,new D7),t}o(qM,"createProductionContext");function Tee(e){e.set(md,md.fromEnvironment(!1)),e.set(O8,new O8(XN(e))),e.set(M8,new sy(console))}o(Tee,"setupRudimentaryLogging");var pde=new Pi(0,"context");var va=_n(Q5());var HM="github.com",$M=`https://${HM}`,See="https://api.githubcopilot.com",Iee="https://copilot-telemetry.githubusercontent.com/telemetry",Hw=class Hw extends jl{constructor(r=$M,n=process.env){super();this.env=n;this.recalculateUrls(r)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUri.authority}getTokenUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.copilotTokenUrl)!=null?s:this.tokenUrl}getNotificationUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.notificationUrl)!=null?s:this.notificationUrl}getContentRestrictionsUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.contentRestrictionsUrl)!=null?s:this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getCAPIUrl(r){let n=X5(r)?gd(r,hd.DebugTestOverrideCapiUrl):gd(r,hd.DebugOverrideCapiUrl);return n.length==0?this.capiUrl:n}getBlackbirdCodeSearchUrl(r){let n=this.getCAPIUrl(r);return va.Utils.joinPath(va.URI.parse(n),"/search/code").toString()}getBlackbirdDocsSearchUrl(r){let n=this.getCAPIUrl(r);return va.Utils.joinPath(va.URI.parse(n),"/search/docs").toString()}getEmbeddingsUrl(r){let n=this.getCAPIUrl(r);return va.Utils.joinPath(va.URI.parse(n),"/embeddings").toString()}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}updateBaseUrl(r,n){n||(n=$M);let s=this.baseUri;if(this.recalculateUrls(n),s.toString()!==this.baseUri.toString()){r.get(Vl).resetCopilotToken(r);let l=r.get(Z5);l.isInitialized&&l.reInitialize(r)}}recalculateUrls(r){let n=this.parseUris(r);this.baseUri=n.base;let s=n.api;this.isEnterprise=this.baseUri.authority!==HM,this.tokenUrl=va.Utils.joinPath(s,"/copilot_internal/v2/token").toString(),this.notificationUrl=va.Utils.joinPath(s,"/copilot_internal/notification").toString(),this.contentRestrictionsUrl=va.Utils.joinPath(s,"/copilot_internal/content_exclusion").toString(),this.blackbirdIndexingStatusUrl=va.Utils.joinPath(s,"/copilot_internal/check_indexing_status").toString(),this.deviceFlowStartUrl=va.Utils.joinPath(this.baseUri,"/login/device/code").toString(),this.deviceFlowCompletionUrl=va.Utils.joinPath(this.baseUri,"/login/oauth/access_token").toString(),this.userInfoUrl=va.Utils.joinPath(s,"/user").toString(),this.capiUrl=this.isEnterprise?this.baseUri.with({authority:`copilot-api.${this.baseUri.authority}`}).toString():See,this.telemetryUrl=this.isEnterprise?this.baseUri.with({authority:`copilot-telemetry-service.${this.baseUri.authority}`,path:"/telemetry"}).toString():Iee}parseUris(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:va.URI.parse(this.env.GITHUB_SERVER_URL,!0),api:va.URI.parse(this.env.GITHUB_API_URL,!0)}}catch{}let n=va.URI.parse(r),s=va.URI.parse(`${n.scheme}://api.${n.authority}`);return{base:n,api:s}}};o(Hw,"DefaultNetworkConfiguration");var dx=Hw;var jM=require("os");var wee=require("crypto"),Aee=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function Pee(e){let t=e.replace(/-/g,":").toLowerCase();return!Aee.has(t)}o(Pee,"validateMacAddress");function Ree(){let e=(0,jM.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(Pee(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(Ree,"getMac");var jw;function Nee(){try{let e=Ree();return wee.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(Nee,"getMacMachineId");function VM(){return jw||(jw=Nee()||Z2()),jw}o(VM,"getMachineId");var zM=_n(require("tls"));var Vw=class Vw{constructor(t){this._certificateReader=t.get(Yl)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=zM.createSecureContext(n),t.ca=r,t.cert=r,r.map(s=>{t.secureContext.context.addCACert(s)})}};o(Vw,"RootCertificateConfigurator");var hx=Vw;var zw=class zw extends wa{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async s=>{s.rejectUnauthorized=n,s.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(s,l)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new hx(r),this.proxySocketFactory=r.get(_3)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(bl);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),LN({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let s={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let a=await this.fetchApi.fetch(r,s);return new zp(a.status,a.statusText,a.headers,()=>a.text(),async()=>a.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new FN}};o(zw,"HelixFetcher");var gx=zw;var KM=GC(),kee=Z2()+Date.now();async function WM(){let e=qM(new Qp);return e.set(jl,new dx),e.set(wa,new gx(e)),e.set(Aa,new Gw(await Dee())),e.set(aa,new aa(kee,VM())),e.forceSet(Cl,new ay),await cE(e,KM.name,!0),e}o(WM,"createUninstallContext");async function Dee(){let e="unknown";try{return await new Promise((t,r)=>{var s;let n=(0,GM.spawn)("code -v",{shell:!0,stdio:"pipe"});(s=n.stdout)==null||s.on("data",l=>{e==="unknown"&&(e=l.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",l=>r(l))})}catch{return e}}o(Dee,"lookupVscodeVersion");var Kw=class Kw extends Aa{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:KM.version}}};o(Kw,"UninstallEditorInfo");var Gw=Kw;async function Bee(){let e=await WM(),t=new dy;process.argv.includes("--dry-run")||await t.uninstall(e)}o(Bee,"doUninstall");Bee().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
